{"version":3,"sources":["webpack:///webpack/bootstrap 2ab3f6b4e9a55ae7fab1","webpack:///./src/js/plugin-types/ProtoPlugin.js","webpack:///./src/js/Configuration.js","webpack:///./src/js/events/default-events.js","webpack:///./src/js/lib/triple/cookie.js","webpack:///./src/js/plugin-types/Media.js","webpack:///./index.js","webpack:///./~/noop2/index.js","webpack:///./src/js/ExtraEvents.js","webpack:///./src/js/FullscreenController.js","webpack:///./src/js/Localization.js","webpack:///./src/js/MediaController.js","webpack:///./src/js/Meister.js","webpack:///./src/js/Parallel.js","webpack:///./src/js/Playlist.js","webpack:///./src/js/PluginLoader.js","webpack:///./src/js/errorCodes.js","webpack:///./src/js/events/ad-events.js","webpack:///./src/js/events/control-events.js","webpack:///./src/js/events/global-events.js","webpack:///./src/js/events/item-events.js","webpack:///./src/js/events/player-events.js","webpack:///./src/js/events/playlist-events.js","webpack:///./src/js/events/ui-events.js","webpack:///./src/js/lib/triple/event-handler.js","webpack:///./src/js/localization/default-en.js","webpack:///./src/js/localization/default-nl.js","webpack:///./src/js/localization/i18n.js","webpack:///./src/js/plugin-types/Analytics.js","webpack:///./src/js/plugin-types/Middleware.js","webpack:///./src/js/plugin-types/Parser.js","webpack:///./src/js/plugin-types/Player.js","webpack:///./src/js/plugin-types/Ui.js","webpack:///./src/js/plugin-types/UiPlugin.js","webpack:///./src/js/utils/Browser.js","webpack:///./src/js/utils/BrowserPolyfill.js","webpack:///./src/js/utils/ElementUtils.js","webpack:///./src/js/utils/Utils.js","webpack:///./package.json"],"names":["ProtoPlugin","config","meister","name","eventStore","on","destroy","bind","hook","handler","push","block","one","remove","unload","ENVIRONMENT","store","production","global","autoplay","controls","startMuted","debug","audioOnly","Dash","dvrThreshold","dvrEnabled","Hls","development","Configuration","key","value","options","Object","keys","forEach","plugins","plugin","EventDefaults","Cookie","date","expires","toGMTString","document","cookie","keyEQ","ca","split","i","length","charAt","substring","indexOf","substr","set","Media","Promise","resolve","supported","errorCode","Meister","ErrorCodes","WRONG_TYPE","item","console","warn","log","type","src","Number","isFinite","startPosition","playerLoadedMetadata","_onPlayerTimeUpdate","_onPlayerSeek","onRequestSeek","blockSeekForward","player","duration","startPositionCompleted","trigger","targetTime","forcedStart","error","debugEnabled","NaN","time","module","exports","noop","ExtraEvents","meisterInstance","window","onfocus","eventHandler","onForeground","onblur","addEventListener","visibility","visibilityState","FullscreenController","fullscreenElement","defaultWrapper","customFullscreenElement","element","querySelector","Node","fullscreenOnDoubleClick","browser","isiOS","isAndroid","tapped","controlsWrapper","doubleTapCheck","toggleFullscreen","mozFullScreenElement","webkitFullscreenElement","msFullscreenElement","playerPlugin","mediaElement","webkitEnterFullscreen","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","Element","ALLOW_KEYBOARD_INPUT","msRequestFullscreen","exitFullscreen","cancelFullScreen","mozCancelFullScreen","webkitCancelFullScreen","msExitFullscreen","webkitExitFullScreen","setTimeout","clearTimeout","isFullscreen","cancelFullscreen","currentLanguage","languageBag","Localization","i18nOn","setFromFormattedObject","valueOrObj","language","i18nObject","languageKey","lang","MediaController","currentPlugin","adBreakPlaying","disableLoadDuringAd","getPluginFor","then","process","processedItem","promise","load","catch","err","title","newItem","loadNewItem","pluginLoader","getPluginByItem","result","currentItem","currentTime","top","instances","query","userOptions","defaultOptions","assign","wrapper","Error","instanceId","Math","random","utils","elementUtils","init","getGlobals","setLanguage","i18nEnabled","isMobile","isNonAutoPlay","wasAutoplay","iosPlaysInline","container","createElement","playerWrapper","adWrapper","classList","add","classListAdd","appendChild","overwrite","drawUiPlugins","loadAnalyticsPlugins","register","playlist","mediaController","fullscreenController","id","instance","loadCurrentIndex","innerHTML","filter","triggerByUser","mediaItem","getPlayerPluginByType","TypeError","list","switchItem","caller","events","callback","disable","enable","message","code","volume","muted","playing","registerMiddleware","version","registeredPlugins","getRegistered","pluginName","Plugin","toLowerCase","alreadyExists","findIndex","resultPlugin","pluginVersion","MediaPlugin","ParserPlugin","PlayerPlugin","Ui","UiPlugin","AnalyticsPlugin","Middleware","Browser","PluginLoader","Vinson","Parallel","bitrates","currentBitrateIndex","reject","processPromises","floor","sampleItem","metadata","sort","a","b","bitrate","selectableBitrates","default","index","currentIndex","itemPlugin","getPluginsPromises","parallel","parallelItem","all","onRequestBitrate","info","bitrateIndex","changeBitrate","switchTime","wasPlaying","play","newBitrate","newBitrateIndex","Playlist","next","previous","goTo","e","Array","newList","slice","newIndex","loaded","registeredMiddleware","find","newOptions","builtIn","get","pluginConfig","execMiddleware","middleware","drmConfig","isItemSupportedPromises","pluginsInConsideration","isItemSupported","isSupported","items","supportInfo","isTypeSupported","draw","isAnalytics","middlewares","middlewareObject","getMiddleware","processMiddlewares","alreadyRegistered","errorCodes","NOT_SUPPORTED","NO_DRM","NO_MEDIA_FOUND","FAIRPLAY_CONTENT_ID_FUNCTION_ERROR","AdEvents","ControlEvents","GlobalEvents","ItemEvents","PlayerEvents","PlaylistEvents","UiEvents","EventHandler","eventHooks","counter","disabledHandles","protectedHandles","stack","eventHook","hooks","method","Function","hooksArray","isArray","newHandles","newHandle","_createHandler","hookArg","blockArg","methodArg","callerArg","eventsArray","eventObject","handle","event","args","splice","single","apply","eventHandle","hookIndex","English","VIDEO_ACQUIRING_LICENSE","VIDEO_BUFFERING","VIDEO_ACQUIRING_MANIFEST","INITIALIZING","NONE","AD_COUNT","OF_COUNT","Dutch","i18n","en","nl","SOMETHING_WENT_WRONG","COULD_NOT_PLAY_CONTENT","NETWORK_ERROR","Analytics","uppercasedHandle","toUpperCase","funcName","deferLogging","Parser","Player","pause","cookieVolume","style","display","url","playerType","parentSelector","parentElement","onUiReady","parent","pluginSpace","onPluginOpen","onPluginClose","icon","userAgent","navigator","browserInfo","uaRegEx","parts","match","extra","test","exec","parseInt","parseFloat","appName","appVersion","isSafari","isEdge","isChrome","isChrome64","isFirefox","isLegacyIE","ActiveXObject","isIE","isIE11","isChromecast","isWindowsPhone","isWin8App","isWiiU","isPS4","isSamsungBrowser","isSamsung","isMacintosh","isFacebook","BrowserPolyfill","prototype","parentNode","removeChild","ElementUtils","className","timeToHMS","bitrateToResolution","resolveUrl","isDOMNode","isNaN","hours","minutes","seconds","kbps","basePath","path","oldBase","docHead","base","oldHref","href","node","HTMLElement","nodeType","ownerDocument"],"mappings":"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","file":"dist/Meister.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 38);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 2ab3f6b4e9a55ae7fab1","class ProtoPlugin {\n    constructor(config, meister) {\n        this.config = config;\n        this.meister = meister;\n        this.name = this.config.name;\n\n        this.eventStore = [];\n\n        // Don't store this in the eventStore as this messes up unloading of several child classes.\n        this.meister.on('requestDestroy', this.destroy.bind(this), this.name);\n    }\n\n    on(hook, handler) {\n        this.eventStore.push(...this.meister.on(hook, handler, this.name));\n    }\n\n    one(hook, block, handler) {\n        this.eventStore.push(this.meister.one(hook, block, handler, this.name));\n    }\n\n    unload() {\n        this.meister.remove(this.eventStore);\n        this.eventStore = [];\n    }\n\n    destroy() {\n        this.unload();\n    }\n}\n\nexport default ProtoPlugin;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/plugin-types/ProtoPlugin.js","const ENVIRONMENT = 'development';\n\nconst store = {\n    production: {\n        global: {\n            autoplay: false,\n            controls: true,\n            startMuted: false,\n            debug: false,\n            audioOnly: false,\n        },\n        Dash: {\n            dvrThreshold: 300,\n            dvrEnabled: true,\n        },\n        Hls: {\n            dvrEnabled: true,\n        },\n    },\n\n    development: {\n        global: {\n            autoplay: false,\n            controls: true,\n            startMuted: false,\n            debug: false,\n            audioOnly: false,\n        },\n        Dash: {\n            dvrThreshold: 300,\n            dvrEnabled: true,\n        },\n        Hls: {\n            dvrEnabled: true,\n        },\n    },\n};\n\n\nclass Configuration {\n\n    static set(key, value) {\n        store[ENVIRONMENT][key] = value;\n    }\n\n    static get(key) {\n        return store[ENVIRONMENT][key];\n    }\n\n    static getGlobals(options) {\n        Object.keys(options).forEach((key) => {\n            store[ENVIRONMENT].global[key] = options[key];\n        });\n\n        return store[ENVIRONMENT].global;\n    }\n\n    static overwrite(plugins) {\n        // For all plugins..\n        Object.keys(plugins).forEach((plugin) => {\n            if (!store[ENVIRONMENT][plugin]) {\n                // If not, create a new config object and move on\n                store[ENVIRONMENT][plugin] = plugins[plugin];\n                return;\n            }\n\n            Object.keys(plugins[plugin]).forEach((config) => {\n                store[ENVIRONMENT][plugin][config] = plugins[plugin][config];\n            });\n        });\n    }\n\n    static getAll() {\n        return store[ENVIRONMENT];\n    }\n}\n\nexport default Configuration;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/Configuration.js","import AdEvents from './ad-events';\nimport ControlEvents from './control-events';\nimport ItemEvents from './item-events';\nimport GlobalEvents from './global-events';\nimport PlayerEvents from './player-events';\nimport PlaylistEvents from './playlist-events';\nimport UiEvents from './ui-events';\n\nconst EventDefaults = [];\n\nEventDefaults.push(...AdEvents);\nEventDefaults.push(...ControlEvents);\nEventDefaults.push(...ItemEvents);\nEventDefaults.push(...GlobalEvents);\nEventDefaults.push(...PlayerEvents);\nEventDefaults.push(...PlaylistEvents);\nEventDefaults.push(...UiEvents);\n\nexport default EventDefaults;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/events/default-events.js","class Cookie {\n    static set(key, value, date = null) {\n        let expires = '';\n\n        if (date !== null) {\n            expires = `; expires=${date.toGMTString()}`;\n        }\n\n        document.cookie = `${key}=${value}${expires}; path=/`;\n    }\n\n    static get(key) {\n        const keyEQ = `${key}=`;\n        const ca = document.cookie.split(';');\n\n        for (let i = 0; i < ca.length; i += 1) {\n            let cookie = ca[i];\n\n            while (cookie.charAt(0) === ' ') cookie = cookie.substring(1, cookie.length);\n            if (cookie.indexOf(keyEQ) === 0) return cookie.substr(keyEQ.length, cookie.length);\n        }\n\n        return null;\n    }\n\n    static delete(key) {\n        this.set(key, '', -1);\n    }\n}\n\nexport default Cookie;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/lib/triple/cookie.js","import ProtoPlugin from './ProtoPlugin';\n\nclass Media extends ProtoPlugin {\n    /**\n     * Checking if an item is supported by the plugin\n     * @return {boolean} Default always returns false.\n     */\n    // eslint-disable-next-line class-methods-use-this\n    isItemSupported() {\n        return new Promise(resolve => resolve({\n            supported: false,\n            errorCode: Meister.ErrorCodes.WRONG_TYPE,\n        }));\n    }\n\n    get currentItem() {\n        console.error(`${this.name} does not support this method.`);\n        return null;\n    }\n\n    /**\n     * Get the duration of the media.\n     * Method should be implemented by the inheriting class.\n     * @readonly\n     * @memberof Media\n     * @returns {Number|NaN}\n     */\n    get duration() {\n        if (this.meister.debugEnabled) {\n            console.error(`${this.name} does not provide a duration getter.`);\n        }\n\n        return NaN;\n    }\n\n    /**\n     * Get the playback position in the media.\n     * Method should be implemented by the inheriting class.\n     * @readonly\n     * @memberof Media\n     * @returns {Number|NaN}\n     */\n    get currentTime() {\n        if (this.meister.debugEnabled) {\n            console.error(`${this.name} does not provide a currentTime getter.`);\n        }\n\n        return NaN;\n    }\n\n    /**\n     * Set the playback position in the media.\n     * Method should be implemented by the inheriting class.\n     * @memberof Media\n     */\n    set currentTime(time) {\n        if (this.meister.debugEnabled) {\n            console.error(`${this.name} does not provide a currentTime setter.`);\n        }\n    }\n\n    /**\n     * Process is for reading metadata/parsing\n     */\n    // eslint-disable-next-line class-methods-use-this\n    process(item) {\n        return new Promise((resolve) => {\n            console.warn('Process not implemented. Player may not play correctly.');\n            resolve(item);\n        });\n    }\n\n    /**\n     * Registers events and prepares for play.\n     */\n    load(item) {\n        if (this.meister.config.debug) {\n            console.log(`Loading item with type '${item.type}' and src '${item.src}'`);\n        }\n        if (Number.isFinite(item.startPosition)) {\n            this.startPosition = item.startPosition;\n        }\n\n        this.on('playerLoadedMetadata', () => this.playerLoadedMetadata());\n        this.on('_playerTimeUpdate', this._onPlayerTimeUpdate.bind(this));\n        this.on('_playerSeek', this._onPlayerSeek.bind(this));\n        this.on('requestSeek', this.onRequestSeek.bind(this));\n\n        this.blockSeekForward = !!item.blockSeekForward;\n    }\n\n    playerLoadedMetadata() {\n        // when startPosition is within the duration of the current video\n        if (this.startPosition > 0 && this.player.duration > this.startPosition) {\n            if (this.startPositionCompleted) return;\n            this.startPositionCompleted = true;\n\n            this.meister.trigger('requestSeek', {\n                targetTime: this.startPosition,\n                forcedStart: true,\n            });\n        }\n    }\n\n    _onPlayerTimeUpdate() {\n        console.error(`${this.name} does not implement '_onPlayerTimeUpdate', event ignored.`);\n    }\n\n    _onPlayerSeek() {\n        console.error(`${this.name} does not implement '_onPlayerSeek', event ignored.`);\n    }\n\n    onRequestSeek() {\n        console.error(`${this.name} does not implement 'onRequestSeek', event ignored.`);\n    }\n\n    /**\n     * Unloads events that you dont need anymore.\n     */\n    unload() {\n        super.unload();\n        this.startPositionCompleted = false;\n        this.startPosition = null;\n        this.blockSeekForward = false;\n    }\n\n    /**\n     * Destroys the whole plugin.\n     */\n    destroy() {\n        super.destroy();\n    }\n}\n\nexport default Media;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/plugin-types/Media.js","import Meister from './src/js/Meister';\n\nexport default Meister;\n\n\n\n// WEBPACK FOOTER //\n// ./index.js","module.exports = noop\n\n// no operation\n// null -> null\nfunction noop() {}\n\n// call noop to satisfy test cov suites\nnoop()\n\n\n\n// WEBPACK FOOTER //\n// ./~/noop2/index.js","class ExtraEvents {\n    static register(meisterInstance) {\n        window.onfocus = () => {\n            meisterInstance.eventHandler.trigger('windowFocusChange', {\n                onForeground: true,\n            });\n        };\n\n        window.onblur = () => {\n            meisterInstance.eventHandler.trigger('windowFocusChange', {\n                onForeground: false,\n            });\n        };\n\n        document.addEventListener('visibilitychange', () => {\n            meisterInstance.eventHandler.trigger('windowVisibilityChange', {\n                visibility: document.visibilityState,\n            });\n        });\n\n        document.addEventListener('webkitfullscreenchange', () => {\n            meisterInstance.eventHandler.trigger('playerFullscreen');\n        });\n\n        document.addEventListener('mozfullscreenchange', () => {\n            meisterInstance.eventHandler.trigger('playerFullscreen');\n        });\n\n        document.addEventListener('fullscreenchange', () => {\n            meisterInstance.eventHandler.trigger('playerFullscreen');\n        });\n\n        document.addEventListener('MSFullscreenchange', () => {\n            meisterInstance.eventHandler.trigger('playerFullscreen');\n        });\n    }\n}\n\nexport default ExtraEvents;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/ExtraEvents.js","export default class FullscreenController {\n    constructor(meister) {\n        this.meister = meister;\n        // Set the custom fullscreen element should one be provided.\n        this.fullscreenElement = this.meister.defaultWrapper;\n        if (this.meister.config.customFullscreenElement) {\n            if (typeof this.meister.config.customFullscreenElement === 'string') {\n                const element = document.querySelector(this.meister.config.customFullscreenElement);\n                if (!element) {\n                    console.warn(`Unable to find fullscreen element with queryselector ${this.meister.config.customFullscreenElement}, using default element instead.`);\n                } else {\n                    this.fullscreenElement = element;\n                }\n            } else if (this.meister.config.customFullscreenElement instanceof Node) {\n                this.fullscreenElement = this.meister.config.customFullscreenElement;\n            } else {\n                console.warn('Custom fullscreen element is not of type string or Node, using default element instead.');\n            }\n        }\n        if (this.meister.config.fullscreenOnDoubleClick) {\n            if (this.meister.browser.isiOS || this.meister.browser.isAndroid) {\n                // mobile, so do a custom double tap check\n                this.tapped = null;\n                this.meister.controlsWrapper.addEventListener('touchstart', this.doubleTapCheck.bind(this));\n            } else {\n                // desktop, use the dblclick event\n                this.meister.controlsWrapper.addEventListener('dblclick', this.toggleFullscreen.bind(this));\n            }\n        }\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    get isFullscreen() {\n        if (!document.fullscreenElement && !document.mozFullScreenElement &&\n            !document.webkitFullscreenElement && !document.msFullscreenElement) {\n            return false;\n        }\n\n        return true;\n    }\n\n    requestFullscreen() {\n        if (!document.fullscreenElement && !document.mozFullScreenElement &&\n            !document.webkitFullscreenElement && !document.msFullscreenElement) {\n            if (this.meister.browser.isiOS) {\n                // iPad fullscreen has to go on the media element.\n                this.meister.playerPlugin.mediaElement.webkitEnterFullscreen();\n            } else if (this.fullscreenElement.requestFullscreen) {\n                this.fullscreenElement.requestFullscreen();\n            } else if (this.fullscreenElement.mozRequestFullScreen) {\n                this.fullscreenElement.mozRequestFullScreen();\n            } else if (this.fullscreenElement.webkitRequestFullscreen) {\n                this.fullscreenElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);\n            } else if (this.fullscreenElement.msRequestFullscreen) {\n                this.fullscreenElement.msRequestFullscreen();\n            }\n        }\n    }\n\n    cancelFullscreen() {\n        if (document.fullscreenElement) {\n            document.exitFullscreen();\n        } else if (document.cancelFullScreen) {\n            document.cancelFullScreen();\n        } else if (document.mozCancelFullScreen) {\n            document.mozCancelFullScreen();\n        } else if (document.webkitCancelFullScreen) {\n            document.webkitCancelFullScreen();\n        } else if (document.msExitFullscreen) {\n            document.msExitFullscreen();\n        }\n        if (this.meister.browser.isiOS) {\n            // iOS fullscreen has to go on the media element.\n            this.meister.playerPlugin.mediaElement.webkitExitFullScreen();\n        }\n    }\n\n    doubleTapCheck() {\n        // if tap is not set, set up single tap\n        if (!this.tapped) {\n            // wait 300ms then run single click code\n            this.tapped = setTimeout(() => { this.tapped = null; }, 300);\n        } else {\n            // tapped within 300ms of last tap. double tap\n            // stop single tap callback\n            clearTimeout(this.tapped);\n            this.tapped = null;\n            this.toggleFullscreen();\n        }\n    }\n    toggleFullscreen() {\n        if (this.meister.isFullscreen) {\n            this.cancelFullscreen();\n        } else {\n            this.requestFullscreen();\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/FullscreenController.js","import English from './localization/default-en';\nimport Dutch from './localization/default-nl';\nimport i18nJson from './localization/i18n';\n\nlet currentLanguage = 'en';\n\nconst languageBag = {};\n\nclass Localization {\n\n    static init(i18nOn) {\n        if (i18nOn) {\n            Localization.setFromFormattedObject(i18nJson);\n        } else {\n            console.warn('In future Meister versions this localization method is deprecated. Set i18nEnabled to true in the Meister global object.');\n            Object.keys(English).forEach((key) => {\n                Localization.set(key, English[key], 'en');\n            });\n\n            Object.keys(Dutch).forEach((key) => {\n                Localization.set(key, Dutch[key], 'nl');\n            });\n        }\n    }\n\n    static set(key, valueOrObj, language = currentLanguage) {\n        // Create the language if it does not exist.\n        if (!languageBag[language]) {\n            languageBag[language] = {};\n        }\n        // no value or object use the key\n        let value = key;\n        if (typeof valueOrObj === 'object') {\n            // it's a object its the i18n type\n            value = valueOrObj[language];\n        } else if (typeof valueOrObj === 'string') {\n            // it's a string so use the deprecated method\n            value = valueOrObj;\n        }\n        languageBag[language][key] = value;\n    }\n\n    static setFromFormattedObject(i18nObject) {\n        Object.keys(i18nObject).forEach((key) => {\n            Object.keys(i18nObject[key]).forEach((languageKey) => {\n                Localization.set(key, i18nObject[key][languageKey], languageKey);\n            });\n        });\n    }\n\n    static get(key, language = currentLanguage) {\n        return languageBag[language][key];\n    }\n\n    static all(language = currentLanguage) {\n        return languageBag[language];\n    }\n\n    static setLanguage(lang) {\n        currentLanguage = lang;\n    }\n}\n\nexport default Localization;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/Localization.js","class MediaController {\n    constructor(meister) {\n        this.meister = meister;\n\n        this.currentPlugin = null;\n\n        // Keep track of whether an ad is playing.\n        this.adBreakPlaying = false;\n        this.meister.on('adBreakStarted', () => {\n            this.adBreakPlaying = true;\n        });\n\n        this.meister.on(['adBreakEnded', 'itemUnloaded'], () => {\n            this.adBreakPlaying = false;\n        });\n    }\n\n    loadNewItem(item) {\n        if (this.meister.config.disableLoadDuringAd && this.adBreakPlaying) {\n            this.meister.trigger('itemLoadPrevented', { error: 'adPlaying' });\n            console.warn('Unable to switch content while ad is playing');\n            return;\n        }\n\n        // Unload the previous plugin should it be present.\n        if (this.plugin) {\n            this.plugin.unload();\n            this.plugin = null;\n        }\n        // Signal to the rest of the player that the item is now unloaded.\n        this.meister.trigger('itemUnloaded');\n\n        this.getPluginFor(item).then((plugin) => {\n            this.plugin = plugin;\n\n            this.plugin.process(item)\n                .then((processedItem) => {\n                    const promise = this.plugin.load(processedItem);\n\n                    if (promise) {\n                        promise.then(() => {\n                            this.meister.trigger('itemLoaded', { item: processedItem });\n                        }).catch((err) => {\n                            console.error(`@${this.plugin.name}: Could not load item with type: '${item.type}' and src: '${item.src}'.`, err);\n                        });\n                    } else {\n                        this.meister.trigger('itemLoaded', { item: processedItem });\n                    }\n                })\n                .catch((err) => {\n                    this.meister.error(`Could not find plugin to play type: '${item.type}'.`,\n                        err.errorCode, { title: 'Unable to play content.' });\n                    console.error(`@${this.plugin.name}: Could not process item with type: '${item.type}' and src: '${item.src}'.`, err);\n                });\n        }).catch((err) => {\n            console.error(`@${this.plugin.name}: Could not getPluginFor item with type: '${item.type}' and src: '${item.src} '.`, err);\n        });\n    }\n\n    switchItem(newItem) {\n        this.loadNewItem(newItem);\n    }\n\n    get currentItem() {\n        if (this.plugin && this.plugin.currentItem) {\n            return this.plugin.currentItem;\n        }\n\n        console.warn(`${this.plugin.name} does not provide metadata.`);\n        return {};\n    }\n\n    /**\n     * Duration of the media currently playing. Proxies the current media\n     * plugin.\n     * @readonly\n     * @memberof MediaController\n     * @returns {Number|NaN}\n     */\n    get duration() {\n        if (!this.plugin) { return NaN; }\n\n        return this.plugin.duration;\n    }\n\n    /**\n     * Current playback position in the media. Proxies the current media\n     * plugin.\n     * @memberof MediaController\n     * @returns {Number|NaN}\n     */\n    get currentTime() {\n        if (!this.plugin) { return NaN; }\n\n        return this.plugin.currentTime;\n    }\n\n    /**\n     * Set the current playback position in the media. Proxies the current\n     * media plugin.\n     * @memberof MediaController\n     */\n    set currentTime(time) {\n        if (!this.plugin) { return; }\n\n        this.plugin.currentTime = time;\n    }\n\n    getPluginFor(item) {\n        return this.meister.pluginLoader.getPluginByItem(item).then((result) => {\n            if (result.errorCode) {\n                throw result;\n            }\n\n            return result;\n        });\n    }\n}\n\nexport default MediaController;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/MediaController.js","import packageJson from '../../package.json';\nimport PluginLoader from './PluginLoader';\nimport Configuration from './Configuration';\nimport EventHandler from './lib/triple/event-handler';\nimport EventDefaults from './events/default-events';\nimport ExtraEvents from './ExtraEvents';\nimport Utils, { isDOMNode } from './utils/Utils';\nimport ElementUtils from './utils/ElementUtils';\nimport Browser from './utils/Browser';\nimport BrowserPolyfill from './utils/BrowserPolyfill';\nimport Playlist from './Playlist';\nimport MediaController from './MediaController';\nimport FullscreenController from './FullscreenController';\nimport Cookie from './lib/triple/cookie';\nimport errorCodes from './errorCodes';\nimport Localization from './Localization';\n\n// Abstract Plugins\nimport Analytics from './plugin-types/Analytics';\nimport Media from './plugin-types/Media';\nimport Parser from './plugin-types/Parser';\nimport Player from './plugin-types/Player';\nimport Ui from './plugin-types/Ui';\nimport UiPlugin from './plugin-types/UiPlugin';\nimport Middleware from './plugin-types/Middleware';\nimport ProtoPlugin from './plugin-types/ProtoPlugin';\n\n// HACK for IE11 iFrames.\nif (window !== window.top) {\n    console.warn = console.log.bind(console);\n    console.error = console.log.bind(console);\n}\n\nlet instances = [];\n\nclass Meister {\n    /**\n     * Create a new player instance.\n     *\n     * @param {string} query for finding the element that meister will use to render the player.\n     * @param {object} options for meisterjs. Also required for initializing plugins.\n     */\n    constructor(query, userOptions) {\n        // Make sure we at least have a wrapper or else the player can't continue.\n\n        // create the options by merging the default with the user options\n        const defaultOptions = {\n            global: {},\n        };\n        const options = Object.assign({}, defaultOptions, userOptions);\n\n        // checks if the query is a DOM element, otherwise querySelector the query string\n        if (isDOMNode(query)) {\n            this.wrapper = query;\n        } else {\n            this.wrapper = document.querySelector(query);\n        }\n\n        if (!this.wrapper) {\n            throw Error(`Wrapper with Queryseletor: ${query} not found.`);\n        }\n\n        // Instantiate the event handler and utilities.\n        this.eventHandler = new EventHandler(EventDefaults);\n        this.instanceId = Math.random();\n\n        this.utils = Utils;\n        this.elementUtils = ElementUtils;\n        this.browser = Browser;\n        this.Localization = Localization;\n\n        BrowserPolyfill.init();\n\n        // Extract global config\n        this.config = Configuration.getGlobals(options.global);\n        if (this.config.language) {\n            this.Localization.setLanguage(this.config.language);\n        }\n        this.Localization.init(this.config.i18nEnabled);\n\n        // Enable autoplay\n        if (this.config.autoplay) {\n            // Disable the first autoplay on mobile, so that ads will display\n            if (this.browser.isMobile || (this.browser.isNonAutoPlay && !this.config.startMuted)) {\n                const wasAutoplay = this.config.autoplay;\n                this.config.autoplay = false;\n                this.one('playerPlay', () => {\n                    this.config.autoplay = wasAutoplay;\n                    this.on('itemLoaded', () => this.trigger('requestPlay'), 'meister');\n                }, 'meister');\n            } else {\n                this.on('itemLoaded', () => this.trigger('requestPlay'), 'meister');\n            }\n        }\n\n        if (this.config.fullscreenOnDoubleClick) {\n            this.config.iosPlaysInline = true;\n        }\n\n        this.container = document.createElement('div');\n        this.defaultWrapper = document.createElement('div');\n        this.playerWrapper = document.createElement('div');\n        this.controlsWrapper = document.createElement('div');\n        this.adWrapper = document.createElement('div');\n\n        this.container.classList.add('pf-player-container');\n        this.defaultWrapper.classList.add('pf-default-wrapper');\n        this.playerWrapper.classList.add('pf-player');\n        this.controlsWrapper.classList.add('pf-controls');\n        if (!this.config.controls) this.controlsWrapper.classList.add('pf-ui-element-hidden');\n        this.elementUtils.classListAdd(this.adWrapper, 'pf-ads', 'pf-ui-element-hidden');\n\n        this.wrapper.appendChild(this.container);\n        this.container.appendChild(this.defaultWrapper);\n        this.defaultWrapper.appendChild(this.playerWrapper);\n        this.defaultWrapper.appendChild(this.controlsWrapper);\n        this.defaultWrapper.appendChild(this.adWrapper);\n\n\n        Configuration.overwrite(options);\n\n        this.pluginLoader = new PluginLoader(this);\n        this.pluginLoader.config(options, this);\n\n        this.pluginLoader.drawUiPlugins();\n        this.pluginLoader.loadAnalyticsPlugins();\n\n        ExtraEvents.register(this);\n\n        this.playerPlugin = null;\n        this.playlist = null;\n\n        this.mediaController = new MediaController(this);\n        this.fullscreenController = new FullscreenController(this);\n\n        this.on('requestDrmKeySystemSupport', () => {\n            this.trigger('drmKeySystemSupport', []);\n        });\n\n        instances.push({\n            id: this.instanceId,\n            instance: this,\n        });\n    }\n\n    /**\n     * Gets the current Meister version.\n     *\n     * @return {string} The meister version.\n     */\n    static get version() {\n        return packageJson.version;\n    }\n\n    /**\n     * Returns filtered and formatted list of all registered plugins and their version.\n     *\n     * @return {Array} List with plugins and their version.\n     */\n    static get pluginVersions() {\n        const registeredPlugins = PluginLoader.getRegistered();\n        const result = [];\n\n        registeredPlugins.forEach((plugin) => {\n            const pluginName = plugin.Plugin.pluginName.toLowerCase();\n            const alreadyExists = result.findIndex(resultPlugin => resultPlugin.pluginName.toLowerCase() === pluginName);\n\n            if (alreadyExists !== -1) return;\n\n            result.push({\n                pluginName: plugin.Plugin.pluginName,\n                pluginVersion: plugin.Plugin.pluginVersion,\n            });\n        });\n\n        return result;\n    }\n\n    /**\n     * Is Debug mode enabled\n     *\n     * @return {boolean} Return true if debug is enabled.\n     */\n    get debugEnabled() {\n        return this.config.debug;\n    }\n\n    /**\n     * Sets debug mode.\n     *\n     * @param  {boolean} debug true for debug mode.\n     */\n    set debugEnabled(debug) {\n        this.config.debug = debug;\n    }\n\n    /**\n     * Are controls enabled?\n     *\n     * @return {boolean} Returns true if controls are shown\n     */\n    get showControls() {\n        return this.config.controls;\n    }\n\n    /**\n     * Hides/shows controls based on the given boolean.\n     *\n     * @param  {boolean} controls true to show controls, false to hide.\n     */\n    set showControls(controls) {\n        if (controls) {\n            this.controlsWrapper.classList.remove('pf-ui-element-hidden');\n        } else {\n            this.controlsWrapper.classList.add('pf-ui-element-hidden');\n        }\n\n        this.config.controls = controls;\n    }\n\n    load() {\n        this.playlist.loadCurrentIndex();\n    }\n\n    /**\n     * Destroys the instance of the player and it's plugins.\n     */\n    destroy() {\n        // Remove the player from the page.\n        this.wrapper.innerHTML = '';\n\n        this.trigger('requestDestroy');\n        // HACK: fix this hack! Because requestDestroy refers to this.playerPlugin (via get playing) it throws an error when playerPlugin is nulled.. By using setTimeout 0 we effectively added nullifying on the eventstack\n        setTimeout(() => {\n            this.pluginLoader = null;\n            this.playerPlugin = null;\n            this.playlist = null;\n            this.mediaController = null;\n            this.fullscreenController = null;\n\n            this.eventHandler.destroy();\n\n            instances = instances.filter(instance => instance.id === this.id);\n        }, 0);\n    }\n\n    play(triggerByUser = false) {\n        // Do this through events so ads have a chance to register\n        this.trigger('requestPlay', { triggerByUser });\n    }\n\n    pause(triggerByUser = false) {\n        this.trigger('requestPause', { triggerByUser });\n    }\n\n    get playerMode() {\n        return this.config.audioOnly ? 'audio' : 'video';\n    }\n\n    get volume() {\n        if (!this.playerPlugin) return null;\n\n        return this.playerPlugin.volume;\n    }\n\n    set volume(volume) {\n        if (!this.playerPlugin) return;\n\n        Cookie.set('volume', volume);\n        this.playerPlugin.volume = volume;\n    }\n\n    get muted() {\n        if (!this.playerPlugin) return null;\n\n        return this.playerPlugin.muted;\n    }\n\n    set muted(muted) {\n        if (!this.playerPlugin) return;\n\n        this.playerPlugin.muted = muted;\n    }\n\n    get playing() {\n        if (!this.playerPlugin) return null;\n\n        return this.playerPlugin.playing;\n    }\n\n    get currentItem() {\n        if (!this.mediaController) return null;\n\n        return this.mediaController.currentItem;\n    }\n\n    get duration() {\n        if (!this.mediaController) return null;\n\n        return this.mediaController.duration;\n    }\n\n    get currentTime() {\n        if (!this.mediaController) return null;\n\n        return this.mediaController.currentTime;\n    }\n\n    set currentTime(time) {\n        if (!this.mediaController) return;\n\n        this.mediaController.currentTime = time;\n    }\n\n    get isFullscreen() {\n        if (!this.fullscreenController) return null;\n        return this.fullscreenController.isFullscreen;\n    }\n\n    get playerType() {\n        return this.playerPlugin.type;\n    }\n\n    requestFullscreen() {\n        if (!this.fullscreenController) return;\n        this.fullscreenController.requestFullscreen();\n    }\n\n    cancelFullscreen() {\n        if (!this.fullscreenController) return;\n        this.fullscreenController.cancelFullscreen();\n    }\n\n    getPlayerByType(type, mediaItem) {\n        const playerPlugin = this.pluginLoader.getPlayerPluginByType(type, mediaItem);\n\n        if (this.playerPlugin) {\n            if (this.playerPlugin && this.playerPlugin.name !== playerPlugin.name) {\n                this.playerPlugin.unload();\n                this.playerWrapper.innerHTML = '';\n                this.playerPlugin = playerPlugin;\n                this.playerPlugin.load(mediaItem);\n            }\n        } else if (playerPlugin) {\n            this.playerPlugin = playerPlugin;\n            this.playerPlugin.load(mediaItem);\n        } else {\n            console.warn(`Could not find player with type '${type}'`);\n        }\n\n        return this.playerPlugin;\n    }\n\n    /**\n     * Sets the item.\n     *\n     * @param {object} item The item you want to play.\n     */\n    setItem(item) {\n        if (!item.type) {\n            throw new TypeError('Item must have a type attribute.');\n        } else if (item.type !== 'aditem' && item.type !== 'multi-source' && !item.src) {\n            throw new TypeError('Non-aditem items must have a src attribute.');\n        }\n\n        this.playlist = new Playlist([item], this);\n    }\n\n    setPlaylist(list) {\n        for (let i = 0; i < list.length; i += 1) {\n            if (!list[i].type) {\n                throw new TypeError(`Item ${i}: Item must have a type attribute.`);\n            } else if (list[i].type !== 'aditem'\n                && list[i].type !== 'multi-source'\n                && !list[i].src) {\n                throw new TypeError(`Item ${i}: Non-aditem items must have a src attribute.`);\n            }\n        }\n\n        this.playlist = new Playlist(list, this);\n    }\n\n    switchItem(item) {\n        this.mediaController.switchItem(item);\n    }\n\n    // Event handler shorthands.\n    on(hook, handler, caller) {\n        return this.eventHandler.on(hook, handler, caller);\n    }\n\n    one(hook, block, handler, caller) {\n        return this.eventHandler.one(hook, block, handler, caller);\n    }\n\n    trigger(...args) {\n        this.eventHandler.trigger(...args);\n    }\n\n    remove(events) {\n        this.eventHandler.remove(events);\n    }\n\n    disable(hook, callback) {\n        this.eventHandler.disable(hook, callback);\n    }\n\n    enable(hook, callback) {\n        this.eventHandler.enable(hook, callback);\n    }\n\n    error(message, code = 'ERR-9001', options = {}) {\n        console.error(`${code} - ${message}`);\n        this.eventHandler.trigger('error', {\n            message,\n            code,\n            options,\n        });\n    }\n\n    // Static methods.\n    static registerPlugin(name, plugin) {\n        return PluginLoader.register(name, plugin);\n    }\n\n    static registerMiddleware(name, plugin) {\n        return PluginLoader.registerMiddleware(name, plugin);\n    }\n\n    static get instances() {\n        return instances;\n    }\n}\n\nwindow.Meister = Meister;\n\n// Expose a way to extend\nMeister.MediaPlugin = Media;\nMeister.ParserPlugin = Parser;\nMeister.PlayerPlugin = Player;\nMeister.Ui = Ui;\nMeister.UiPlugin = UiPlugin;\nMeister.AnalyticsPlugin = Analytics;\nMeister.Middleware = Middleware;\nMeister.ProtoPlugin = ProtoPlugin;\n\n// Expose utils.\nMeister.Browser = Browser;\n\n// Expose error codes.\nMeister.ErrorCodes = errorCodes;\n\n// TODO: Make this cleaner.\nMeister.PluginLoader = PluginLoader;\nMeister.Configuration = Configuration;\n\n// Backwards compatibility\nwindow.Vinson = Meister;\n\nexport default Meister;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/Meister.js","import MediaPlugin from './plugin-types/Media';\n\nclass Parallel extends MediaPlugin {\n    constructor(meister) {\n        super({ name: 'parallel-builtin' }, meister);\n\n        this.meister = meister;\n        this.plugins = [];\n\n        this.bitrates = null;\n        this.currentBitrateIndex = 0;\n\n        this.plugin = null;\n\n        this.eventStore = [];\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    isItemSupported(item) {\n        return new Promise((resolve) => {\n            if (item.type !== 'media') {\n                return resolve({\n                    supported: false,\n                    errorCode: Meister.ErrorCodes.WRONG_TYPE,\n                });\n            }\n\n            return resolve({\n                supported: true,\n            });\n        });\n    }\n\n    get currentItem() {\n        if (this.plugin) {\n            return this.plugin.currentItem;\n        }\n\n        return null;\n    }\n\n    process(item) {\n        return new Promise((resolve, reject) => {\n            const processPromises = [];\n\n            this.bitrates = item.bitrates;\n            this.currentBitrateIndex = Math.floor(this.bitrates.length / 2);\n\n            // Don't trigger bitrates for hls media.\n            const sampleItem = this.bitrates[this.currentBitrateIndex];\n\n            if (sampleItem.type !== 'm3u'\n                && sampleItem.type !== 'm3u8'\n                && sampleItem.type !== 'mpd'\n                && sampleItem.type !== 'dash'\n                && sampleItem.metadata\n            ) {\n                this.bitrates.sort((a, b) => a.metadata.bitrate - b.metadata.bitrate);\n\n                const selectableBitrates = [];\n                for (let i = 0; i < this.bitrates.length; i += 1) {\n                    const bitrate = this.bitrates[i];\n\n                    // If there is a defalt bitrate specified prefer that.\n                    if (bitrate.default) {\n                        this.currentBitrateIndex = i;\n                    }\n\n                    selectableBitrates.push({\n                        bitrate: bitrate.metadata.bitrate,\n                        index: i,\n                    });\n                }\n\n                this.meister.trigger('itemBitrates', {\n                    bitrates: selectableBitrates,\n                    currentIndex: this.currentBitrateIndex,\n                });\n            }\n\n            this.meister.pluginLoader.getPluginByItem(this.bitrates[this.currentBitrateIndex])\n                .then((itemPlugin) => {\n                    if (itemPlugin.errorCode) {\n                        this.meister.error(`Could not find plugin to play type: '${this.bitrates[this.currentBitrateIndex].type}'.`,\n                            itemPlugin.errorCode, { title: 'Unable to play content.' });\n                        return;\n                    }\n\n                    this.plugin = itemPlugin;\n\n                    const getPluginsPromises = [];\n\n                    processPromises.push(\n                        this.plugin.process(this.bitrates[this.currentBitrateIndex]),\n                    );\n\n                    // Get all plugins for each parallelItem\n                    item.parallel.forEach((parallelItem) => {\n                        const plugin = this.meister.pluginLoader.getPluginByItem(parallelItem);\n                        if (plugin.errorCode) {\n                            return;\n                        }\n\n                        getPluginsPromises.push(plugin);\n                    });\n\n                    Promise.all(getPluginsPromises).then((plugins) => {\n                        // Process all plugins..\n                        plugins.forEach((plugin, index) => {\n                            if (!plugin.errorCode) {\n                                this.plugins.push(plugin);\n\n                                processPromises.push(plugin.process(item.parallel[index]));\n                            }\n                        });\n\n                        Promise.all(processPromises)\n                            .then(() => {\n                                resolve(item);\n                            })\n                            .catch((err) => {\n                                reject(err);\n                            });\n                    });\n                });\n        });\n    }\n\n    load(item) {\n        this.plugin.load(this.bitrates[this.currentBitrateIndex]);\n\n        this.plugins.forEach((plugin, index) => {\n            // XXX: Not sure if this should work.\n            plugin.load(item.parallel[index]);\n        });\n\n        if (!this.plugin.onRequestBitrate) {\n            this.on('requestBitrate', info => this.onRequestBitrate(info.bitrateIndex));\n        }\n    }\n\n    get duration() {\n        if (!this.plugin) { return NaN; }\n\n        return this.plugin.duration;\n    }\n\n    get currentTime() {\n        if (!this.plugin) { return NaN; }\n\n        return this.plugin.currentTime;\n    }\n\n    set currentTime(time) {\n        if (!this.plugin) { return; }\n        this.plugin.currentTime = time;\n    }\n\n    unload() {\n        super.unload();\n\n        // Unload the main plugin.\n        if (this.plugin) this.plugin.unload();\n\n        // Unload parallel plugins.\n        this.plugins.forEach((plugin) => {\n            plugin.unload();\n        });\n\n        this.plugins = [];\n    }\n\n    onRequestBitrate(index) {\n        // No need to do anything when the same bitrate is requested.\n        if (this.currentBitrateIndex === index) {\n            return;\n        }\n\n        this.currentBitrateIndex = index;\n\n        if (this.plugin && this.plugin.changeBitrate) {\n            this.plugin.changeBitrate(this.currentBitrateIndex);\n            return;\n        }\n\n        // Assuming variant bitrates are the same type\n        const switchTime = this.meister.currentTime;\n        const wasPlaying = this.meister.playing;\n\n        // HACK: This can be done way prettier.\n        this.plugin.unload();\n        this.plugin.load(this.bitrates[this.currentBitrateIndex]);\n        this.meister.currentTime = switchTime;\n        if (wasPlaying) this.meister.play();\n\n        const newBitrate = this.bitrates[this.currentBitrateIndex].metadata\n            ? this.bitrates[this.currentBitrateIndex].metadata.bitrate\n            : 0;\n\n        this.meister.trigger('playerSwitchBitrate', {\n            newBitrate,\n            newBitrateIndex: index,\n        });\n    }\n}\n\nexport default Parallel;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/Parallel.js","class Playlist {\n    constructor(list, meister) {\n        this.list = list;\n        this.meister = meister;\n\n        this.index = 0;\n\n        this.meister.on('playlistNext', () => this.next());\n        this.meister.on('playlistPrevious', () => this.previous());\n        this.meister.on('playlistGoTo', e => this.goTo(e.index));\n\n        this.meister.on('playerEnd', () => {\n            if (this.meister.config.autoplay && this.index < this.list.length - 1) {\n                this.next();\n            }\n        });\n    }\n\n    loadCurrentIndex() {\n        this.meister.trigger('showLoading', {\n            code: 'INITIALIZING',\n        });\n\n        const item = this.list[this.index];\n        this.getPluginFor(item).then((plugin) => {\n            this.meister.trigger('playlistMetadata', item);\n\n            // Check whether it is a parsing plugin\n            if (plugin instanceof Meister.ParserPlugin) {\n                plugin.process(item)\n                .then((newItem) => {\n                    if (newItem instanceof Array) {\n                        // Replace the current index with the returned array.\n                        const newList = this.list.slice(0, this.index);\n                        newList.push(...newItem);\n                        newList.push(...this.list.slice(this.index + 1));\n\n                        this.list = newList;\n                    } else {\n                        this.list[this.index] = newItem;\n                    }\n\n                    this.loadCurrentIndex();\n                })\n                .catch((err) => {\n                    console.error(`Could not process item with type: ${item.type} and src: ${item.src}. \\n${err}`);\n                });\n            } else if (plugin instanceof Meister.MediaPlugin) {\n                // Not very idiomatic.\n                this.meister.switchItem(item);\n\n                // Inform player of the state of the playlist.\n                this.meister.trigger('playlistInfo', {\n                    currentIndex: this.index,\n                    length: this.list.length,\n                });\n            }\n        }).catch((err) => {\n            this.meister.error(`Could not find plugin to play type: '${item.type}'.`,\n                err.errorCode, { title: 'Unable to play content.' });\n            console.error(`Could not load item with type: '${item.type}' and src: '${item.src}'.`);\n        });\n    }\n\n    next() {\n        const newIndex = this.index + 1;\n        this.goTo(newIndex);\n    }\n\n    previous() {\n        const newIndex = this.index - 1;\n        this.goTo(newIndex);\n    }\n\n    goTo(newIndex) {\n        if (newIndex < 0 || newIndex >= this.list.length) {\n            console.error(`Playlist index '${newIndex}' is out of bounds.`);\n            return;\n        }\n\n        this.index = newIndex;\n        this.loadCurrentIndex();\n    }\n\n    getPluginFor(item) {\n        return this.meister.pluginLoader.getPluginByItem(item).then((result) => {\n            if (result.errorCode) {\n                throw result;\n            }\n\n            return result;\n        });\n    }\n}\n\nexport default Playlist;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/Playlist.js","import Configuration from './Configuration';\nimport Parallel from './Parallel';\n\nconst registeredPlugins = [];\nconst loaded = [];\n\nconst registeredMiddleware = [];\n\nclass PluginLoader {\n\n    constructor(meister) {\n        this.loaded = [];\n        this.meister = meister;\n    }\n\n    static getRegistered() {\n        return registeredPlugins;\n    }\n\n    static getLoaded() {\n        return loaded;\n    }\n\n    static get(name) {\n        return registeredPlugins.find(plugin => (plugin.name === name));\n    }\n\n    getLoadedPlugin(name) {\n        return this.loaded.find(plugin => (plugin.name === name));\n    }\n\n    static getMiddleware(name) {\n        return registeredMiddleware.find(plugin => (plugin.name === name));\n    }\n\n    config(options, instance) {\n        // Merge with the builtIn plugins\n        const newOptions = {};\n        if (Meister.builtIn) {\n            Object.keys(Meister.builtIn).forEach((key) => {\n                if (options[key]) {\n                    return;\n                }\n\n                newOptions[key] = Meister.builtIn[key];\n            });\n        }\n\n        Object.assign(newOptions, options);\n\n        Object.keys(newOptions).forEach((key) => {\n            const plugin = PluginLoader.get(key);\n\n            if (!plugin) {\n                if (key !== 'global') {\n                    console.warn(`${key} is not a registered plugin.`);\n                }\n\n                return;\n            }\n\n            let pluginConfig = {};\n            pluginConfig = Configuration.get(key);\n            pluginConfig.name = key;\n\n            const next = item => PluginLoader.execMiddleware(pluginConfig.middleware, instance, item);\n\n            this.loaded.push({\n                name: plugin.name,\n                plugin: new plugin.Plugin(pluginConfig, instance, next),\n                middleware: pluginConfig.middleware,\n            });\n        });\n\n        // Register built-in plugins.\n        this.loaded.push({\n            name: 'parallel',\n            plugin: new Parallel(instance),\n        });\n    }\n\n    static execMiddleware(middlewares, instance, item) {\n        const result = [];\n\n        // No middlewares? Just return the item. This way we fake a middleware.\n        if (!middlewares || !middlewares.length) {\n            return new Promise((resolve) => {\n                resolve(item);\n            });\n        }\n\n        middlewares.forEach((middleware) => {\n            const middlewareObject = this.getMiddleware(middleware);\n\n            result.push(new middlewareObject.Middleware({}, instance));\n        });\n\n        return this.processMiddlewares(result, item);\n    }\n\n    static processMiddlewares(middlewares, item, index = 0) {\n        return middlewares[index].process(item).then((newItem) => {\n            if (middlewares[index + 1]) {\n                return this.processMiddlewares(middlewares, newItem, index + 1);\n            }\n\n            return newItem;\n        });\n    }\n\n    getPluginByItem(item) {\n        // When DRM is set on an item, let the player know.\n        if (item.drmConfig) {\n            this.meister.trigger('drmConfig', item.drmConfig);\n        }\n\n        const isItemSupportedPromises = [];\n        const pluginsInConsideration = [];\n\n        // Add all plugin which have the isItemSupported method to a promise array.\n        this.loaded.forEach((plugin) => {\n            if (plugin.plugin.isItemSupported) {\n                pluginsInConsideration.push(plugin);\n                const isSupported = plugin.plugin.isItemSupported(item);\n\n                isItemSupportedPromises.push(isSupported);\n            }\n        });\n\n        // Go through all the items and search for a plugin that can handle the item.\n        return Promise.all(isItemSupportedPromises).then((items) => {\n            // Search for the plugin that returned true and map that to the loaded plugins\n            let errorCode = Meister.ErrorCodes.WRONG_TYPE;\n            for (let i = 0; i < items.length; i += 1) {\n                const supportInfo = items[i];\n\n                if (supportInfo.supported) {\n                    return pluginsInConsideration[i].plugin;\n                }\n\n                if (supportInfo.errorCode !== Meister.ErrorCodes.WRONG_TYPE) {\n                    errorCode = supportInfo.errorCode;\n                }\n            }\n\n            return { errorCode };\n        });\n    }\n\n    getPlayerPluginByType(type) {\n        const playerPlugin = this.loaded.find((plugin) => {\n            if (plugin.plugin.isTypeSupported) {\n                return plugin.plugin.isTypeSupported(type);\n            }\n\n            return false;\n        });\n\n        return playerPlugin ? playerPlugin.plugin : null;\n    }\n\n    drawUiPlugins() {\n        this.loaded.forEach((plugin) => {\n            if (plugin.plugin.draw) {\n                plugin.plugin.draw();\n            }\n        });\n    }\n\n    loadAnalyticsPlugins() {\n        this.loaded.forEach((plugin) => {\n            if (plugin.plugin.isAnalytics) {\n                plugin.plugin.load();\n            }\n        });\n    }\n\n    static register(name, plugin) {\n        const alreadyRegistered = this.get(name);\n\n        if (alreadyRegistered) {\n            console.warn(`Plugin ${name} is already registered. Overriding previous version.`);\n            alreadyRegistered.Plugin = plugin;\n            return;\n        }\n\n        registeredPlugins.push({\n            name,\n            Plugin: plugin,\n        });\n    }\n\n    static registerMiddleware(name, middleware) {\n        const alreadyRegistered = this.getMiddleware(name);\n\n        if (alreadyRegistered) {\n            console.warn(`Middleware ${name} is already registered. Overriding previous version.`);\n            alreadyRegistered.Middleware = middleware;\n            return;\n        }\n\n        registeredMiddleware.push({\n            name,\n            Middleware: middleware,\n        });\n    }\n}\n\nexport default PluginLoader;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/PluginLoader.js","const errorCodes = {\n    // Plugin is unable to process items of the passed type.\n    WRONG_TYPE: 'MSTR-0001',\n    // Plugin does not play in current browser.\n    NOT_SUPPORTED: 'MSTR-0002',\n    // Media type does not support drm playback in current browser.\n    NO_DRM: 'MSTR-0003',\n    // Media not found.\n    NO_MEDIA_FOUND: 'MSTR-0404',\n    // Custom Fairplay contentId function threw an error.\n    FAIRPLAY_CONTENT_ID_FUNCTION_ERROR: 'MSTR-1001',\n};\n\nexport default errorCodes;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/errorCodes.js","const AdEvents = [\n    'adBreakStarted',\n    'adBreakEnded',\n    'adStarted',\n    'adEnded',\n    'adTimeupdate',\n    'adCuePoints',\n];\n\nexport default AdEvents;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/events/ad-events.js","const ControlEvents = [\n    'requestPlay',\n    'requestSeek',\n    'requestPause',\n    'requestBitrate',\n];\n\nexport default ControlEvents;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/events/control-events.js","const GlobalEvents = [\n    'windowFocusChange',\n    'windowVisibilityChange',\n];\n\nexport default GlobalEvents;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/events/global-events.js","const ItemEvents = [\n    'itemLoadPrevented',\n    'itemLoaded',\n    'itemUnloaded',\n    'itemMetadata',\n    'itemTimeInfo',\n    'itemLanguages',\n    'itemCaptions',\n    'itemBitrates',\n    'itemImagestream',\n];\n\nexport default ItemEvents;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/events/item-events.js","const PlayerEvents = [\n    'playerCreated',\n    'playerDestroyed',\n    '_playerTimeUpdate',\n    'playerTimeUpdate',\n    'playerPlay',\n    'playerPlaying',\n    'playerFirstPlay',\n    'playerReplay',\n    'playerPause',\n    '_playerSeek',\n    'playerSeek',\n    'playerSeeking',\n    'playerNudge',\n    'playerEnd',\n    'playerError',\n    'playerVolumeChange',\n    'playerFullscreen',\n    'playerSwitchBitrate',\n    'playerAutoSwitchBitrate',\n    'playerProgress',\n    'playerLoadedMetadata',\n    'playerDurationChange',\n    'playerBuffering',\n    'playerBufferedEnough',\n    'playerRemoteConnecting',\n    'playerRemoteConnected',\n    'playerRemoteDisconnected',\n];\n\nexport default PlayerEvents;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/events/player-events.js","const PlaylistEvents = [\n    'playlistInfo',\n    'playlistNext',\n    'playlistPrevious',\n    'playlistGoTo',\n    'playlistMetadata',\n];\n\nexport default PlaylistEvents;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/events/playlist-events.js","const UiEvents = [\n    'uiReady',\n    'uiPluginInserted',\n    'uiPluginOpen',\n    'uiPluginClose',\n];\n\nexport default UiEvents;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/events/ui-events.js","import noop from 'noop2';\n\nclass EventHandler {\n    constructor(eventHooks) {\n        this.counter = 0;\n        this.disabledHandles = [];\n\n        // Protected handles are callbacks that cannot be blocked and thus\n        // protected.\n        this.protectedHandles = {};\n\n        // Register the default event hooks.\n        this.stack = {};\n        for (let i = 0; i < eventHooks.length; i += 1) {\n            const eventHook = eventHooks[i];\n\n            this.stack[eventHook] = [];\n        }\n    }\n\n    on(hooks, method, caller = 'Anonymous') {\n        // Check whether the method is a function.\n        if (!(method instanceof Function)) {\n            console.error('EventHandler: Provided handler is not a function.');\n            return null;\n        }\n\n        // Convert hooks to an array to keep flow similar.\n        const hooksArray = Array.isArray(hooks) ? hooks : [hooks];\n\n        // Register the handle on all hooks.\n        const newHandles = [];\n        hooksArray.forEach((hook) => {\n            if (!this.stack[hook]) {\n                this.stack[hook] = [];\n            }\n\n            const newHandle = this._createHandler(caller, method);\n            this.stack[hook].push(newHandle);\n\n            newHandles.push({\n                id: newHandle.id,\n                hook,\n            });\n        });\n\n        // Return an array of objects that can be used to remove the handlers.\n        return newHandles;\n    }\n\n    one(hookArg, blockArg, methodArg, callerArg = 'Anonymous') {\n        const hook = hookArg;\n        let block = blockArg;\n        let method = methodArg;\n        let caller = callerArg;\n\n        // Check whether block is present, if not change parameters\n        if (typeof blockArg !== 'boolean') {\n            caller = method;\n            method = block;\n            block = false;\n        }\n\n        // Check whether the method is a function.\n        if (!(method instanceof Function)) {\n            console.error('EventHandler: Provided handler is not a function.');\n            return null;\n        }\n\n        if (!this.stack[hook]) {\n            this.stack[hook] = [];\n        }\n\n        if (!this.stack[hook].one) {\n            this.stack[hook].one = [];\n        }\n\n        const newHandle = this._createHandler(caller, method, block);\n        this.stack[hook].one.push(newHandle);\n\n        // Return an object that can be used to remove the handler.\n        return {\n            id: newHandle.id,\n            hook,\n        };\n    }\n\n    _createHandler(caller, method, block = false) {\n        const newHandle = {\n            id: this.counter,\n            caller,\n            method,\n            block,\n        };\n\n        this.counter += 1;\n\n        return newHandle;\n    }\n\n    remove(events) {\n        // Convert hooks to an array to keep flow similar.\n        const eventsArray = Array.isArray(events) ? events : [events];\n\n        eventsArray.forEach((eventObject) => {\n            // First check the single handlers.\n            if (this.stack[eventObject.hook].one) {\n                this.stack[eventObject.hook].one = this.stack[eventObject.hook].one.filter(handle => handle.id !== eventObject.id);\n\n                if (this.stack[eventObject.hook].one.length === 0) {\n                    delete this.stack[eventObject.hook].one;\n                }\n            }\n\n            // Now check regular handlers.\n            this.stack[eventObject.hook] = this.stack[eventObject.hook].filter(handle => handle.id !== eventObject.id);\n        });\n    }\n\n    // Removes all events from eventhandler.\n    // This can be used to release memory when the application is finished.\n    destroy() {\n        Object.keys(this.stack).forEach((key) => {\n            this.stack[key].forEach((event) => {\n                this.remove({ id: event.id, hook: key });\n            });\n        });\n    }\n\n    trigger(...args) {\n        // Extract the first element as the hook.\n        const hook = args.splice(0, 1)[0];\n\n        // Check whether the event exists.\n        if (!this.stack[hook]) {\n            return;\n        }\n\n        // Check whether the event has been disabled.\n        if (this.disabledHandles.indexOf(hook) !== -1) {\n            // Check whether we have a protected handler if we do trigger that.\n            if (this.protectedHandles[hook]) {\n                this.protectedHandles[hook](args);\n            }\n\n            console.debug(`EventHandler: '${hook}' is disabled, skipping trigger`);\n            return;\n        }\n\n        // Check whether there are any registered handlers.\n        if (this.stack[hook].length === 0 && !this.stack[hook].one) {\n            return;\n        }\n\n        if (this.stack[hook].one) {\n            let block = false;\n\n            for (let i = 0; i < this.stack[hook].one.length; i += 1) {\n                const single = this.stack[hook].one[i];\n\n                // Only check for blocking when not already blocked.\n                if (!block) block = single.block;\n\n                try {\n                    single.method.apply(null, args);\n                } catch (e) {\n                    console.error(`EventHandler: Handle from '${single.caller}' for '${hook}' failed. Error: ${e}`);\n                }\n            }\n\n            delete this.stack[hook].one;\n\n            // Should block, do not trigger regular handlers.\n            if (block) return;\n        }\n\n        // Trigger all regular handles associated with the hook.\n        for (let i = 0; i < this.stack[hook].length; i += 1) {\n            const eventHandle = this.stack[hook][i];\n\n            try {\n                eventHandle.method.apply(null, args);\n            } catch (e) {\n                console.error(`EventHandler: Handle from '${eventHandle.caller}' for '${hook}' failed. Error: ${e}`);\n            }\n        }\n    }\n\n    disable(hook, callback = noop) {\n        this.protectedHandles[hook] = callback;\n\n        if (this.disabledHandles.indexOf(hook) === -1) {\n            this.disabledHandles.push(hook);\n        }\n    }\n\n    enable(hook) {\n        this.protectedHandles[hook] = noop;\n\n        const hookIndex = this.disabledHandles.indexOf(hook);\n\n        if (hookIndex !== -1) {\n            this.disabledHandles.splice(hookIndex, 1);\n        }\n    }\n}\n\nexport default EventHandler;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/lib/triple/event-handler.js","const English = {\n    VIDEO_ACQUIRING_LICENSE: 'Acquiring license..',\n    VIDEO_BUFFERING: 'Buffering...',\n    VIDEO_ACQUIRING_MANIFEST: 'Retrieving manifest..',\n    INITIALIZING: 'Initializing',\n    NONE: 'None',\n    AD_COUNT: 'ad',\n    OF_COUNT: 'of',\n};\n\n\nexport default English;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/localization/default-en.js","const Dutch = {\n    VIDEO_ACQUIRING_LICENSE: 'Ophalen licentie..',\n    VIDEO_BUFFERING: 'Bufferen...',\n    VIDEO_ACQUIRING_MANIFEST: 'Ophalen manifest..',\n    INITIALIZING: 'Initialiseren',\n    NONE: 'Geen',\n    AD_COUNT: 'advertentie',\n    OF_COUNT: 'van',\n};\n\nexport default Dutch;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/localization/default-nl.js","const i18n = {\n    VIDEO_ACQUIRING_LICENSE: {\n        en: 'Acquiring license..',\n        nl: 'Ophalen licentie..',\n    },\n    VIDEO_BUFFERING: {\n        en: 'Buffering...',\n        nl: 'Bufferen...',\n    },\n    VIDEO_ACQUIRING_MANIFEST: {\n        en: 'Retrieving manifest..',\n        nl: 'Ophalen manifest...',\n    },\n    INITIALIZING: {\n        en: 'Initializing',\n        nl: 'Initialiseren',\n    },\n    NONE: {\n        en: 'None',\n        nl: 'Geen',\n    },\n    SOMETHING_WENT_WRONG: {\n        en: 'Whoops.. Something went wrong..',\n        nl: 'Oeps.. Iets ging mis..',\n    },\n    COULD_NOT_PLAY_CONTENT: {\n        en: 'Could not play content',\n        nl: 'Kon content niet afspelen',\n    },\n    NETWORK_ERROR: {\n        en: 'Network error',\n        nl: 'Netwerk fout',\n    },\n    AD_COUNT: {\n        en: 'ad',\n        nl: 'advertentie',\n    },\n    OF_COUNT: {\n        en: 'of',\n        nl: 'van',\n    },\n\n};\n\nexport default i18n;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/localization/i18n.js","import ProtoPlugin from './ProtoPlugin';\nimport EventDefaults from '../events/default-events';\n\nclass Analytics extends ProtoPlugin {\n    // eslint-disable-next-line class-methods-use-this\n    isAnalytics() {\n        return true;\n    }\n\n    load() {\n        EventDefaults.forEach((eventHandle) => {\n            const uppercasedHandle = eventHandle.charAt(0).toUpperCase() + eventHandle.substring(1);\n            const funcName = `on${uppercasedHandle}`;\n\n            if (this[funcName]) {\n                this.on(eventHandle, (e) => { this[funcName](e); });\n            }\n        });\n    }\n\n    unload() {\n        super.unload();\n    }\n\n    onPlayerRemoteConnected() {\n        this.deferLogging = true;\n    }\n\n    onPlayerRemoteDisconnected() {\n        this.deferLogging = false;\n    }\n}\n\nexport default Analytics;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/plugin-types/Analytics.js","import ProtoPlugin from './ProtoPlugin';\n\nclass Middleware extends ProtoPlugin {\n    // eslint-disable-next-line class-methods-use-this\n    isItemSupported() {\n        return new Promise(resolve => resolve({\n            supported: false,\n            errorCode: Meister.ErrorCodes.WRONG_TYPE,\n        }));\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    process(item) {\n        return new Promise((resolve) => {\n            resolve(item);\n        });\n    }\n}\n\nexport default Middleware;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/plugin-types/Middleware.js","import ProtoPlugin from './ProtoPlugin';\n\nclass Parser extends ProtoPlugin {\n    // eslint-disable-next-line class-methods-use-this\n    isItemSupported() {\n        return new Promise(resolve => resolve({\n            supported: false,\n            errorCode: Meister.ErrorCodes.WRONG_TYPE,\n        }));\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    process(item) {\n        return new Promise((resolve) => {\n            console.error('Process not implemented. Player may not play correctly.');\n            resolve(item);\n        });\n    }\n\n    unload() {\n        super.unload();\n    }\n}\n\nexport default Parser;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/plugin-types/Parser.js","import ProtoPlugin from './ProtoPlugin';\nimport Cookie from '../lib/triple/cookie';\n\nclass Player extends ProtoPlugin {\n    constructor(config, meister) {\n        super(config, meister);\n\n        this.wrapper = this.meister.playerWrapper;\n\n        this.mediaElement = null;\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    isTypeSupported() {\n        return false;\n    }\n\n    load() {\n        this.on('requestPlay', this.play.bind(this));\n        this.on('requestPause', this.pause.bind(this));\n\n        this.one('playerCreated', () => {\n            const cookieVolume = Cookie.get('volume');\n\n            if (cookieVolume) {\n                this.volume = cookieVolume;\n            }\n        });\n    }\n\n    unload() {\n        super.unload();\n        this.mediaElement = null;\n    }\n\n    hide() {\n        this.mediaElement.style.display = 'none';\n    }\n\n    show() {\n        this.mediaElement.style.display = 'block';\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    play() {\n\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    pause() {\n\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    get currentTime() {\n        console.warn('currentTime getter is not defined.');\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    set currentTime(time) {\n        console.warn(`currentTime setter is not defined. Can't process ${time}.`);\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    get duration() {\n        console.warn('duration getter is not defined.');\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    get playing() {\n        console.warn('playing getter is not defined.');\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    get buffered() {\n        console.warn('bufferd getter is not defined.');\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    get controls() {\n        console.warn('controls getter is not defined.');\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    set controls(controls) {\n        console.warn(`controls setter is not defined. Can't process ${controls}.`);\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    get currentSrc() {\n        console.warn('currentSrc getter is not defined.');\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    set currentSrc(url) {\n        console.warn(`currentSrc setter is not defined. Can't process ${url}.`);\n    }\n\n    get type() {\n        return this.playerType;\n    }\n\n    set type(playerType) {\n        this.playerType = playerType;\n    }\n}\n\nexport default Player;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/plugin-types/Player.js","import ProtoPlugin from './ProtoPlugin';\n\nclass Ui extends ProtoPlugin {\n    constructor(config, meister) {\n        super(config, meister);\n\n        this.controlsWrapper = this.meister.controlsWrapper;\n\n        this.element = null;\n    }\n}\n\nexport default Ui;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/plugin-types/Ui.js","import ProtoPlugin from './ProtoPlugin';\n\nclass UiPlugin extends ProtoPlugin {\n    constructor(config, meister) {\n        super(config, meister);\n\n        this.element = null;\n\n        const querySelector = this.config.parentSelector;\n        if (querySelector) {\n            this.parentElement = document.querySelector(querySelector);\n\n            if (!this.parentElement) {\n                console.warn(`Unable to find element with parentSelector '${querySelector}', ${this.name} is disabled.`);\n            }\n        } else {\n            this.one('uiReady', e => this.onUiReady(e));\n        }\n    }\n\n    onPluginOpen(e) {\n        if (e.name !== this.name) {\n            return;\n        }\n\n        this.element.classList.remove('pf-ui-element-hidden');\n    }\n\n    onPluginClose() {\n        this.element.classList.add('pf-ui-element-hidden');\n    }\n\n    onUiReady(e) {\n        const parent = e.pluginSpace;\n\n        parent.appendChild(this.element);\n        this.element.classList.add('pf-ui-element-hidden');\n\n        // Only listen to these events once attached.\n        this.on('uiPluginOpen', this.onPluginOpen.bind(this));\n        this.on('uiPluginClose', this.onPluginClose.bind(this));\n\n        this.meister.trigger('uiPluginInserted', {\n            icon: this.config.icon,\n            name: this.name,\n        });\n    }\n\n    draw() {\n        if (this.parentElement) {\n            this.parentElement.appendChild(this.element);\n        }\n    }\n}\n\nexport default UiPlugin;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/plugin-types/UiPlugin.js","// 'Inspired' by https://github.com/clappr/clappr/blob/master/src/components/browser.js\n\nconst Browser = {};\n\nconst userAgent = navigator.userAgent;\n\nconst browserInfo = () => {\n    const uaRegEx = /\\b(playstation 4|nx|opera|chrome|edge|safari|firefox|msie|trident(?=\\/))\\/?\\s*(\\d+)/i;\n    let parts = userAgent.match(uaRegEx) || [];\n    let extra;\n\n    if (/trident/i.test(parts[1])) {\n        extra = /\\brv[ :]+(\\d+)/g.exec(userAgent) || [];\n        return { name: 'IE', version: parseInt(extra[1] || '', 10) };\n    } else if (parts[1] === 'Chrome') {\n        extra = userAgent.match(/\\bOPR\\/(\\d+)/);\n        if (extra !== null) {\n            return { name: 'Opera', version: parseInt(extra[1], 10) };\n        }\n\n        extra = userAgent.match(/\\bEdge\\/(\\d+\\.\\d+)/);\n        if (extra !== null) {\n            return { name: 'Edge', version: parseFloat(extra[1]) };\n        }\n    }\n    parts = parts[2] ? [parts[1], parts[2]] : [navigator.appName, navigator.appVersion, '-?'];\n\n    extra = userAgent.match(/version\\/(\\d+)/i);\n    if (extra) {\n        parts.splice(1, 1, extra[1]);\n    }\n\n    return { name: parts[0], version: parseInt(parts[1], 10) };\n};\n\nconst info = browserInfo();\n\nBrowser.isSafari = /safari/i.test(userAgent) && userAgent.indexOf('Chrome') === -1;\nBrowser.isEdge = /edge/i.test(userAgent);\nBrowser.isChrome = /chrome/i.test(userAgent) && !Browser.isEdge;\nBrowser.isChrome64 = Browser.isChrome && /\\bx64/i.test(userAgent);\nBrowser.isFirefox = /firefox/i.test(userAgent);\nBrowser.isLegacyIE = !!(window.ActiveXObject);\nBrowser.isIE = Browser.isLegacyIE || /trident.*rv:1\\d/i.test(userAgent);\nBrowser.isIE11 = /trident.*rv:11/i.test(userAgent);\nBrowser.isChromecast = Browser.isChrome && /CrKey/i.test(userAgent);\nBrowser.isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone|IEMobile|Opera Mini/i.test(userAgent);\nBrowser.isiOS = /iPad|iPhone|iPod/i.test(userAgent);\n\nBrowser.isAndroid = /Android/i.test(userAgent);\nBrowser.isWindowsPhone = /Windows Phone/i.test(userAgent);\nBrowser.isWin8App = /MSAppHost/i.test(userAgent);\nBrowser.isWiiU = /WiiU/i.test(userAgent);\nBrowser.isPS4 = /PlayStation 4/i.test(userAgent);\nBrowser.isSamsungBrowser = /SamsungBrowser/i.test(userAgent);\nBrowser.isSamsung = /SAMSUNG/i.test(userAgent);\nBrowser.isMacintosh = /Macintosh/i.test(userAgent);\nBrowser.isFacebook = /FBAN/i.test(userAgent) && /FBAV/i.test(userAgent);\n\nBrowser.name = info.name;\nBrowser.version = info.version;\n\nBrowser.isNonAutoPlay = false;\n\nif (Browser.isMobile) {\n    Browser.isNonAutoPlay = true;\n} else if (Browser.isSafari && Browser.version >= 11) {\n    Browser.isNonAutoPlay = true;\n}\n\nexport default Browser;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/utils/Browser.js","class BrowserPolyfill {\n    static init() {\n        if (!('remove' in Element.prototype)) {\n            Element.prototype.remove = function remove() {\n                if (this.parentNode) {\n                    this.parentNode.removeChild(this);\n                }\n            };\n        }\n    }\n}\n\nexport default BrowserPolyfill;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/utils/BrowserPolyfill.js","class ElementUtils {\n    static classListAdd(element, ...classNames) {\n        for (let i = 0; i < classNames.length; i += 1) {\n            const className = classNames[i];\n\n            element.classList.add(className);\n        }\n    }\n\n    static classListRemove(element, ...classNames) {\n        for (let i = 0; i < classNames.length; i += 1) {\n            const className = classNames[i];\n\n            element.classList.remove(className);\n        }\n    }\n}\n\nexport default ElementUtils;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/utils/ElementUtils.js","export function timeToHMS(time) {\n    if (isNaN(time)) return '-';\n\n    const hours = Math.floor(time / 3600);\n    let minutes = Math.floor((time - (hours * 3600)) / 60);\n    let seconds = time - (hours * 3600) - (minutes * 60);\n\n    if (hours !== 0 && minutes < 10) {\n        minutes = `0${minutes}`;\n    }\n    if (seconds < 10) {\n        seconds = `0${seconds}`;\n    }\n\n    if (hours !== 0) {\n        return `${hours}:${minutes}:${seconds}`;\n    }\n\n    return `${minutes}:${seconds}`;\n}\n\nexport function bitrateToResolution(bitrate) {\n    // A negative bitrate does not make sense\n    if (bitrate < 0) {\n        return NaN;\n    }\n\n    const kbps = bitrate / 1000;\n    return `${kbps}Kbps`;\n}\n\n/**\n * Constructs a new URI by interpreting a path relative to another\n * URI.\n * @param basePath {string} a relative or absolute URI\n * @param path {string} a path part to combine with the base\n * @return {string} a URI that is equivalent to composing `base`\n * with `path`\n * @see http://stackoverflow.com/questions/470832/getting-an-absolute-url-from-a-relative-one-ie6-issue\n */\nexport function resolveUrl(basePath, path) {\n    // use the base element to get the browser to handle URI resolution\n    const oldBase = document.querySelector('base');\n    const docHead = document.querySelector('head');\n    const a = document.createElement('a');\n    let base = oldBase;\n    let oldHref;\n\n    // prep the document\n    if (oldBase) {\n        oldHref = oldBase.href;\n    } else {\n        base = docHead.appendChild(document.createElement('base'));\n    }\n\n    base.href = basePath;\n    a.href = path;\n    const result = a.href;\n\n    // clean up\n    if (oldBase) {\n        oldBase.href = oldHref;\n    } else {\n        docHead.removeChild(base);\n    }\n    return result;\n}\n\n/**\n * Simple evaluator if the given element is\n * an node object or not and returns a Boolean.\n * @param node {any} anything that will be evaluated if it is a Node Object\n * @see http://stackoverflow.com/a/384380\n*/\nexport function isDOMNode(node) {\n    try {\n        return node instanceof HTMLElement;\n    } catch (e) {\n        return (typeof node === 'object') &&\n            (node.nodeType === 1) && (typeof node.style === 'object') &&\n            (typeof node.ownerDocument === 'object');\n    }\n}\n\n/*\n    Exports\n------------------------------------------ */\nexport default {\n    timeToHMS,\n    bitrateToResolution,\n    resolveUrl,\n    isDOMNode,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/utils/Utils.js","module.exports = {\n\t\"name\": \"@meisterplayer/meisterplayer\",\n\t\"version\": \"5.2.3\",\n\t\"description\": \"Meister Player: Video Player for HTML5\",\n\t\"main\": \"dist/Meister.js\",\n\t\"keywords\": [\n\t\t\"meister\",\n\t\t\"video\",\n\t\t\"plugin\"\n\t],\n\t\"scripts\": {\n\t\t\"lint\": \"eslint ./src/js\",\n\t\t\"test\": \"jest\",\n\t\t\"test:coverage\": \"jest --coverage\",\n\t\t\"build\": \"gulp build\",\n\t\t\"dist\": \"gulp build:min && gulp build:dist\"\n\t},\n\t\"author\": \"Triple\",\n\t\"license\": \"Apache-2.0\",\n\t\"dependencies\": {\n\t\t\"noop2\": \"^2.0.0\"\n\t},\n\t\"devDependencies\": {\n\t\t\"babel-preset-es2015\": \"^6.24.0\",\n\t\t\"babel-preset-es2017\": \"^6.22.0\",\n\t\t\"gulp\": \"^3.9.1\",\n\t\t\"jest\": \"^20.0.4\",\n\t\t\"meister-gulp-webpack-tasks\": \"^1.0.6\",\n\t\t\"meister-js-dev\": \"^3.1.0\",\n\t\t\"yargs\": \"^7.1.0\"\n\t}\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./package.json\n// module id = 37\n// module chunks = 0"],"sourceRoot":""}