{"version":3,"sources":["webpack:///webpack/bootstrap 58be4fe798259ee5ea27","webpack:///./src/js/plugin-types/ProtoPlugin.js","webpack:///./src/js/Configuration.js","webpack:///./src/js/events/default-events.js","webpack:///./src/js/lib/triple/cookie.js","webpack:///./src/js/plugin-types/Media.js","webpack:///./index.js","webpack:///./~/noop2/index.js","webpack:///./src/js/ExtraEvents.js","webpack:///./src/js/FullscreenController.js","webpack:///./src/js/InstanceBag.js","webpack:///./src/js/Localization.js","webpack:///./src/js/MediaController.js","webpack:///./src/js/Meister.js","webpack:///./src/js/Parallel.js","webpack:///./src/js/Playlist.js","webpack:///./src/js/PluginLoader.js","webpack:///./src/js/errorCodes.js","webpack:///./src/js/events/ad-events.js","webpack:///./src/js/events/control-events.js","webpack:///./src/js/events/global-events.js","webpack:///./src/js/events/item-events.js","webpack:///./src/js/events/player-events.js","webpack:///./src/js/events/playlist-events.js","webpack:///./src/js/events/ui-events.js","webpack:///./src/js/lib/triple/event-handler.js","webpack:///./src/js/localization/default-en.js","webpack:///./src/js/localization/default-nl.js","webpack:///./src/js/localization/i18n.js","webpack:///./src/js/plugin-types/Analytics.js","webpack:///./src/js/plugin-types/Middleware.js","webpack:///./src/js/plugin-types/Parser.js","webpack:///./src/js/plugin-types/Player.js","webpack:///./src/js/plugin-types/Ui.js","webpack:///./src/js/plugin-types/UiPlugin.js","webpack:///./src/js/utils/Browser.js","webpack:///./src/js/utils/BrowserPolyfill.js","webpack:///./src/js/utils/ElementUtils.js","webpack:///./src/js/utils/Utils.js"],"names":["ProtoPlugin","config","meister","name","eventStore","on","destroy","bind","hook","handler","push","block","one","remove","unload","ENVIRONMENT","store","production","global","autoplay","controls","startMuted","debug","audioOnly","Dash","dvrThreshold","dvrEnabled","Hls","development","Configuration","key","value","options","Object","keys","forEach","plugins","plugin","EventDefaults","Cookie","date","expires","toGMTString","document","cookie","keyEQ","ca","split","i","length","charAt","substring","indexOf","substr","set","Media","Promise","resolve","supported","errorCode","Meister","ErrorCodes","WRONG_TYPE","item","console","warn","log","type","src","Number","isFinite","startPosition","playerLoadedMetadata","_onPlayerTimeUpdate","_onPlayerSeek","onRequestSeek","blockSeekForward","player","duration","startPositionCompleted","trigger","targetTime","forcedStart","error","debugEnabled","NaN","time","module","exports","noop","ExtraEvents","meisterInstance","window","onfocus","eventHandler","onForeground","onblur","addEventListener","visibility","visibilityState","FullscreenController","fullscreenElement","defaultWrapper","customFullscreenElement","element","querySelector","Node","fullscreenOnDoubleClick","browser","isiOS","isAndroid","tapped","controlsWrapper","doubleTapCheck","toggleFullscreen","mozFullScreenElement","webkitFullscreenElement","msFullscreenElement","playerPlugin","mediaElement","webkitEnterFullscreen","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","Element","ALLOW_KEYBOARD_INPUT","msRequestFullscreen","exitFullscreen","cancelFullScreen","mozCancelFullScreen","webkitCancelFullScreen","msExitFullscreen","webkitExitFullScreen","setTimeout","clearTimeout","isFullscreen","cancelFullscreen","InstanceBag","currentLanguage","languageBag","Localization","i18nOn","valueOrObj","language","lang","MediaController","currentPlugin","adBreakPlaying","disableLoadDuringAd","getPluginFor","then","process","processedItem","promise","load","catch","err","title","newItem","loadNewItem","pluginLoader","getPluginByItem","result","currentItem","currentTime","top","instances","query","userOptions","defaultOptions","assign","wrapper","Error","instanceId","Math","random","add","utils","elementUtils","init","getGlobals","setLanguage","i18nEnabled","isMobile","isNonAutoPlay","wasAutoplay","iosPlaysInline","container","createElement","playerWrapper","adWrapper","classList","classListAdd","appendChild","overwrite","drawUiPlugins","loadAnalyticsPlugins","register","playlist","mediaController","fullscreenController","id","instance","loadCurrentIndex","innerHTML","filter","triggerByUser","mediaItem","getPlayerPluginByType","TypeError","list","switchItem","caller","events","callback","disable","enable","message","code","volume","muted","playing","registerMiddleware","registeredPlugins","getRegistered","pluginName","Plugin","toLowerCase","alreadyExists","findIndex","resultPlugin","pluginVersion","MediaPlugin","ParserPlugin","PlayerPlugin","Ui","UiPlugin","AnalyticsPlugin","Middleware","Browser","PluginLoader","Vinson","Parallel","bitrates","currentBitrateIndex","reject","processPromises","floor","sampleItem","metadata","sort","a","b","bitrate","selectableBitrates","default","index","currentIndex","itemPlugin","getPluginsPromises","parallel","parallelItem","all","onRequestBitrate","info","bitrateIndex","changeBitrate","switchTime","wasPlaying","play","newBitrate","newBitrateIndex","Playlist","next","previous","goTo","e","Array","newList","slice","newIndex","loaded","registeredMiddleware","find","newOptions","builtIn","get","pluginConfig","execMiddleware","middleware","drmConfig","isItemSupportedPromises","pluginsInConsideration","isItemSupported","isSupported","items","supportInfo","isTypeSupported","draw","isAnalytics","middlewares","middlewareObject","getMiddleware","processMiddlewares","alreadyRegistered","errorCodes","NOT_SUPPORTED","NO_DRM","NO_MEDIA_FOUND","FAIRPLAY_CONTENT_ID_FUNCTION_ERROR","AdEvents","ControlEvents","GlobalEvents","ItemEvents","PlayerEvents","PlaylistEvents","UiEvents","EventHandler","eventHooks","counter","disabledHandles","protectedHandles","stack","eventHook","hooks","method","Function","newHandles","newHandle","_createHandler","eventObject","removed","splice","event","args","single","apply","eventHandle","hookIndex","English","VIDEO_ACQUIRING_LICENSE","VIDEO_BUFFERING","VIDEO_ACQUIRING_MANIFEST","INITIALIZING","NONE","Dutch","i18n","en","nl","Analytics","uppercasedHandle","toUpperCase","funcName","deferLogging","Parser","Player","pause","cookieVolume","style","display","url","playerType","parentSelector","parentElement","onUiReady","parent","pluginSpace","onPluginOpen","onPluginClose","icon","userAgent","navigator","browserInfo","uaRegEx","parts","match","extra","test","exec","version","parseInt","parseFloat","appName","appVersion","isSafari","isEdge","isChrome","isChrome64","isFirefox","isLegacyIE","ActiveXObject","isIE","isIE11","isChromecast","isWindowsPhone","isWin8App","isWiiU","isPS4","isSamsungBrowser","isSamsung","isMacintosh","isFacebook","BrowserPolyfill","prototype","parentNode","removeChild","ElementUtils","className","timeToHMS","bitrateToResolution","resolveUrl","isDOMNode","isNaN","hours","minutes","seconds","kbps","basePath","path","oldBase","docHead","base","oldHref","href","node","HTMLElement","nodeType","ownerDocument"],"mappings":";;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;;;;;IChEMA,W;AACF,yBAAYC,MAAZ,EAAoBC,OAApB,EAA6B;AAAA;;AACzB,aAAKD,MAAL,GAAcA,MAAd;AACA,aAAKC,OAAL,GAAeA,OAAf;AACA,aAAKC,IAAL,GAAY,KAAKF,MAAL,CAAYE,IAAxB;;AAEA,aAAKC,UAAL,GAAkB,EAAlB;;AAEA;AACA,aAAKF,OAAL,CAAaG,EAAb,CAAgB,gBAAhB,EAAkC,KAAKC,OAAL,CAAaC,IAAb,CAAkB,IAAlB,CAAlC,EAA2D,KAAKJ,IAAhE;AACH;;;;2BAEEK,I,EAAMC,O,EAAS;AAAA;;AACd,gCAAKL,UAAL,EAAgBM,IAAhB,uCAAwB,KAAKR,OAAL,CAAaG,EAAb,CAAgBG,IAAhB,EAAsBC,OAAtB,EAA+B,KAAKN,IAApC,CAAxB;AACH;;;4BAEGK,I,EAAMG,K,EAAOF,O,EAAS;AACtB,iBAAKL,UAAL,CAAgBM,IAAhB,CAAqB,KAAKR,OAAL,CAAaU,GAAb,CAAiBJ,IAAjB,EAAuBG,KAAvB,EAA8BF,OAA9B,EAAuC,KAAKN,IAA5C,CAArB;AACH;;;iCAEQ;AACL,iBAAKD,OAAL,CAAaW,MAAb,CAAoB,KAAKT,UAAzB;AACA,iBAAKA,UAAL,GAAkB,EAAlB;AACH;;;kCAES;AACN,iBAAKU,MAAL;AACH;;;;;;kBAGUd,W;;;;;;;;;;;;;;;;;AC9Bf,IAAMe,cAAc,aAApB;;AAEA,IAAMC,QAAQ;AACVC,gBAAY;AACRC,gBAAQ;AACJC,sBAAU,KADN;AAEJC,sBAAU,IAFN;AAGJC,wBAAY,KAHR;AAIJC,mBAAO,KAJH;AAKJC,uBAAW;AALP,SADA;AAQRC,cAAM;AACFC,0BAAc,GADZ;AAEFC,wBAAY;AAFV,SARE;AAYRC,aAAK;AACDD,wBAAY;AADX;AAZG,KADF;;AAkBVE,iBAAa;AACTV,gBAAQ;AACJC,sBAAU,KADN;AAEJC,sBAAU,IAFN;AAGJC,wBAAY,KAHR;AAIJC,mBAAO,KAJH;AAKJC,uBAAW;AALP,SADC;AAQTC,cAAM;AACFC,0BAAc,GADZ;AAEFC,wBAAY;AAFV,SARG;AAYTC,aAAK;AACDD,wBAAY;AADX;AAZI;AAlBH,CAAd;;IAqCMG,a;;;;;;;4BAESC,G,EAAKC,K,EAAO;AACnBf,kBAAMD,WAAN,EAAmBe,GAAnB,IAA0BC,KAA1B;AACH;;;4BAEUD,G,EAAK;AACZ,mBAAOd,MAAMD,WAAN,EAAmBe,GAAnB,CAAP;AACH;;;mCAEiBE,O,EAAS;AACvBC,mBAAOC,IAAP,CAAYF,OAAZ,EAAqBG,OAArB,CAA6B,UAACL,GAAD,EAAS;AAClCd,sBAAMD,WAAN,EAAmBG,MAAnB,CAA0BY,GAA1B,IAAiCE,QAAQF,GAAR,CAAjC;AACH,aAFD;;AAIA,mBAAOd,MAAMD,WAAN,EAAmBG,MAA1B;AACH;;;kCAEgBkB,O,EAAS;AACtB;AACAH,mBAAOC,IAAP,CAAYE,OAAZ,EAAqBD,OAArB,CAA6B,UAACE,MAAD,EAAY;AACrC,oBAAI,CAACrB,MAAMD,WAAN,EAAmBsB,MAAnB,CAAL,EAAiC;AAC7B;AACArB,0BAAMD,WAAN,EAAmBsB,MAAnB,IAA6BD,QAAQC,MAAR,CAA7B;AACA;AACH;;AAEDJ,uBAAOC,IAAP,CAAYE,QAAQC,MAAR,CAAZ,EAA6BF,OAA7B,CAAqC,UAAClC,MAAD,EAAY;AAC7Ce,0BAAMD,WAAN,EAAmBsB,MAAnB,EAA2BpC,MAA3B,IAAqCmC,QAAQC,MAAR,EAAgBpC,MAAhB,CAArC;AACH,iBAFD;AAGH,aAVD;AAWH;;;iCAEe;AACZ,mBAAOe,MAAMD,WAAN,CAAP;AACH;;;;;;kBAGUc,a;;;;;;;;;;;;;AC7Ef;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;AAEA,IAAMS,gBAAgB,EAAtB;;AAEAA,cAAc5B,IAAd;AACA4B,cAAc5B,IAAd;AACA4B,cAAc5B,IAAd;AACA4B,cAAc5B,IAAd;AACA4B,cAAc5B,IAAd;AACA4B,cAAc5B,IAAd;AACA4B,cAAc5B,IAAd;;kBAEe4B,a;;;;;;;;;;;;;;;;;IClBTC,M;;;;;;;4BACST,G,EAAKC,K,EAAoB;AAAA,gBAAbS,IAAa,uEAAN,IAAM;;AAChC,gBAAIC,UAAU,EAAd;;AAEA,gBAAID,SAAS,IAAb,EAAmB;AACfC,yCAAuBD,KAAKE,WAAL,EAAvB;AACH;;AAEDC,qBAASC,MAAT,GAAqBd,GAArB,SAA4BC,KAA5B,GAAoCU,OAApC;AACH;;;4BAEUX,G,EAAK;AACZ,gBAAMe,QAAWf,GAAX,MAAN;AACA,gBAAMgB,KAAKH,SAASC,MAAT,CAAgBG,KAAhB,CAAsB,GAAtB,CAAX;;AAEA,iBAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIF,GAAGG,MAAvB,EAA+BD,KAAK,CAApC,EAAuC;AACnC,oBAAIJ,SAASE,GAAGE,CAAH,CAAb;;AAEA,uBAAOJ,OAAOM,MAAP,CAAc,CAAd,KAAoB,GAA3B;AAAgCN,6BAASA,OAAOO,SAAP,CAAiB,CAAjB,EAAoBP,OAAOK,MAA3B,CAAT;AAAhC,iBACA,IAAIL,OAAOQ,OAAP,CAAeP,KAAf,KAAyB,CAA7B,EAAgC,OAAOD,OAAOS,MAAP,CAAcR,MAAMI,MAApB,EAA4BL,OAAOK,MAAnC,CAAP;AACnC;;AAED,mBAAO,IAAP;AACH;;;gCAEanB,G,EAAK;AACf,iBAAKwB,GAAL,CAASxB,GAAT,EAAc,EAAd,EAAkB,CAAC,CAAnB;AACH;;;;;;kBAGUS,M;;;;;;;;;;;;;;;;;AC9Bf;;;;;;;;;;;;IAEMgB,K;;;;;;;;;;;;AACF;;;;0CAIkB;AACd,mBAAO,IAAIC,OAAJ,CAAY;AAAA,uBAAWC,QAAQ;AAClCC,+BAAW,KADuB;AAElCC,+BAAWC,QAAQC,UAAR,CAAmBC;AAFI,iBAAR,CAAX;AAAA,aAAZ,CAAP;AAIH;;;;;AAgDD;;;gCAGQC,I,EAAM;AACV,mBAAO,IAAIP,OAAJ,CAAY,UAACC,OAAD,EAAa;AAC5BO,wBAAQC,IAAR,CAAa,yDAAb;AACAR,wBAAQM,IAAR;AACH,aAHM,CAAP;AAIH;;AAED;;;;;;6BAGKA,I,EAAM;AAAA;;AACP,gBAAI,KAAK7D,OAAL,CAAaD,MAAb,CAAoBqB,KAAxB,EAA+B;AAC3B0C,wBAAQE,GAAR,+BAAuCH,KAAKI,IAA5C,qBAA8DJ,KAAKK,GAAnE;AACH;AACD,gBAAIC,OAAOC,QAAP,CAAgBP,KAAKQ,aAArB,CAAJ,EAAyC;AACrC,qBAAKA,aAAL,GAAqBR,KAAKQ,aAA1B;AACH;;AAED,iBAAKlE,EAAL,CAAQ,sBAAR,EAAgC;AAAA,uBAAM,OAAKmE,oBAAL,EAAN;AAAA,aAAhC;AACA,iBAAKnE,EAAL,CAAQ,mBAAR,EAA6B,KAAKoE,mBAAL,CAAyBlE,IAAzB,CAA8B,IAA9B,CAA7B;AACA,iBAAKF,EAAL,CAAQ,aAAR,EAAuB,KAAKqE,aAAL,CAAmBnE,IAAnB,CAAwB,IAAxB,CAAvB;AACA,iBAAKF,EAAL,CAAQ,aAAR,EAAuB,KAAKsE,aAAL,CAAmBpE,IAAnB,CAAwB,IAAxB,CAAvB;;AAEA,iBAAKqE,gBAAL,GAAwB,CAAC,CAACb,KAAKa,gBAA/B;AACH;;;+CAEsB;AACnB;AACA,gBAAI,KAAKL,aAAL,GAAqB,CAArB,IAA0B,KAAKM,MAAL,CAAYC,QAAZ,GAAuB,KAAKP,aAA1D,EAAyE;AACrE,oBAAI,KAAKQ,sBAAT,EAAiC;AACjC,qBAAKA,sBAAL,GAA8B,IAA9B;;AAEA,qBAAK7E,OAAL,CAAa8E,OAAb,CAAqB,aAArB,EAAoC;AAChCC,gCAAY,KAAKV,aADe;AAEhCW,iCAAa;AAFmB,iBAApC;AAIH;AACJ;;;8CAEqB;AAClBlB,oBAAQmB,KAAR,CAAiB,KAAKhF,IAAtB;AACH;;;wCAEe;AACZ6D,oBAAQmB,KAAR,CAAiB,KAAKhF,IAAtB;AACH;;;wCAEe;AACZ6D,oBAAQmB,KAAR,CAAiB,KAAKhF,IAAtB;AACH;;AAED;;;;;;iCAGS;AACL;AACA,iBAAK4E,sBAAL,GAA8B,KAA9B;AACA,iBAAKR,aAAL,GAAqB,IAArB;AACA,iBAAKK,gBAAL,GAAwB,KAAxB;AACH;;AAED;;;;;;kCAGU;AACN;AACH;;;4BAnHiB;AACdZ,oBAAQmB,KAAR,CAAiB,KAAKhF,IAAtB;AACA,mBAAO,IAAP;AACH;;AAED;;;;;;;;;;4BAOe;AACX,gBAAI,KAAKD,OAAL,CAAakF,YAAjB,EAA+B;AAC3BpB,wBAAQmB,KAAR,CAAiB,KAAKhF,IAAtB;AACH;;AAED,mBAAOkF,GAAP;AACH;;AAED;;;;;;;;;;4BAOkB;AACd,gBAAI,KAAKnF,OAAL,CAAakF,YAAjB,EAA+B;AAC3BpB,wBAAQmB,KAAR,CAAiB,KAAKhF,IAAtB;AACH;;AAED,mBAAOkF,GAAP;AACH;;AAED;;;;;;0BAKgBC,I,EAAM;AAClB,gBAAI,KAAKpF,OAAL,CAAakF,YAAjB,EAA+B;AAC3BpB,wBAAQmB,KAAR,CAAiB,KAAKhF,IAAtB;AACH;AACJ;;;;;;kBA0EUoD,K;;;;;;;;;;;;;ACpIf;;;;;;;;;;;;;;;ACAAgC,OAAOC,OAAP,GAAiBC,IAAjB;;AAEA;AACA;AACA,SAASA,IAAT,GAAgB,CAAE;;AAElB;AACAA,O;;;;;;;;;;;;;;;;;ACPA;;IAEMC,W;;;;;;;iCACcC,e,EAAiB;AAC7B;AACAC,mBAAOC,OAAP,GAAiB,YAAM;AACnBF,gCAAgBG,YAAhB,CAA6Bd,OAA7B,CAAqC,mBAArC,EAA0D;AACtDe,kCAAc;AADwC,iBAA1D;AAGH,aAJD;;AAMAH,mBAAOI,MAAP,GAAgB,YAAM;AAClBL,gCAAgBG,YAAhB,CAA6Bd,OAA7B,CAAqC,mBAArC,EAA0D;AACtDe,kCAAc;AADwC,iBAA1D;AAGH,aAJD;;AAMA;AACApD,qBAASsD,gBAAT,CAA0B,kBAA1B,EAA8C,YAAM;AAChDN,gCAAgBG,YAAhB,CAA6Bd,OAA7B,CAAqC,wBAArC,EAA+D;AAC3DkB,gCAAYvD,SAASwD;AADsC,iBAA/D;AAGH,aAJD;;AAMAxD,qBAASsD,gBAAT,CAA0B,wBAA1B,EAAoD,YAAM;AACtDN,gCAAgBG,YAAhB,CAA6Bd,OAA7B,CAAqC,kBAArC;AACH,aAFD;;AAIArC,qBAASsD,gBAAT,CAA0B,qBAA1B,EAAiD,YAAM;AACnDN,gCAAgBG,YAAhB,CAA6Bd,OAA7B,CAAqC,kBAArC;AACH,aAFD;;AAIArC,qBAASsD,gBAAT,CAA0B,kBAA1B,EAA8C,YAAM;AAChDN,gCAAgBG,YAAhB,CAA6Bd,OAA7B,CAAqC,kBAArC;AACH,aAFD;;AAIArC,qBAASsD,gBAAT,CAA0B,oBAA1B,EAAgD,YAAM;AAClDN,gCAAgBG,YAAhB,CAA6Bd,OAA7B,CAAqC,kBAArC;AACH,aAFD;AAGH;;;;;;kBAGUU,W;;;;;;;;;;;;;;;;;ICzCMU,oB;AACjB,kCAAYlG,OAAZ,EAAqB;AAAA;;AACjB,aAAKA,OAAL,GAAeA,OAAf;AACA;AACA,aAAKmG,iBAAL,GAAyB,KAAKnG,OAAL,CAAaoG,cAAtC;AACA,YAAI,KAAKpG,OAAL,CAAaD,MAAb,CAAoBsG,uBAAxB,EAAiD;AAC7C,gBAAI,OAAO,KAAKrG,OAAL,CAAaD,MAAb,CAAoBsG,uBAA3B,KAAuD,QAA3D,EAAqE;AACjE,oBAAMC,UAAU7D,SAAS8D,aAAT,CAAuB,KAAKvG,OAAL,CAAaD,MAAb,CAAoBsG,uBAA3C,CAAhB;AACA,oBAAI,CAACC,OAAL,EAAc;AACVxC,4BAAQC,IAAR,2DAAqE,KAAK/D,OAAL,CAAaD,MAAb,CAAoBsG,uBAAzF;AACH,iBAFD,MAEO;AACH,yBAAKF,iBAAL,GAAyBG,OAAzB;AACH;AACJ,aAPD,MAOO,IAAI,KAAKtG,OAAL,CAAaD,MAAb,CAAoBsG,uBAApB,YAAuDG,IAA3D,EAAiE;AACpE,qBAAKL,iBAAL,GAAyB,KAAKnG,OAAL,CAAaD,MAAb,CAAoBsG,uBAA7C;AACH,aAFM,MAEA;AACHvC,wBAAQC,IAAR,CAAa,yFAAb;AACH;AACJ;AACD,YAAI,KAAK/D,OAAL,CAAaD,MAAb,CAAoB0G,uBAAxB,EAAiD;AAC7C,gBAAI,KAAKzG,OAAL,CAAa0G,OAAb,CAAqBC,KAArB,IAA8B,KAAK3G,OAAL,CAAa0G,OAAb,CAAqBE,SAAvD,EAAkE;AAC9D;AACA,qBAAKC,MAAL,GAAc,IAAd;AACA,qBAAK7G,OAAL,CAAa8G,eAAb,CAA6Bf,gBAA7B,CAA8C,YAA9C,EAA4D,KAAKgB,cAAL,CAAoB1G,IAApB,CAAyB,IAAzB,CAA5D;AACH,aAJD,MAIO;AACH;AACA,qBAAKL,OAAL,CAAa8G,eAAb,CAA6Bf,gBAA7B,CAA8C,UAA9C,EAA0D,KAAKiB,gBAAL,CAAsB3G,IAAtB,CAA2B,IAA3B,CAA1D;AACH;AACJ;AACJ;;;;4CAWmB;AAChB,gBAAI,CAACoC,SAAS0D,iBAAV,IAA+B,CAAC1D,SAASwE,oBAAzC,IACA,CAACxE,SAASyE,uBADV,IACqC,CAACzE,SAAS0E,mBADnD,EACwE;AACpE,oBAAI,KAAKnH,OAAL,CAAa0G,OAAb,CAAqBC,KAAzB,EAAgC;AAC5B;AACA,yBAAK3G,OAAL,CAAaoH,YAAb,CAA0BC,YAA1B,CAAuCC,qBAAvC;AACH,iBAHD,MAGO,IAAI,KAAKnB,iBAAL,CAAuBoB,iBAA3B,EAA8C;AACjD,yBAAKpB,iBAAL,CAAuBoB,iBAAvB;AACH,iBAFM,MAEA,IAAI,KAAKpB,iBAAL,CAAuBqB,oBAA3B,EAAiD;AACpD,yBAAKrB,iBAAL,CAAuBqB,oBAAvB;AACH,iBAFM,MAEA,IAAI,KAAKrB,iBAAL,CAAuBsB,uBAA3B,EAAoD;AACvD,yBAAKtB,iBAAL,CAAuBsB,uBAAvB,CAA+CC,QAAQC,oBAAvD;AACH,iBAFM,MAEA,IAAI,KAAKxB,iBAAL,CAAuByB,mBAA3B,EAAgD;AACnD,yBAAKzB,iBAAL,CAAuByB,mBAAvB;AACH;AACJ;AACJ;;;2CAEkB;AACf,gBAAInF,SAAS0D,iBAAb,EAAgC;AAC5B1D,yBAASoF,cAAT;AACH,aAFD,MAEO,IAAIpF,SAASqF,gBAAb,EAA+B;AAClCrF,yBAASqF,gBAAT;AACH,aAFM,MAEA,IAAIrF,SAASsF,mBAAb,EAAkC;AACrCtF,yBAASsF,mBAAT;AACH,aAFM,MAEA,IAAItF,SAASuF,sBAAb,EAAqC;AACxCvF,yBAASuF,sBAAT;AACH,aAFM,MAEA,IAAIvF,SAASwF,gBAAb,EAA+B;AAClCxF,yBAASwF,gBAAT;AACH;AACD,gBAAI,KAAKjI,OAAL,CAAa0G,OAAb,CAAqBC,KAAzB,EAAgC;AAC5B;AACA,qBAAK3G,OAAL,CAAaoH,YAAb,CAA0BC,YAA1B,CAAuCa,oBAAvC;AACH;AACJ;;;yCAEgB;AAAA;;AACb;AACA,gBAAI,CAAC,KAAKrB,MAAV,EAAkB;AACd;AACA,qBAAKA,MAAL,GAAcsB,WAAW,YAAM;AAAE,0BAAKtB,MAAL,GAAc,IAAd;AAAqB,iBAAxC,EAA0C,GAA1C,CAAd;AACH,aAHD,MAGO;AACH;AACA;AACAuB,6BAAa,KAAKvB,MAAlB;AACA,qBAAKA,MAAL,GAAc,IAAd;AACA,qBAAKG,gBAAL;AACH;AACJ;;;2CACkB;AACf,gBAAI,KAAKhH,OAAL,CAAaqI,YAAjB,EAA+B;AAC3B,qBAAKC,gBAAL;AACH,aAFD,MAEO;AACH,qBAAKf,iBAAL;AACH;AACJ;;;4BAhEkB;AACf,gBAAI,CAAC9E,SAAS0D,iBAAV,IAA+B,CAAC1D,SAASwE,oBAAzC,IACA,CAACxE,SAASyE,uBADV,IACqC,CAACzE,SAAS0E,mBADnD,EACwE;AACpE,uBAAO,KAAP;AACH;;AAED,mBAAO,IAAP;AACH;;;;;;kBAtCgBjB,oB;;;;;;;;;;;;;;;;;ACDrB,IAAMpF,QAAQ,EAAd;;IAEMyH,W;;;;;;;4BACS3G,G,EAAKC,K,EAAO;AACnBf,kBAAMc,GAAN,IAAaC,KAAb;AACH;;;4BAEUD,G,EAAK;AACZ,mBAAOd,MAAMc,GAAN,CAAP;AACH;;;;;;kBAGU2G,W;;;;;;;;;;;;;;;;;ACZf;;;;AACA;;;;AACA;;;;;;;;AAEA,IAAIC,kBAAkB,IAAtB;;AAEA,IAAMC,cAAc,EAApB;;IAEMC,Y;;;;;;;6BAEUC,M,EAAQ;AAChB,gBAAIA,MAAJ,EAAY;AACR5G,uBAAOC,IAAP,iBAAsBC,OAAtB,CAA8B,UAACL,GAAD,EAAS;AACnC8G,iCAAatF,GAAb,CAAiBxB,GAAjB,EAAsB,eAASA,GAAT,CAAtB,EAAqC4G,eAArC;AACH,iBAFD;AAGH,aAJD,MAIO;AACH1E,wBAAQC,IAAR,CAAa,0HAAb;AACAhC,uBAAOC,IAAP,sBAAqBC,OAArB,CAA6B,UAACL,GAAD,EAAS;AAClC8G,iCAAatF,GAAb,CAAiBxB,GAAjB,EAAsB,oBAAQA,GAAR,CAAtB,EAAoC,IAApC;AACH,iBAFD;;AAIAG,uBAAOC,IAAP,sBAAmBC,OAAnB,CAA2B,UAACL,GAAD,EAAS;AAChC8G,iCAAatF,GAAb,CAAiBxB,GAAjB,EAAsB,oBAAMA,GAAN,CAAtB,EAAkC,IAAlC;AACH,iBAFD;AAGH;AACJ;;;4BAEUA,G,EAAKgH,U,EAAwC;AAAA,gBAA5BC,QAA4B,uEAAjBL,eAAiB;;AACpD;AACA,gBAAI,CAACC,YAAYI,QAAZ,CAAL,EAA4B;AACxBJ,4BAAYI,QAAZ,IAAwB,EAAxB;AACH;AACD;AACA,gBAAIhH,QAAQD,GAAZ;AACA,gBAAI,QAAOgH,UAAP,yCAAOA,UAAP,OAAsB,QAA1B,EAAoC;AAChC;AACA/G,wBAAQ+G,WAAWC,QAAX,CAAR;AACH,aAHD,MAGO,IAAI,OAAOD,UAAP,KAAsB,QAA1B,EAAoC;AACvC;AACA/G,wBAAQ+G,UAAR;AACH;AACDH,wBAAYI,QAAZ,EAAsBjH,GAAtB,IAA6BC,KAA7B;AACH;;;4BAEUD,G,EAAiC;AAAA,gBAA5BiH,QAA4B,uEAAjBL,eAAiB;;AACxC,mBAAOC,YAAYI,QAAZ,EAAsBjH,GAAtB,CAAP;AACH;;;8BAEsC;AAAA,gBAA5BiH,QAA4B,uEAAjBL,eAAiB;;AACnC,mBAAOC,YAAYI,QAAZ,CAAP;AACH;;;oCAEkBC,I,EAAM;AACrBN,8BAAkBM,IAAlB;AACH;;;;;;kBAGUJ,Y;;;;;;;;;;;;;;;;;ACzDf;;IAEMK,e;AACF,6BAAY/I,OAAZ,EAAqB;AAAA;;AAAA;;AACjB,aAAKA,OAAL,GAAeA,OAAf;;AAEA,aAAKgJ,aAAL,GAAqB,IAArB;;AAEA;AACA,aAAKC,cAAL,GAAsB,KAAtB;AACA,aAAKjJ,OAAL,CAAaG,EAAb,CAAgB,gBAAhB,EAAkC,YAAM;AACpC,kBAAK8I,cAAL,GAAsB,IAAtB;AACH,SAFD;;AAIA,aAAKjJ,OAAL,CAAaG,EAAb,CAAgB,CAAC,cAAD,EAAiB,cAAjB,CAAhB,EAAkD,YAAM;AACpD,kBAAK8I,cAAL,GAAsB,KAAtB;AACH,SAFD;AAGH;;;;oCAEWpF,I,EAAM;AAAA;;AACd,gBAAI,KAAK7D,OAAL,CAAaD,MAAb,CAAoBmJ,mBAApB,IAA2C,KAAKD,cAApD,EAAoE;AAChE,qBAAKjJ,OAAL,CAAa8E,OAAb,CAAqB,mBAArB,EAA0C,EAAEG,OAAO,WAAT,EAA1C;AACAnB,wBAAQC,IAAR,CAAa,8CAAb;AACA;AACH;;AAED;AACA,gBAAI,KAAK5B,MAAT,EAAiB;AACb,qBAAKA,MAAL,CAAYvB,MAAZ;AACA,qBAAKuB,MAAL,GAAc,IAAd;AACH;AACD;AACA,iBAAKnC,OAAL,CAAa8E,OAAb,CAAqB,cAArB;;AAEA,iBAAKqE,YAAL,CAAkBtF,IAAlB,EAAwBuF,IAAxB,CAA6B,UAACjH,MAAD,EAAY;AACrC,uBAAKA,MAAL,GAAcA,MAAd;;AAEA,uBAAKA,MAAL,CAAYkH,OAAZ,CAAoBxF,IAApB,EACKuF,IADL,CACU,UAACE,aAAD,EAAmB;AACrB,wBAAMC,UAAU,OAAKpH,MAAL,CAAYqH,IAAZ,CAAiBF,aAAjB,CAAhB;;AAEA,wBAAIC,OAAJ,EAAa;AACTA,gCAAQH,IAAR,CAAa,YAAM;AACf,mCAAKpJ,OAAL,CAAa8E,OAAb,CAAqB,YAArB,EAAmC,EAAEjB,MAAMyF,aAAR,EAAnC;AACH,yBAFD,EAEGG,KAFH,CAES,UAACC,GAAD,EAAS;AACd5F,oCAAQmB,KAAR,OAAkB,OAAK9C,MAAL,CAAYlC,IAA9B,2CAAuE4D,KAAKI,IAA5E,sBAA+FJ,KAAKK,GAApG,UAA6GwF,GAA7G,EADc,CACqG;AACtH,yBAJD;AAKH,qBAND,MAMO;AACH,+BAAK1J,OAAL,CAAa8E,OAAb,CAAqB,YAArB,EAAmC,EAAEjB,MAAMyF,aAAR,EAAnC;AACH;AACJ,iBAbL,EAcKG,KAdL,CAcW,UAACC,GAAD,EAAS;AACZ,2BAAK1J,OAAL,CAAaiF,KAAb,4CAA2DpB,KAAKI,IAAhE,UACIyF,IAAIjG,SADR,EACmB,EAAEkG,OAAO,yBAAT,EADnB;AAEA7F,4BAAQmB,KAAR,OAAkB,OAAK9C,MAAL,CAAYlC,IAA9B,8CAA0E4D,KAAKI,IAA/E,sBAAkGJ,KAAKK,GAAvG,UAAgHwF,GAAhH,EAHY,CAG0G;AACzH,iBAlBL;AAmBH,aAtBD,EAsBGD,KAtBH,CAsBS,UAACC,GAAD,EAAS;AACd5F,wBAAQmB,KAAR,OAAkB,OAAK9C,MAAL,CAAYlC,IAA9B,mDAA+E4D,KAAKI,IAApF,sBAAuGJ,KAAKK,GAA5G,WAAsHwF,GAAtH,EADc,CAC8G;AAC/H,aAxBD;AAyBH;;;mCAEUE,O,EAAS;AAChB,iBAAKC,WAAL,CAAiBD,OAAjB;AACH;;;qCA+CY/F,I,EAAM;AACf,mBAAO,KAAK7D,OAAL,CAAa8J,YAAb,CAA0BC,eAA1B,CAA0ClG,IAA1C,EAAgDuF,IAAhD,CAAqD,UAACY,MAAD,EAAY;AACpE,oBAAIA,OAAOvG,SAAX,EAAsB;AAClB,0BAAMuG,MAAN;AACH;;AAED,uBAAOA,MAAP;AACH,aANM,CAAP;AAOH;;;4BArDiB;AACd,gBAAI,KAAK7H,MAAL,IAAe,KAAKA,MAAL,CAAY8H,WAA/B,EAA4C;AACxC,uBAAO,KAAK9H,MAAL,CAAY8H,WAAnB;AACH;;AAEDnG,oBAAQC,IAAR,CAAgB,KAAK5B,MAAL,CAAYlC,IAA5B;AACA,mBAAO,EAAP;AACH;;AAED;;;;;;;;;;4BAOe;AACX,gBAAI,CAAC,KAAKkC,MAAV,EAAkB;AAAE,uBAAOgD,GAAP;AAAa;;AAEjC,mBAAO,KAAKhD,MAAL,CAAYyC,QAAnB;AACH;;AAED;;;;;;;;;4BAMkB;AACd,gBAAI,CAAC,KAAKzC,MAAV,EAAkB;AAAE,uBAAOgD,GAAP;AAAa;;AAEjC,mBAAO,KAAKhD,MAAL,CAAY+H,WAAnB;AACH;;AAED;;;;;;0BAKgB9E,I,EAAM;AAClB,gBAAI,CAAC,KAAKjD,MAAV,EAAkB;AAAE;AAAS;;AAE7B,iBAAKA,MAAL,CAAY+H,WAAZ,GAA0B9E,IAA1B;AACH;;;;;;kBAaU2D,e;;;;;;;;;;;;;;AClHf;;AAUA;;AAEA;;;AAnBA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAIA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;AAEA;AACA,IAAIrD,WAAWA,OAAOyE,GAAtB,EAA2B;AACvBrG,YAAQC,IAAR,GAAeD,QAAQE,GAAR,CAAY3D,IAAZ,CAAiByD,OAAjB,CAAf;AACAA,YAAQmB,KAAR,GAAgBnB,QAAQE,GAAR,CAAY3D,IAAZ,CAAiByD,OAAjB,CAAhB;AACH;;AAED,IAAIsG,YAAY,EAAhB;;IAEM1G,O;AACF;;;;;;AAMA,qBAAY2G,KAAZ,EAAmBC,WAAnB,EAAgC;AAAA;;AAAA;;AAC5B;;AAEA;AACA,YAAMC,iBAAiB;AACnBvJ,oBAAQ;AADW,SAAvB;AAGA,YAAMc,UAAUC,OAAOyI,MAAP,CAAc,EAAd,EAAkBD,cAAlB,EAAkCD,WAAlC,CAAhB;;AAEA;AACA,YAAI,sBAAUD,KAAV,CAAJ,EAAsB;AAClB,iBAAKI,OAAL,GAAeJ,KAAf;AACH,SAFD,MAEO;AACH,iBAAKI,OAAL,GAAehI,SAAS8D,aAAT,CAAuB8D,KAAvB,CAAf;AACH;;AAED,YAAI,CAAC,KAAKI,OAAV,EAAmB;AACf,kBAAMC,sCAAoCL,KAApC,iBAAN;AACH;;AAED;AACA,aAAKzE,YAAL,GAAoB,mDAApB;AACA,aAAK+E,UAAL,GAAkBC,KAAKC,MAAL,EAAlB;AACA,8BAAYC,GAAZ,CAAgB,cAAhB,EAAgC,KAAKlF,YAArC;;AAEA,aAAKmF,KAAL;AACA;AACA,aAAKC,YAAL;AACA,aAAKtE,OAAL;AACA,aAAKgC,YAAL;;AAEA,kCAAgBuC,IAAhB;;AAEA;AACA,aAAKlL,MAAL,GAAc,wBAAcmL,UAAd,CAAyBpJ,QAAQd,MAAjC,CAAd;AACA,YAAI,KAAKjB,MAAL,CAAY8I,QAAhB,EAA0B;AACtB,iBAAKH,YAAL,CAAkByC,WAAlB,CAA8B,KAAKpL,MAAL,CAAY8I,QAA1C;AACH;AACD,aAAKH,YAAL,CAAkBuC,IAAlB,CAAuB,KAAKlL,MAAL,CAAYqL,WAAnC;;AAEA;AACA,YAAI,KAAKrL,MAAL,CAAYkB,QAAhB,EAA0B;AACtB;AACA,gBAAI,KAAKyF,OAAL,CAAa2E,QAAb,IAA0B,KAAK3E,OAAL,CAAa4E,aAAb,IAA8B,CAAC,KAAKvL,MAAL,CAAYoB,UAAzE,EAAsF;AAClF,oBAAMoK,cAAc,KAAKxL,MAAL,CAAYkB,QAAhC;AACA,qBAAKlB,MAAL,CAAYkB,QAAZ,GAAuB,KAAvB;AACA,qBAAKP,GAAL,CAAS,YAAT,EAAuB,YAAM;AACzB,0BAAKX,MAAL,CAAYkB,QAAZ,GAAuBsK,WAAvB;AACA,0BAAKpL,EAAL,CAAQ,YAAR,EAAsB;AAAA,+BAAM,MAAK2E,OAAL,CAAa,aAAb,CAAN;AAAA,qBAAtB,EAAyD,SAAzD;AACH,iBAHD,EAGG,SAHH;AAIH,aAPD,MAOO;AACH,qBAAK3E,EAAL,CAAQ,YAAR,EAAsB;AAAA,2BAAM,MAAK2E,OAAL,CAAa,aAAb,CAAN;AAAA,iBAAtB,EAAyD,SAAzD;AACH;AACJ;;AAED,YAAI,KAAK/E,MAAL,CAAY0G,uBAAhB,EAAyC;AACrC,iBAAK1G,MAAL,CAAYyL,cAAZ,GAA6B,IAA7B;AACH;AACD;AACA;;AAEA,aAAKC,SAAL,GAAiBhJ,SAASiJ,aAAT,CAAuB,KAAvB,CAAjB;AACA,aAAKtF,cAAL,GAAsB3D,SAASiJ,aAAT,CAAuB,KAAvB,CAAtB;AACA,aAAKC,aAAL,GAAqBlJ,SAASiJ,aAAT,CAAuB,KAAvB,CAArB;AACA,aAAK5E,eAAL,GAAuBrE,SAASiJ,aAAT,CAAuB,KAAvB,CAAvB;AACA,aAAKE,SAAL,GAAiBnJ,SAASiJ,aAAT,CAAuB,KAAvB,CAAjB;;AAEA,aAAKD,SAAL,CAAeI,SAAf,CAAyBf,GAAzB,CAA6B,qBAA7B;AACA,aAAK1E,cAAL,CAAoByF,SAApB,CAA8Bf,GAA9B,CAAkC,oBAAlC;AACA,aAAKa,aAAL,CAAmBE,SAAnB,CAA6Bf,GAA7B,CAAiC,WAAjC;AACA,aAAKhE,eAAL,CAAqB+E,SAArB,CAA+Bf,GAA/B,CAAmC,aAAnC;AACA,YAAI,CAAC,KAAK/K,MAAL,CAAYmB,QAAjB,EAA2B,KAAK4F,eAAL,CAAqB+E,SAArB,CAA+Bf,GAA/B,CAAmC,sBAAnC;AAC3B,aAAKE,YAAL,CAAkBc,YAAlB,CAA+B,KAAKF,SAApC,EAA+C,QAA/C,EAAyD,sBAAzD;;AAEA,aAAKnB,OAAL,CAAasB,WAAb,CAAyB,KAAKN,SAA9B;AACA,aAAKA,SAAL,CAAeM,WAAf,CAA2B,KAAK3F,cAAhC;AACA,aAAKA,cAAL,CAAoB2F,WAApB,CAAgC,KAAKJ,aAArC;AACA,aAAKvF,cAAL,CAAoB2F,WAApB,CAAgC,KAAKjF,eAArC;AACA,aAAKV,cAAL,CAAoB2F,WAApB,CAAgC,KAAKH,SAArC;;AAGA,gCAAcI,SAAd,CAAwBlK,OAAxB;;AAEA,aAAKgI,YAAL,GAAoB,2BAAiB,IAAjB,CAApB;AACA,aAAKA,YAAL,CAAkB/J,MAAlB,CAAyB+B,OAAzB,EAAkC,IAAlC;;AAEA;;AAEA,aAAKgI,YAAL,CAAkBmC,aAAlB;AACA,aAAKnC,YAAL,CAAkBoC,oBAAlB;;AAEA,8BAAYC,QAAZ,CAAqB,IAArB;;AAEA,aAAK/E,YAAL,GAAoB,IAApB;AACA,aAAKgF,QAAL,GAAgB,IAAhB;;AAEA,aAAKC,eAAL,GAAuB,8BAAoB,IAApB,CAAvB;AACA,aAAKC,oBAAL,GAA4B,mCAAyB,IAAzB,CAA5B;;AAEA,aAAKnM,EAAL,CAAQ,4BAAR,EAAsC,YAAM;AACxC,kBAAK2E,OAAL,CAAa,qBAAb,EAAoC,EAApC;AACH,SAFD;;AAIAsF,kBAAU5J,IAAV,CAAe;AACX+L,gBAAI,KAAK5B,UADE;AAEX6B,sBAAU;AAFC,SAAf;AAIH;;AAED;;;;;;;;;+BA4EO;AACH,iBAAKJ,QAAL,CAAcK,gBAAd;AACH;;AAED;;;;;;kCAGU;AAAA;;AACN;AACA,iBAAKhC,OAAL,CAAaiC,SAAb,GAAyB,EAAzB;;AAEA,iBAAK5H,OAAL,CAAa,gBAAb;AACA;AACAqD,uBAAW,YAAM;AACb,uBAAK2B,YAAL,GAAoB,IAApB;AACA,uBAAK1C,YAAL,GAAoB,IAApB;AACA,uBAAKgF,QAAL,GAAgB,IAAhB;AACA,uBAAKC,eAAL,GAAuB,IAAvB;AACA,uBAAKC,oBAAL,GAA4B,IAA5B;;AAEA,uBAAK1G,YAAL,CAAkBxF,OAAlB;;AAEAgK,4BAAYA,UAAUuC,MAAV,CAAiB;AAAA,2BAAYH,SAASD,EAAT,KAAgB,OAAKA,EAAjC;AAAA,iBAAjB,CAAZ;AACH,aAVD,EAUG,CAVH;AAWH;;;+BAE2B;AAAA,gBAAvBK,aAAuB,uEAAP,KAAO;;AACxB;AACA,iBAAK9H,OAAL,CAAa,aAAb,EAA4B,EAAE8H,4BAAF,EAA5B;AACH;;;gCAE4B;AAAA,gBAAvBA,aAAuB,uEAAP,KAAO;;AACzB,iBAAK9H,OAAL,CAAa,cAAb,EAA6B,EAAE8H,4BAAF,EAA7B;AACH;;;4CAsEmB;AAChB,gBAAI,CAAC,KAAKN,oBAAV,EAAgC;AAChC,iBAAKA,oBAAL,CAA0B/E,iBAA1B;AACH;;;2CAEkB;AACf,gBAAI,CAAC,KAAK+E,oBAAV,EAAgC;AAChC,iBAAKA,oBAAL,CAA0BhE,gBAA1B;AACH;;;wCAEerE,I,EAAM4I,S,EAAW;AAC7B,gBAAMzF,eAAe,KAAK0C,YAAL,CAAkBgD,qBAAlB,CAAwC7I,IAAxC,EAA8C4I,SAA9C,CAArB;;AAEA,gBAAI,KAAKzF,YAAT,EAAuB;AACnB,oBAAI,KAAKA,YAAL,IAAqB,KAAKA,YAAL,CAAkBnH,IAAlB,KAA2BmH,aAAanH,IAAjE,EAAuE;AACnE,yBAAKmH,YAAL,CAAkBxG,MAAlB;AACA,yBAAK+K,aAAL,CAAmBe,SAAnB,GAA+B,EAA/B;AACA,yBAAKtF,YAAL,GAAoBA,YAApB;AACA,yBAAKA,YAAL,CAAkBoC,IAAlB,CAAuBqD,SAAvB;AACH;AACJ,aAPD,MAOO,IAAIzF,YAAJ,EAAkB;AACrB,qBAAKA,YAAL,GAAoBA,YAApB;AACA,qBAAKA,YAAL,CAAkBoC,IAAlB,CAAuBqD,SAAvB;AACH,aAHM,MAGA;AACH/I,wBAAQC,IAAR,wCAAiDE,IAAjD;AACH;;AAED,mBAAO,KAAKmD,YAAZ;AACH;;AAED;;;;;;;;gCAKQvD,I,EAAM;AACV,gBAAI,CAACA,KAAKI,IAAV,EAAgB;AACZ,sBAAM,IAAI8I,SAAJ,CAAc,kCAAd,CAAN;AACH,aAFD,MAEO,IAAIlJ,KAAKI,IAAL,KAAc,QAAd,IAA0BJ,KAAKI,IAAL,KAAc,cAAxC,IAA0D,CAACJ,KAAKK,GAApE,EAAyE;AAC5E,sBAAM,IAAI6I,SAAJ,CAAc,6CAAd,CAAN;AACH;;AAED,iBAAKX,QAAL,GAAgB,uBAAa,CAACvI,IAAD,CAAb,EAAqB,IAArB,CAAhB;AACH;;;oCAEWmJ,I,EAAM;AACd,iBAAK,IAAIlK,IAAI,CAAb,EAAgBA,IAAIkK,KAAKjK,MAAzB,EAAiCD,KAAK,CAAtC,EAAyC;AACrC,oBAAI,CAACkK,KAAKlK,CAAL,EAAQmB,IAAb,EAAmB;AACf,0BAAM,IAAI8I,SAAJ,WAAsBjK,CAAtB,wCAAN;AACH,iBAFD,MAEO,IAAIkK,KAAKlK,CAAL,EAAQmB,IAAR,KAAiB,QAAjB,IACJ+I,KAAKlK,CAAL,EAAQmB,IAAR,KAAiB,cADb,IAEJ,CAAC+I,KAAKlK,CAAL,EAAQoB,GAFT,EAEc;AACjB,0BAAM,IAAI6I,SAAJ,WAAsBjK,CAAtB,mDAAN;AACH;AACJ;;AAED,iBAAKsJ,QAAL,GAAgB,uBAAaY,IAAb,EAAmB,IAAnB,CAAhB;AACH;;;mCAEUnJ,I,EAAM;AACb,iBAAKwI,eAAL,CAAqBY,UAArB,CAAgCpJ,IAAhC;AACH;;AAED;;;;2BACGvD,I,EAAMC,O,EAAS2M,M,EAAQ;AACtB,mBAAO,KAAKtH,YAAL,CAAkBzF,EAAlB,CAAqBG,IAArB,EAA2BC,OAA3B,EAAoC2M,MAApC,CAAP;AACH;;;4BAEG5M,I,EAAMG,K,EAAOF,O,EAAS2M,M,EAAQ;AAC9B,mBAAO,KAAKtH,YAAL,CAAkBlF,GAAlB,CAAsBJ,IAAtB,EAA4BG,KAA5B,EAAmCF,OAAnC,EAA4C2M,MAA5C,CAAP;AACH;;;kCAEgB;AAAA;;AACb,kCAAKtH,YAAL,EAAkBd,OAAlB;AACH;;;+BAEMqI,M,EAAQ;AACX,iBAAKvH,YAAL,CAAkBjF,MAAlB,CAAyBwM,MAAzB;AACH;;;gCAEO7M,I,EAAM8M,Q,EAAU;AACpB,iBAAKxH,YAAL,CAAkByH,OAAlB,CAA0B/M,IAA1B,EAAgC8M,QAAhC;AACH;;;+BAEM9M,I,EAAM8M,Q,EAAU;AACnB,iBAAKxH,YAAL,CAAkB0H,MAAlB,CAAyBhN,IAAzB,EAA+B8M,QAA/B;AACH;;;8BAEKG,O,EAA0C;AAAA,gBAAjCC,IAAiC,uEAA1B,UAA0B;AAAA,gBAAd1L,OAAc,uEAAJ,EAAI;;AAC5CgC,oBAAQmB,KAAR,CAAiBuI,IAAjB,WAA2BD,OAA3B;AACA,iBAAK3H,YAAL,CAAkBd,OAAlB,CAA0B,OAA1B,EAAmC;AAC/ByI,gCAD+B;AAE/BC,0BAF+B;AAG/B1L;AAH+B,aAAnC;AAKH;;AAED;;;;;;AAnPA;;;;;4BAKmB;AACf,mBAAO,KAAK/B,MAAL,CAAYqB,KAAnB;AACH;;AAED;;;;;;0BAKiBA,K,EAAO;AACpB;AACA,iBAAKrB,MAAL,CAAYqB,KAAZ,GAAoBA,KAApB;AACH;;AAED;;;;;;;;4BAKmB;AACf,mBAAO,KAAKrB,MAAL,CAAYmB,QAAnB;AACH;;AAED;;;;;;0BAKiBA,Q,EAAU;AACvB,gBAAIA,QAAJ,EAAc;AACV,qBAAK4F,eAAL,CAAqB+E,SAArB,CAA+BlL,MAA/B,CAAsC,sBAAtC;AACH,aAFD,MAEO;AACH,qBAAKmG,eAAL,CAAqB+E,SAArB,CAA+Bf,GAA/B,CAAmC,sBAAnC;AACH;;AAED,iBAAK/K,MAAL,CAAYmB,QAAZ,GAAuBA,QAAvB;AACH;;;4BAqCgB;AACb,mBAAO,KAAKnB,MAAL,CAAYsB,SAAZ,GAAwB,OAAxB,GAAkC,OAAzC;AACH;;;4BAEY;AACT,gBAAI,CAAC,KAAK+F,YAAV,EAAwB,OAAO,IAAP;;AAExB,mBAAO,KAAKA,YAAL,CAAkBqG,MAAzB;AACH,S;0BAEUA,M,EAAQ;AACf,gBAAI,CAAC,KAAKrG,YAAV,EAAwB;;AAExB,6BAAOhE,GAAP,CAAW,QAAX,EAAqBqK,MAArB;AACA,iBAAKrG,YAAL,CAAkBqG,MAAlB,GAA2BA,MAA3B;AACH;;;4BAEW;AACR,gBAAI,CAAC,KAAKrG,YAAV,EAAwB,OAAO,IAAP;;AAExB,mBAAO,KAAKA,YAAL,CAAkBsG,KAAzB;AACH,S;0BAESA,K,EAAO;AACb,gBAAI,CAAC,KAAKtG,YAAV,EAAwB;;AAExB,iBAAKA,YAAL,CAAkBsG,KAAlB,GAA0BA,KAA1B;AACH;;;4BAEa;AACV,gBAAI,CAAC,KAAKtG,YAAV,EAAwB,OAAO,IAAP;;AAExB,mBAAO,KAAKA,YAAL,CAAkBuG,OAAzB;AACH;;;4BAEiB;AACd,gBAAI,CAAC,KAAKtB,eAAV,EAA2B,OAAO,IAAP;;AAE3B,mBAAO,KAAKA,eAAL,CAAqBpC,WAA5B;AACH;;;4BAEc;AACX,gBAAI,CAAC,KAAKoC,eAAV,EAA2B,OAAO,IAAP;;AAE3B,mBAAO,KAAKA,eAAL,CAAqBzH,QAA5B;AACH;;;4BAEiB;AACd,gBAAI,CAAC,KAAKyH,eAAV,EAA2B,OAAO,IAAP;;AAE3B,mBAAO,KAAKA,eAAL,CAAqBnC,WAA5B;AACH,S;0BAEe9E,I,EAAM;AAClB,gBAAI,CAAC,KAAKiH,eAAV,EAA2B;;AAE3B,iBAAKA,eAAL,CAAqBnC,WAArB,GAAmC9E,IAAnC;AACH;;;4BAEkB;AACf,gBAAI,CAAC,KAAKkH,oBAAV,EAAgC,OAAO,IAAP;AAChC,mBAAO,KAAKA,oBAAL,CAA0BjE,YAAjC;AACH;;;4BAEgB;AACb,mBAAO,KAAKjB,YAAL,CAAkBnD,IAAzB;AACH;;;uCAoGqBhE,I,EAAMkC,M,EAAQ;AAChC,mBAAO,uBAAagK,QAAb,CAAsBlM,IAAtB,EAA4BkC,MAA5B,CAAP;AACH;;;2CAEyBlC,I,EAAMkC,M,EAAQ;AACpC,mBAAO,uBAAayL,kBAAb,CAAgC3N,IAAhC,EAAsCkC,MAAtC,CAAP;AACH;;;4BAtRoB;AACjB,mBAAO,QAAP;AACH;;AAED;;;;;;;;4BAK4B;AACxB,gBAAM0L,oBAAoB,uBAAaC,aAAb,EAA1B;AACA,gBAAM9D,SAAS,EAAf;;AAEA6D,8BAAkB5L,OAAlB,CAA0B,UAACE,MAAD,EAAY;AAClC,oBAAM4L,aAAa5L,OAAO6L,MAAP,CAAcD,UAAd,CAAyBE,WAAzB,EAAnB;AACA,oBAAMC,gBAAgBlE,OAAOmE,SAAP,CAAiB;AAAA,2BAAgBC,aAAaL,UAAb,CAAwBE,WAAxB,OAA0CF,UAA1D;AAAA,iBAAjB,CAAtB;;AAEA,oBAAIG,kBAAkB,CAAC,CAAvB,EAA0B;;AAE1BlE,uBAAOxJ,IAAP,CAAY;AACRuN,gCAAY5L,OAAO6L,MAAP,CAAcD,UADlB;AAERM,mCAAelM,OAAO6L,MAAP,CAAcK;AAFrB,iBAAZ;AAIH,aAVD;;AAYA,mBAAOrE,MAAP;AACH;;;4BA8PsB;AACnB,mBAAOI,SAAP;AACH;;;;;;AAGL1E,OAAOhC,OAAP,GAAiBA,OAAjB;;AAEA;AACAA,QAAQ4K,WAAR;AACA5K,QAAQ6K,YAAR;AACA7K,QAAQ8K,YAAR;AACA9K,QAAQ+K,EAAR;AACA/K,QAAQgL,QAAR;AACAhL,QAAQiL,eAAR;AACAjL,QAAQkL,UAAR;AACAlL,QAAQ5D,WAAR;;AAEA;AACA;AACA4D,QAAQmL,OAAR;;AAEA;AACAnL,QAAQC,UAAR;;AAEA;AACAD,QAAQoL,YAAR;AACApL,QAAQ/B,aAAR;;AAEA;AACA+D,OAAOqJ,MAAP,GAAgBrL,OAAhB;;kBAEeA,O;;;;;;;;;;;;;;;;;ACpdf;;;;;;;;;;+eADA;;;IAGMsL,Q;;;AACF,sBAAYhP,OAAZ,EAAqB;AAAA;;AAAA,wHACX,EAAEC,MAAM,kBAAR,EADW,EACmBD,OADnB;;AAGjB,cAAKA,OAAL,GAAeA,OAAf;AACA,cAAKkC,OAAL,GAAe,EAAf;;AAEA,cAAK+M,QAAL,GAAgB,IAAhB;AACA,cAAKC,mBAAL,GAA2B,CAA3B;;AAEA,cAAK/M,MAAL,GAAc,IAAd;;AAEA,cAAKjC,UAAL,GAAkB,EAAlB;AAXiB;AAYpB;;;;wCAEe2D,I,EAAM;AAClB,mBAAO,IAAIP,OAAJ,CAAY,UAACC,OAAD,EAAa;AAC5B,oBAAIM,KAAKI,IAAL,KAAc,OAAlB,EAA2B;AACvB,2BAAOV,QAAQ;AACXC,mCAAW,KADA;AAEXC,mCAAWC,QAAQC,UAAR,CAAmBC;AAFnB,qBAAR,CAAP;AAIH;;AAED,uBAAOL,QAAQ;AACXC,+BAAW;AADA,iBAAR,CAAP;AAGH,aAXM,CAAP;AAYH;;;gCAUOK,I,EAAM;AAAA;;AACV,mBAAO,IAAIP,OAAJ,CAAY,UAACC,OAAD,EAAU4L,MAAV,EAAqB;AACpC,oBAAMC,kBAAkB,EAAxB;;AAEA,uBAAKH,QAAL,GAAgBpL,KAAKoL,QAArB;AACA,uBAAKC,mBAAL,GAA2BtE,KAAKyE,KAAL,CAAW,OAAKJ,QAAL,CAAclM,MAAd,GAAuB,CAAlC,CAA3B;;AAEA;AACA,oBAAMuM,aAAa,OAAKL,QAAL,CAAc,OAAKC,mBAAnB,CAAnB;;AAEA,oBAAII,WAAWrL,IAAX,KAAoB,KAApB,IACGqL,WAAWrL,IAAX,KAAoB,MADvB,IAEGqL,WAAWrL,IAAX,KAAoB,KAFvB,IAGGqL,WAAWrL,IAAX,KAAoB,MAHvB,IAIGqL,WAAWC,QAJlB,EAKE;AACE,2BAAKN,QAAL,CAAcO,IAAd,CAAmB,UAACC,CAAD,EAAIC,CAAJ;AAAA,+BAAUD,EAAEF,QAAF,CAAWI,OAAX,GAAqBD,EAAEH,QAAF,CAAWI,OAA1C;AAAA,qBAAnB;;AAEA,wBAAMC,qBAAqB,EAA3B;AACA,yBAAK,IAAI9M,IAAI,CAAb,EAAgBA,IAAI,OAAKmM,QAAL,CAAclM,MAAlC,EAA0CD,KAAK,CAA/C,EAAkD;AAC9C,4BAAM6M,UAAU,OAAKV,QAAL,CAAcnM,CAAd,CAAhB;;AAEA;AACA,4BAAI6M,QAAQE,OAAZ,EAAqB;AACjB,mCAAKX,mBAAL,GAA2BpM,CAA3B;AACH;;AAED8M,2CAAmBpP,IAAnB,CAAwB;AACpBmP,qCAASA,QAAQJ,QAAR,CAAiBI,OADN;AAEpBG,mCAAOhN;AAFa,yBAAxB;AAIH;;AAED,2BAAK9C,OAAL,CAAa8E,OAAb,CAAqB,cAArB,EAAqC;AACjCmK,kCAAUW,kBADuB;AAEjCG,sCAAc,OAAKb;AAFc,qBAArC;AAIH;;AAED,uBAAKlP,OAAL,CAAa8J,YAAb,CAA0BC,eAA1B,CAA0C,OAAKkF,QAAL,CAAc,OAAKC,mBAAnB,CAA1C,EACK9F,IADL,CACU,UAAC4G,UAAD,EAAgB;AAClB,wBAAIA,WAAWvM,SAAf,EAA0B;AACtB,+BAAKzD,OAAL,CAAaiF,KAAb,4CAA2D,OAAKgK,QAAL,CAAc,OAAKC,mBAAnB,EAAwCjL,IAAnG,UAA6G;AACzG+L,mCAAWvM,SADf,EAC0B,EAAEkG,OAAO,yBAAT,EAD1B;AAEA;AACH;;AAED,2BAAKxH,MAAL,GAAc6N,UAAd;;AAEA,wBAAMC,qBAAqB,EAA3B;;AAEAb,oCAAgB5O,IAAhB,CACI,OAAK2B,MAAL,CAAYkH,OAAZ,CAAoB,OAAK4F,QAAL,CAAc,OAAKC,mBAAnB,CAApB,CADJ;;AAIA;AACArL,yBAAKqM,QAAL,CAAcjO,OAAd,CAAsB,UAACkO,YAAD,EAAkB;AACpC,4BAAMhO,SAAS,OAAKnC,OAAL,CAAa8J,YAAb,CAA0BC,eAA1B,CAA0CoG,YAA1C,CAAf;AACA,4BAAIhO,OAAOsB,SAAX,EAAsB;AAClB;AACH;;AAEDwM,2CAAmBzP,IAAnB,CAAwB2B,MAAxB;AACH,qBAPD;;AASAmB,4BAAQ8M,GAAR,CAAYH,kBAAZ,EAAgC7G,IAAhC,CAAqC,UAAClH,OAAD,EAAa;AAC9C;AACAA,gCAAQD,OAAR,CAAgB,UAACE,MAAD,EAAS2N,KAAT,EAAmB;AAC/B,gCAAI,CAAC3N,OAAOsB,SAAZ,EAAuB;AACnB,uCAAKvB,OAAL,CAAa1B,IAAb,CAAkB2B,MAAlB;;AAEAiN,gDAAgB5O,IAAhB,CAAqB2B,OAAOkH,OAAP,CAAexF,KAAKqM,QAAL,CAAcJ,KAAd,CAAf,CAArB;AACH;AACJ,yBAND;;AAQAxM,gCAAQ8M,GAAR,CAAYhB,eAAZ,EACKhG,IADL,CACU,YAAM;AACR7F,oCAAQM,IAAR;AACH,yBAHL,EAIK4F,KAJL,CAIW,UAACC,GAAD,EAAS;AACZyF,mCAAOzF,GAAP;AACH,yBANL;AAOH,qBAjBD;AAkBH,iBA5CL;AA6CH,aAnFM,CAAP;AAoFH;;;6BAEI7F,I,EAAM;AAAA;;AACP,iBAAK1B,MAAL,CAAYqH,IAAZ,CAAiB,KAAKyF,QAAL,CAAc,KAAKC,mBAAnB,CAAjB;;AAEA,iBAAKhN,OAAL,CAAaD,OAAb,CAAqB,UAACE,MAAD,EAAS2N,KAAT,EAAmB;AACpC;AACA3N,uBAAOqH,IAAP,CAAY3F,KAAKqM,QAAL,CAAcJ,KAAd,CAAZ;AACH,aAHD;;AAKA,gBAAI,CAAC,KAAK3N,MAAL,CAAYkO,gBAAjB,EAAmC;AAC/B,qBAAKlQ,EAAL,CAAQ,gBAAR,EAA0B;AAAA,2BAAQ,OAAKkQ,gBAAL,CAAsBC,KAAKC,YAA3B,CAAR;AAAA,iBAA1B;AACH;AACJ;;;iCAmBQ;AACL;;AAEA;AACA,gBAAI,KAAKpO,MAAT,EAAiB,KAAKA,MAAL,CAAYvB,MAAZ;;AAEjB;AACA,iBAAKsB,OAAL,CAAaD,OAAb,CAAqB,UAACE,MAAD,EAAY;AAC7BA,uBAAOvB,MAAP;AACH,aAFD;;AAIA,iBAAKsB,OAAL,GAAe,EAAf;AACH;;;yCAEgB4N,K,EAAO;AACpB;AACA,gBAAI,KAAKZ,mBAAL,KAA6BY,KAAjC,EAAwC;AACpC;AACH;;AAED,iBAAKZ,mBAAL,GAA2BY,KAA3B;;AAEA,gBAAI,KAAK3N,MAAL,IAAe,KAAKA,MAAL,CAAYqO,aAA/B,EAA8C;AAC1C,qBAAKrO,MAAL,CAAYqO,aAAZ,CAA0B,KAAKtB,mBAA/B;AACA;AACH;;AAED;AACA,gBAAMuB,aAAa,KAAKzQ,OAAL,CAAakK,WAAhC;AACA,gBAAMwG,aAAa,KAAK1Q,OAAL,CAAa2N,OAAhC;;AAEA;AACA,iBAAKxL,MAAL,CAAYvB,MAAZ;AACA,iBAAKuB,MAAL,CAAYqH,IAAZ,CAAiB,KAAKyF,QAAL,CAAc,KAAKC,mBAAnB,CAAjB;AACA,iBAAKlP,OAAL,CAAakK,WAAb,GAA2BuG,UAA3B;AACA,gBAAIC,UAAJ,EAAgB,KAAK1Q,OAAL,CAAa2Q,IAAb;;AAEhB,gBAAMC,aAAa,KAAK3B,QAAL,CAAc,KAAKC,mBAAnB,EAAwCK,QAAxC,GACb,KAAKN,QAAL,CAAc,KAAKC,mBAAnB,EAAwCK,QAAxC,CAAiDI,OADpC,GAEb,CAFN;;AAIA,iBAAK3P,OAAL,CAAa8E,OAAb,CAAqB,qBAArB,EAA4C;AACxC8L,sCADwC;AAExCC,iCAAiBf;AAFuB,aAA5C;AAIH;;;4BA1KiB;AACd,gBAAI,KAAK3N,MAAT,EAAiB;AACb,uBAAO,KAAKA,MAAL,CAAY8H,WAAnB;AACH;;AAED,mBAAO,IAAP;AACH;;;4BAsGc;AACV,gBAAI,CAAC,KAAK9H,MAAV,EAAkB;AAAE,uBAAOgD,GAAP;AAAa;;AAEjC,mBAAO,KAAKhD,MAAL,CAAYyC,QAAnB;AACH;;;4BAEiB;AACd,gBAAI,CAAC,KAAKzC,MAAV,EAAkB;AAAE,uBAAOgD,GAAP;AAAa;;AAEjC,mBAAO,KAAKhD,MAAL,CAAY+H,WAAnB;AACH,S;0BAEe9E,I,EAAM;AAClB,gBAAI,CAAC,KAAKjD,MAAV,EAAkB;AAAE;AAAS;AAC7B,iBAAKA,MAAL,CAAY+H,WAAZ,GAA0B9E,IAA1B;AACH;;;;;;kBAkDS4J,Q;;;;;;;;;;;;;;;;;;;IC9MT8B,Q;AACF,sBAAY9D,IAAZ,EAAkBhN,OAAlB,EAA2B;AAAA;;AAAA;;AACvB,aAAKgN,IAAL,GAAYA,IAAZ;AACA,aAAKhN,OAAL,GAAeA,OAAf;;AAEA,aAAK8P,KAAL,GAAa,CAAb;;AAEA,aAAK9P,OAAL,CAAaG,EAAb,CAAgB,cAAhB,EAAgC;AAAA,mBAAM,MAAK4Q,IAAL,EAAN;AAAA,SAAhC;AACA,aAAK/Q,OAAL,CAAaG,EAAb,CAAgB,kBAAhB,EAAoC;AAAA,mBAAM,MAAK6Q,QAAL,EAAN;AAAA,SAApC;AACA,aAAKhR,OAAL,CAAaG,EAAb,CAAgB,cAAhB,EAAgC;AAAA,mBAAK,MAAK8Q,IAAL,CAAUC,EAAEpB,KAAZ,CAAL;AAAA,SAAhC;;AAEA,aAAK9P,OAAL,CAAaG,EAAb,CAAgB,WAAhB,EAA6B,YAAM;AAC/B,gBAAI,MAAKH,OAAL,CAAaD,MAAb,CAAoBkB,QAApB,IAAgC,MAAK6O,KAAL,GAAa,MAAK9C,IAAL,CAAUjK,MAAV,GAAmB,CAApE,EAAuE;AACnE,sBAAKgO,IAAL;AACH;AACJ,SAJD;AAKH;;;;2CAEkB;AAAA;;AACf,iBAAK/Q,OAAL,CAAa8E,OAAb,CAAqB,aAArB,EAAoC;AAChC0I,sBAAM;AAD0B,aAApC;;AAIA,gBAAM3J,OAAO,KAAKmJ,IAAL,CAAU,KAAK8C,KAAf,CAAb;AACA,iBAAK3G,YAAL,CAAkBtF,IAAlB,EAAwBuF,IAAxB,CAA6B,UAACjH,MAAD,EAAY;AACrC,uBAAKnC,OAAL,CAAa8E,OAAb,CAAqB,kBAArB,EAAyCjB,IAAzC;;AAEA;AACA,oBAAI1B,kBAAkBuB,QAAQ6K,YAA9B,EAA4C;AACxCpM,2BAAOkH,OAAP,CAAexF,IAAf,EACCuF,IADD,CACM,UAACQ,OAAD,EAAa;AACf,4BAAIA,mBAAmBuH,KAAvB,EAA8B;AAC1B;AACA,gCAAMC,UAAU,OAAKpE,IAAL,CAAUqE,KAAV,CAAgB,CAAhB,EAAmB,OAAKvB,KAAxB,CAAhB;AACAsB,oCAAQ5Q,IAAR,mCAAgBoJ,OAAhB;AACAwH,oCAAQ5Q,IAAR,mCAAgB,OAAKwM,IAAL,CAAUqE,KAAV,CAAgB,OAAKvB,KAAL,GAAa,CAA7B,CAAhB;;AAEA,mCAAK9C,IAAL,GAAYoE,OAAZ;AACH,yBAPD,MAOO;AACH,mCAAKpE,IAAL,CAAU,OAAK8C,KAAf,IAAwBlG,OAAxB;AACH;;AAED,+BAAK6C,gBAAL;AACH,qBAdD,EAeChD,KAfD,CAeO,UAACC,GAAD,EAAS;AACZ5F,gCAAQmB,KAAR,wCAAmDpB,KAAKI,IAAxD,kBAAyEJ,KAAKK,GAA9E,YAAwFwF,GAAxF;AACH,qBAjBD;AAkBH,iBAnBD,MAmBO,IAAIvH,kBAAkBuB,QAAQ4K,WAA9B,EAA2C;AAC9C;AACA,2BAAKtO,OAAL,CAAaiN,UAAb,CAAwBpJ,IAAxB;;AAEA;AACA,2BAAK7D,OAAL,CAAa8E,OAAb,CAAqB,cAArB,EAAqC;AACjCiL,sCAAc,OAAKD,KADc;AAEjC/M,gCAAQ,OAAKiK,IAAL,CAAUjK;AAFe,qBAArC;AAIH;AACJ,aAjCD,EAiCG0G,KAjCH,CAiCS,UAACC,GAAD,EAAS;AACd,uBAAK1J,OAAL,CAAaiF,KAAb,4CAA2DpB,KAAKI,IAAhE,UACIyF,IAAIjG,SADR,EACmB,EAAEkG,OAAO,yBAAT,EADnB;AAEA7F,wBAAQmB,KAAR,uCAAiDpB,KAAKI,IAAtD,sBAAyEJ,KAAKK,GAA9E;AACH,aArCD;AAsCH;;;+BAEM;AACH,gBAAMoN,WAAW,KAAKxB,KAAL,GAAa,CAA9B;AACA,iBAAKmB,IAAL,CAAUK,QAAV;AACH;;;mCAEU;AACP,gBAAMA,WAAW,KAAKxB,KAAL,GAAa,CAA9B;AACA,iBAAKmB,IAAL,CAAUK,QAAV;AACH;;;6BAEIA,Q,EAAU;AACX,gBAAIA,WAAW,CAAX,IAAgBA,YAAY,KAAKtE,IAAL,CAAUjK,MAA1C,EAAkD;AAC9Ce,wBAAQmB,KAAR,uBAAiCqM,QAAjC;AACA;AACH;;AAED,iBAAKxB,KAAL,GAAawB,QAAb;AACA,iBAAK7E,gBAAL;AACH;;;qCAEY5I,I,EAAM;AACf,mBAAO,KAAK7D,OAAL,CAAa8J,YAAb,CAA0BC,eAA1B,CAA0ClG,IAA1C,EAAgDuF,IAAhD,CAAqD,UAACY,MAAD,EAAY;AACpE,oBAAIA,OAAOvG,SAAX,EAAsB;AAClB,0BAAMuG,MAAN;AACH;;AAED,uBAAOA,MAAP;AACH,aANM,CAAP;AAOH;;;;;;kBAGU8G,Q;;;;;;;;;;;;;;;AC/Ff;;;;AACA;;;;;;;;AAEA,IAAMjD,oBAAoB,EAA1B;AACA,IAAM0D,SAAS,EAAf;;AAEA,IAAMC,uBAAuB,EAA7B;;IAEM1C,Y;AAEF,0BAAY9O,OAAZ,EAAqB;AAAA;;AACjB,aAAKuR,MAAL,GAAc,EAAd;AACA,aAAKvR,OAAL,GAAeA,OAAf;AACH;;;;wCAceC,I,EAAM;AAClB,mBAAO,KAAKsR,MAAL,CAAYE,IAAZ,CAAiB;AAAA,uBAAWtP,OAAOlC,IAAP,KAAgBA,IAA3B;AAAA,aAAjB,CAAP;AACH;;;+BAMM6B,O,EAAS0K,Q,EAAU;AAAA;;AACtB;AACA,gBAAMkF,aAAa,EAAnB;AACA,gBAAIhO,QAAQiO,OAAZ,EAAqB;AACjB5P,uBAAOC,IAAP,CAAY0B,QAAQiO,OAApB,EAA6B1P,OAA7B,CAAqC,UAACL,GAAD,EAAS;AAC1C,wBAAIE,QAAQF,GAAR,CAAJ,EAAkB;AACd;AACH;;AAED8P,+BAAW9P,GAAX,IAAkB8B,QAAQiO,OAAR,CAAgB/P,GAAhB,CAAlB;AACH,iBAND;AAOH;;AAEDG,mBAAOyI,MAAP,CAAckH,UAAd,EAA0B5P,OAA1B;;AAEAC,mBAAOC,IAAP,CAAY0P,UAAZ,EAAwBzP,OAAxB,CAAgC,UAACL,GAAD,EAAS;AACrC,oBAAMO,SAAS2M,aAAa8C,GAAb,CAAiBhQ,GAAjB,CAAf;;AAEA,oBAAI,CAACO,MAAL,EAAa;AACT,wBAAIP,QAAQ,QAAZ,EAAsB;AAClBkC,gCAAQC,IAAR,CAAgBnC,GAAhB;AACH;;AAED;AACH;;AAED,oBAAIiQ,eAAe,EAAnB;AACAA,+BAAe,wBAAcD,GAAd,CAAkBhQ,GAAlB,CAAf;AACAiQ,6BAAa5R,IAAb,GAAoB2B,GAApB;;AAEA,oBAAMmP,OAAO,SAAPA,IAAO;AAAA,2BAAQjC,aAAagD,cAAb,CAA4BD,aAAaE,UAAzC,EAAqDvF,QAArD,EAA+D3I,IAA/D,CAAR;AAAA,iBAAb;;AAEA,sBAAK0N,MAAL,CAAY/Q,IAAZ,CAAiB;AACbP,0BAAMkC,OAAOlC,IADA;AAEbkC,4BAAQ,IAAIA,OAAO6L,MAAX,CAAkB6D,YAAlB,EAAgCrF,QAAhC,EAA0CuE,IAA1C,CAFK;AAGbgB,gCAAYF,aAAaE;AAHZ,iBAAjB;AAKH,aAtBD;;AAwBA;AACA,iBAAKR,MAAL,CAAY/Q,IAAZ,CAAiB;AACbP,sBAAM,UADO;AAEbkC,wBAAQ,uBAAaqK,QAAb;AAFK,aAAjB;AAIH;;;wCA+Be3I,I,EAAM;AAClB;AACA,gBAAIA,KAAKmO,SAAT,EAAoB;AAChB,qBAAKhS,OAAL,CAAa8E,OAAb,CAAqB,WAArB,EAAkCjB,KAAKmO,SAAvC;AACH;;AAED,gBAAMC,0BAA0B,EAAhC;AACA,gBAAMC,yBAAyB,EAA/B;;AAEA;AACA,iBAAKX,MAAL,CAAYtP,OAAZ,CAAoB,UAACE,MAAD,EAAY;AAC5B,oBAAIA,OAAOA,MAAP,CAAcgQ,eAAlB,EAAmC;AAC/BD,2CAAuB1R,IAAvB,CAA4B2B,MAA5B;AACA,wBAAMiQ,cAAcjQ,OAAOA,MAAP,CAAcgQ,eAAd,CAA8BtO,IAA9B,CAApB;;AAEAoO,4CAAwBzR,IAAxB,CAA6B4R,WAA7B;AACH;AACJ,aAPD;;AASA;AACA,mBAAO9O,QAAQ8M,GAAR,CAAY6B,uBAAZ,EAAqC7I,IAArC,CAA0C,UAACiJ,KAAD,EAAW;AACxD;AACA,oBAAI5O,YAAYC,QAAQC,UAAR,CAAmBC,UAAnC;AACA,qBAAK,IAAId,IAAI,CAAb,EAAgBA,IAAIuP,MAAMtP,MAA1B,EAAkCD,KAAK,CAAvC,EAA0C;AACtC,wBAAMwP,cAAcD,MAAMvP,CAAN,CAApB;;AAEA,wBAAIwP,YAAY9O,SAAhB,EAA2B;AACvB,+BAAO0O,uBAAuBpP,CAAvB,EAA0BX,MAAjC;AACH;;AAED,wBAAImQ,YAAY7O,SAAZ,KAA0BC,QAAQC,UAAR,CAAmBC,UAAjD,EAA6D;AACzDH,oCAAY6O,YAAY7O,SAAxB;AACH;AACJ;;AAED,uBAAO,EAAEA,oBAAF,EAAP;AACH,aAhBM,CAAP;AAiBH;;;8CAEqBQ,I,EAAM;AACxB,gBAAMmD,eAAe,KAAKmK,MAAL,CAAYE,IAAZ,CAAiB,UAACtP,MAAD,EAAY;AAC9C,oBAAIA,OAAOA,MAAP,CAAcoQ,eAAlB,EAAmC;AAC/B,2BAAOpQ,OAAOA,MAAP,CAAcoQ,eAAd,CAA8BtO,IAA9B,CAAP;AACH;;AAED,uBAAO,KAAP;AACH,aANoB,CAArB;;AAQA,mBAAOmD,eAAeA,aAAajF,MAA5B,GAAqC,IAA5C;AACH;;;wCAEe;AACZ,iBAAKoP,MAAL,CAAYtP,OAAZ,CAAoB,UAACE,MAAD,EAAY;AAC5B,oBAAIA,OAAOA,MAAP,CAAcqQ,IAAlB,EAAwB;AACpBrQ,2BAAOA,MAAP,CAAcqQ,IAAd;AACH;AACJ,aAJD;AAKH;;;+CAEsB;AACnB,iBAAKjB,MAAL,CAAYtP,OAAZ,CAAoB,UAACE,MAAD,EAAY;AAC5B,oBAAIA,OAAOA,MAAP,CAAcsQ,WAAlB,EAA+B;AAC3BtQ,2BAAOA,MAAP,CAAcqH,IAAd;AACH;AACJ,aAJD;AAKH;;;wCAhKsB;AACnB,mBAAOqE,iBAAP;AACH;;;oCAEkB;AACf,mBAAO0D,MAAP;AACH;;;4BAEUtR,I,EAAM;AACb,mBAAO4N,kBAAkB4D,IAAlB,CAAuB;AAAA,uBAAWtP,OAAOlC,IAAP,KAAgBA,IAA3B;AAAA,aAAvB,CAAP;AACH;;;sCAMoBA,I,EAAM;AACvB,mBAAOuR,qBAAqBC,IAArB,CAA0B;AAAA,uBAAWtP,OAAOlC,IAAP,KAAgBA,IAA3B;AAAA,aAA1B,CAAP;AACH;;;uCAgDqByS,W,EAAalG,Q,EAAU3I,I,EAAM;AAAA;;AAC/C,gBAAMmG,SAAS,EAAf;;AAEA;AACA,gBAAI,CAAC0I,WAAD,IAAgB,CAACA,YAAY3P,MAAjC,EAAyC;AACrC,uBAAO,IAAIO,OAAJ,CAAY,UAACC,OAAD,EAAa;AAC5BA,4BAAQM,IAAR;AACH,iBAFM,CAAP;AAGH;;AAED6O,wBAAYzQ,OAAZ,CAAoB,UAAC8P,UAAD,EAAgB;AAChC,oBAAMY,mBAAmB,OAAKC,aAAL,CAAmBb,UAAnB,CAAzB;;AAEA/H,uBAAOxJ,IAAP,CAAY,IAAImS,iBAAiB/D,UAArB,CAAgC,EAAhC,EAAoCpC,QAApC,CAAZ;AACH,aAJD;;AAMA,mBAAO,KAAKqG,kBAAL,CAAwB7I,MAAxB,EAAgCnG,IAAhC,CAAP;AACH;;;2CAEyB6O,W,EAAa7O,I,EAAiB;AAAA;;AAAA,gBAAXiM,KAAW,uEAAH,CAAG;;AACpD,mBAAO4C,YAAY5C,KAAZ,EAAmBzG,OAAnB,CAA2BxF,IAA3B,EAAiCuF,IAAjC,CAAsC,UAACQ,OAAD,EAAa;AACtD,oBAAI8I,YAAY5C,QAAQ,CAApB,CAAJ,EAA4B;AACxB,2BAAO,OAAK+C,kBAAL,CAAwBH,WAAxB,EAAqC9I,OAArC,EAA8CkG,QAAQ,CAAtD,CAAP;AACH;;AAED,uBAAOlG,OAAP;AACH,aANM,CAAP;AAOH;;;iCAqEe3J,I,EAAMkC,M,EAAQ;AAC1B,gBAAM2Q,oBAAoB,KAAKlB,GAAL,CAAS3R,IAAT,CAA1B;;AAEA,gBAAI6S,iBAAJ,EAAuB;AACnBhP,wBAAQC,IAAR,aAAuB9D,IAAvB;AACA6S,kCAAkB9E,MAAlB,GAA2B7L,MAA3B;AACA;AACH;;AAED0L,8BAAkBrN,IAAlB,CAAuB;AACnBP,0BADmB;AAEnB+N,wBAAQ7L;AAFW,aAAvB;AAIH;;;2CAEyBlC,I,EAAM8R,U,EAAY;AACxC,gBAAMe,oBAAoB,KAAKF,aAAL,CAAmB3S,IAAnB,CAA1B;;AAEA,gBAAI6S,iBAAJ,EAAuB;AACnBhP,wBAAQC,IAAR,iBAA2B9D,IAA3B;AACA6S,kCAAkBlE,UAAlB,GAA+BmD,UAA/B;AACA;AACH;;AAEDP,iCAAqBhR,IAArB,CAA0B;AACtBP,0BADsB;AAEtB2O,4BAAYmD;AAFU,aAA1B;AAIH;;;;;;kBAGUjD,Y;;;;;;;;;;;;AChNf,IAAMiE,aAAa;AACf;AACAnP,gBAAY,WAFG;AAGf;AACAoP,mBAAe,WAJA;AAKf;AACAC,YAAQ,WANO;AAOf;AACAC,oBAAgB,WARD;AASf;AACAC,wCAAoC;AAVrB,CAAnB;;kBAaeJ,U;;;;;;;;;;;;ACbf,IAAMK,WAAW,CACb,gBADa,EAEb,cAFa,EAGb,WAHa,EAIb,SAJa,EAKb,cALa,EAMb,aANa,CAAjB;;kBASeA,Q;;;;;;;;;;;;ACTf,IAAMC,gBAAgB,CAClB,aADkB,EAElB,aAFkB,EAGlB,cAHkB,EAIlB,gBAJkB,CAAtB;;kBAOeA,a;;;;;;;;;;;;ACPf,IAAMC,eAAe,CACjB,mBADiB,EAEjB,wBAFiB,CAArB;;kBAKeA,Y;;;;;;;;;;;;ACLf,IAAMC,aAAa,CACf,mBADe,EAEf,YAFe,EAGf,cAHe,EAIf,cAJe,EAKf,cALe,EAMf,eANe,EAOf,cAPe,EAQf,cARe,EASf,iBATe,CAAnB;;kBAYeA,U;;;;;;;;;;;;ACZf,IAAMC,eAAe,CACjB,eADiB,EAEjB,iBAFiB,EAGjB,mBAHiB,EAIjB,kBAJiB,EAKjB,YALiB,EAMjB,eANiB,EAOjB,iBAPiB,EAQjB,cARiB,EASjB,aATiB,EAUjB,aAViB,EAWjB,YAXiB,EAYjB,eAZiB,EAajB,aAbiB,EAcjB,WAdiB,EAejB,aAfiB,EAgBjB,oBAhBiB,EAiBjB,kBAjBiB,EAkBjB,qBAlBiB,EAmBjB,yBAnBiB,EAoBjB,gBApBiB,EAqBjB,sBArBiB,EAsBjB,sBAtBiB,EAuBjB,iBAvBiB,EAwBjB,sBAxBiB,EAyBjB,wBAzBiB,EA0BjB,uBA1BiB,EA2BjB,0BA3BiB,CAArB;;kBA8BeA,Y;;;;;;;;;;;;AC9Bf,IAAMC,iBAAiB,CACnB,cADmB,EAEnB,cAFmB,EAGnB,kBAHmB,EAInB,cAJmB,EAKnB,kBALmB,CAAvB;;kBAQeA,c;;;;;;;;;;;;ACRf,IAAMC,WAAW,CACb,SADa,EAEb,kBAFa,EAGb,cAHa,EAIb,eAJa,CAAjB;;kBAOeA,Q;;;;;;;;;;;;;;;ACPf;;;;;;;;IAEMC,Y;AACF,0BAAYC,UAAZ,EAAwB;AAAA;;AACpB,aAAKC,OAAL,GAAe,CAAf;AACA,aAAKC,eAAL,GAAuB,EAAvB;;AAEA;AACA;AACA,aAAKC,gBAAL,GAAwB,EAAxB;;AAEA;AACA,aAAKC,KAAL,GAAa,EAAb;AACA,aAAK,IAAIlR,IAAI,CAAb,EAAgBA,IAAI8Q,WAAW7Q,MAA/B,EAAuCD,KAAK,CAA5C,EAA+C;AAC3C,gBAAMmR,YAAYL,WAAW9Q,CAAX,CAAlB;;AAEA,iBAAKkR,KAAL,CAAWC,SAAX,IAAwB,EAAxB;AACH;AACJ;;;;2BAEEC,K,EAAOC,M,EAA8B;AAAA,gBAAtBjH,MAAsB,uEAAb,WAAa;;AACpC;AACA,gBAAI,EAAEiH,kBAAkBC,QAApB,CAAJ,EAAmC;AAC/BtQ,wBAAQmB,KAAR,CAAc,mDAAd;AACA;AACH;;AAED;AACA,gBAAI,EAAEiP,iBAAiB/C,KAAnB,CAAJ,EAA+B;AAC3B+C,wBAAQ,CAACA,KAAD,CAAR;AACH;;AAED;AACA,gBAAMG,aAAa,EAAnB;AACA,iBAAK,IAAIvR,IAAI,CAAb,EAAgBA,IAAIoR,MAAMnR,MAA1B,EAAkCD,KAAK,CAAvC,EAA0C;AACtC,oBAAIxC,OAAO4T,MAAMpR,CAAN,CAAX;;AAEA,oBAAI,CAAC,KAAKkR,KAAL,CAAW1T,IAAX,CAAL,EAAuB;AACnB,yBAAK0T,KAAL,CAAW1T,IAAX,IAAmB,EAAnB;AACH;;AAED,oBAAMgU,YAAY,KAAKC,cAAL,CAAoBrH,MAApB,EAA4BiH,MAA5B,CAAlB;AACA,qBAAKH,KAAL,CAAW1T,IAAX,EAAiBE,IAAjB,CAAsB8T,SAAtB;;AAEAD,2BAAW7T,IAAX,CAAgB;AACZ+L,wBAAI+H,UAAU/H,EADF;AAEZjM;AAFY,iBAAhB;AAIH;;AAED;AACA,mBAAO+T,UAAP;AACH;;;4BAEG/T,I,EAAMG,K,EAAO0T,M,EAA8B;AAAA,gBAAtBjH,MAAsB,uEAAb,WAAa;;AAC3C;AACA,gBAAI,OAAOzM,KAAP,KAAiB,SAArB,EAAgC;AAC5ByM,yBAASiH,MAAT;AACAA,yBAAS1T,KAAT;AACAA,wBAAQ,KAAR;AACH;;AAED;AACA,gBAAI,EAAE0T,kBAAkBC,QAApB,CAAJ,EAAmC;AAC/BtQ,wBAAQmB,KAAR,CAAc,mDAAd;AACA;AACH;;AAED,gBAAI,CAAC,KAAK+O,KAAL,CAAW1T,IAAX,CAAL,EAAuB;AACnB,qBAAK0T,KAAL,CAAW1T,IAAX,IAAmB,EAAnB;AACH;;AAED,gBAAI,CAAC,KAAK0T,KAAL,CAAW1T,IAAX,EAAiBI,GAAtB,EAA2B;AACvB,qBAAKsT,KAAL,CAAW1T,IAAX,EAAiBI,GAAjB,GAAuB,EAAvB;AACH;;AAED,gBAAM4T,YAAY,KAAKC,cAAL,CAAoBrH,MAApB,EAA4BiH,MAA5B,EAAoC1T,KAApC,CAAlB;AACA,iBAAKuT,KAAL,CAAW1T,IAAX,EAAiBI,GAAjB,CAAqBF,IAArB,CAA0B8T,SAA1B;;AAEA;AACA,mBAAO;AACH/H,oBAAI+H,UAAU/H,EADX;AAEHjM;AAFG,aAAP;AAIH;;;uCAEc4M,M,EAAQiH,M,EAAuB;AAAA,gBAAf1T,KAAe,uEAAP,KAAO;;AAC1C,gBAAM6T,YAAY;AACd/H,oBAAI,KAAKsH,OADK;AAEd3G,8BAFc;AAGdiH,8BAHc;AAId1T;AAJc,aAAlB;;AAOA,iBAAKoT,OAAL,IAAgB,CAAhB;;AAEA,mBAAOS,SAAP;AACH;;;+BAEMnH,M,EAAQ;AACX;AACA,gBAAI,EAAEA,kBAAkBgE,KAApB,CAAJ,EAAgChE,SAAS,CAACA,MAAD,CAAT;;AAEhC,iBAAK,IAAIrK,IAAI,CAAb,EAAgBA,IAAIqK,OAAOpK,MAA3B,EAAmCD,KAAK,CAAxC,EAA2C;AACvC,oBAAM0R,cAAcrH,OAAOrK,CAAP,CAApB;AACA,oBAAI2R,UAAU,KAAd;;AAEA;AACA,oBAAI,KAAKT,KAAL,CAAWQ,YAAYlU,IAAvB,EAA6BI,GAAjC,EAAsC;AAClC,yBAAK,IAAIoC,KAAI,CAAb,EAAgBA,KAAI,KAAKkR,KAAL,CAAWQ,YAAYlU,IAAvB,EAA6BI,GAA7B,CAAiCqC,MAArD,EAA6DD,MAAK,CAAlE,EAAqE;AACjE,4BAAMgC,UAAU,KAAKkP,KAAL,CAAWQ,YAAYlU,IAAvB,EAA6BI,GAA7B,CAAiCoC,EAAjC,CAAhB;;AAEA;AACA,4BAAIgC,QAAQyH,EAAR,KAAeiI,YAAYjI,EAA/B,EAAmC;AAC/B,iCAAKyH,KAAL,CAAWQ,YAAYlU,IAAvB,EAA6BI,GAA7B,CAAiCgU,MAAjC,CAAwC5R,EAAxC,EAA2C,CAA3C;AACA2R,sCAAU,IAAV;AACA;AACH;AACJ;;AAED;AACA,wBAAI,KAAKT,KAAL,CAAWQ,YAAYlU,IAAvB,EAA6BI,GAA7B,CAAiCqC,MAAjC,KAA4C,CAAhD,EAAmD;AAC/C,+BAAO,KAAKiR,KAAL,CAAWQ,YAAYlU,IAAvB,EAA6BI,GAApC;AACH;;AAED;AACA,wBAAI+T,OAAJ,EAAa;AAChB;;AAED;AACA,qBAAK,IAAI3R,MAAI,CAAb,EAAgBA,MAAI,KAAKkR,KAAL,CAAWQ,YAAYlU,IAAvB,EAA6ByC,MAAjD,EAAyDD,OAAK,CAA9D,EAAiE;AAC7D,wBAAMgC,WAAU,KAAKkP,KAAL,CAAWQ,YAAYlU,IAAvB,EAA6BwC,GAA7B,CAAhB;;AAEA;AACA,wBAAIgC,SAAQyH,EAAR,KAAeiI,YAAYjI,EAA/B,EAAmC;AAC/B,6BAAKyH,KAAL,CAAWQ,YAAYlU,IAAvB,EAA6BoU,MAA7B,CAAoC5R,GAApC,EAAuC,CAAvC;AACA;AACH;AACJ;AACJ;AACJ;;AAED;AACA;;;;kCACU;AAAA;;AACNf,mBAAOC,IAAP,CAAY,KAAKgS,KAAjB,EAAwB/R,OAAxB,CAAgC,UAACL,GAAD,EAAS;AACrC,sBAAKoS,KAAL,CAAWpS,GAAX,EAAgBK,OAAhB,CAAwB,UAAC0S,KAAD,EAAW;AAC/B,0BAAKhU,MAAL,CAAY,EAAE4L,IAAIoI,MAAMpI,EAAZ,EAAgBjM,MAAMsB,GAAtB,EAAZ;AACH,iBAFD;AAGH,aAJD;AAKH;;;kCAEgB;AAAA,8CAANgT,IAAM;AAANA,oBAAM;AAAA;;AACb;AACA,gBAAMtU,OAAOsU,KAAKF,MAAL,CAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,CAAb;;AAEA;AACA,gBAAI,CAAC,KAAKV,KAAL,CAAW1T,IAAX,CAAL,EAAuB;AACnB;AACA;AACH;;AAED;AACA,gBAAI,KAAKwT,eAAL,CAAqB5Q,OAArB,CAA6B5C,IAA7B,MAAuC,CAAC,CAA5C,EAA+C;AAC3C;AACA,oBAAI,KAAKyT,gBAAL,CAAsBzT,IAAtB,CAAJ,EAAiC;AAC7B,yBAAKyT,gBAAL,CAAsBzT,IAAtB,EAA4BsU,IAA5B;AACH;;AAED9Q,wBAAQ1C,KAAR,sBAAgCd,IAAhC;AACA;AACH;;AAED;AACA,gBAAI,KAAK0T,KAAL,CAAW1T,IAAX,EAAiByC,MAAjB,KAA4B,CAA5B,IAAiC,CAAC,KAAKiR,KAAL,CAAW1T,IAAX,EAAiBI,GAAvD,EAA4D;AACxD;AACA;AACH;;AAED,gBAAI,KAAKsT,KAAL,CAAW1T,IAAX,EAAiBI,GAArB,EAA0B;AACtB,oBAAID,QAAQ,KAAZ;;AAEA,qBAAK,IAAIqC,IAAI,CAAb,EAAgBA,IAAI,KAAKkR,KAAL,CAAW1T,IAAX,EAAiBI,GAAjB,CAAqBqC,MAAzC,EAAiDD,KAAK,CAAtD,EAAyD;AACrD,wBAAM+R,SAAS,KAAKb,KAAL,CAAW1T,IAAX,EAAiBI,GAAjB,CAAqBoC,CAArB,CAAf;;AAEA;AACA,wBAAI,CAACrC,KAAL,EAAYA,QAAQoU,OAAOpU,KAAf;;AAEZ,wBAAI;AACAoU,+BAAOV,MAAP,CAAcW,KAAd,CAAoB,IAApB,EAA0BF,IAA1B;AACH,qBAFD,CAEE,OAAO1D,CAAP,EAAU;AACRpN,gCAAQmB,KAAR,kCAA4C4P,OAAO3H,MAAnD,iBAAmE5M,IAAnE,0BAA2F4Q,CAA3F;AACH;AACJ;;AAED,uBAAO,KAAK8C,KAAL,CAAW1T,IAAX,EAAiBI,GAAxB;;AAEA;AACA,oBAAID,KAAJ,EAAW;AACd;;AAED;AACA,iBAAK,IAAIqC,MAAI,CAAb,EAAgBA,MAAI,KAAKkR,KAAL,CAAW1T,IAAX,EAAiByC,MAArC,EAA6CD,OAAK,CAAlD,EAAqD;AACjD,oBAAMiS,cAAc,KAAKf,KAAL,CAAW1T,IAAX,EAAiBwC,GAAjB,CAApB;;AAEA,oBAAI;AACAiS,gCAAYZ,MAAZ,CAAmBW,KAAnB,CAAyB,IAAzB,EAA+BF,IAA/B;AACH,iBAFD,CAEE,OAAO1D,CAAP,EAAU;AACRpN,4BAAQmB,KAAR,kCAA4C8P,YAAY7H,MAAxD,iBAAwE5M,IAAxE,0BAAgG4Q,CAAhG;AACH;AACJ;AACJ;;;gCAEO5Q,I,EAAuB;AAAA,gBAAjB8M,QAAiB;;AAC3B,iBAAK2G,gBAAL,CAAsBzT,IAAtB,IAA8B8M,QAA9B;;AAEA,gBAAI,KAAK0G,eAAL,CAAqB5Q,OAArB,CAA6B5C,IAA7B,MAAuC,CAAC,CAA5C,EAA+C;AAC3C,qBAAKwT,eAAL,CAAqBtT,IAArB,CAA0BF,IAA1B;AACH;AACJ;;;+BAEMA,I,EAAM;AACT,iBAAKyT,gBAAL,CAAsBzT,IAAtB;;AAEA,gBAAM0U,YAAY,KAAKlB,eAAL,CAAqB5Q,OAArB,CAA6B5C,IAA7B,CAAlB;;AAEA,gBAAI0U,cAAc,CAAC,CAAnB,EAAsB;AAClB,qBAAKlB,eAAL,CAAqBY,MAArB,CAA4BM,SAA5B,EAAuC,CAAvC;AACH;AACJ;;;;;;kBAGUrB,Y;;;;;;;;;;;;ACxOf,IAAMsB,UAAU;AACZC,6BAAyB,qBADb;AAEZC,qBAAiB,cAFL;AAGZC,8BAA0B,uBAHd;AAIZC,kBAAc,cAJF;AAKZC,UAAM;AALM,CAAhB;;kBASeL,O;;;;;;;;;;;;ACTf,IAAMM,QAAQ;AACVL,6BAAyB,oBADf;AAEVC,qBAAiB,aAFP;AAGVC,8BAA0B,oBAHhB;AAIVC,kBAAc,eAJJ;AAKVC,UAAM;AALI,CAAd;;kBAQeC,K;;;;;;;;;;;;ACRf,IAAMC,OAAO;AACTN,6BAAyB;AACrBO,YAAI,qBADiB;AAErBC,YAAI;AAFiB,KADhB;AAKTP,qBAAiB;AACbM,YAAI,cADS;AAEbC,YAAI;AAFS,KALR;AASTN,8BAA0B;AACtBK,YAAI,uBADkB;AAEtBC,YAAI;AAFkB,KATjB;AAaTL,kBAAc;AACVI,YAAI,cADM;AAEVC,YAAI;AAFM,KAbL;AAiBTJ,UAAM;AACFG,YAAI,MADF;AAEFC,YAAI;AAFF;AAjBG,CAAb;kBAsBeF,I;;;;;;;;;;;;;;;;;ACtBf;;;;AACA;;;;;;;;;;;;IAEMG,S;;;;;;;;;;;sCACY,CAEb;;;+BAEM;AAAA;;AAAA,uCACM7S,CADN;AAEC,oBAAMiS,cAAc,wBAAcjS,CAAd,CAApB;AACA,oBAAM8S,mBAAmBb,YAAY/R,MAAZ,CAAmB,CAAnB,EAAsB6S,WAAtB,KAAsCd,YAAY9R,SAAZ,CAAsB,CAAtB,CAA/D;AACA,oBAAM6S,kBAAgBF,gBAAtB;;AAEA,oBAAI,OAAKE,QAAL,CAAJ,EAAoB;AAChB,2BAAK3V,EAAL,CAAQ4U,WAAR,EAAqB,UAAC7D,CAAD;AAAA,+BAAO,OAAK4E,QAAL,EAAe5E,CAAf,CAAP;AAAA,qBAArB;AACH;AARF;;AACH,iBAAK,IAAIpO,IAAI,CAAb,EAAgBA,IAAI,wBAAcC,MAAlC,EAA0CD,GAA1C,EAA+C;AAAA,sBAAtCA,CAAsC;AAQ9C;AACJ;;;iCAEQ;AACL;AACH;;;kDAEyB;AACtB,iBAAKiT,YAAL,GAAoB,IAApB;AACH;;;qDAE4B;AACzB,iBAAKA,YAAL,GAAoB,KAApB;AACH;;;;;;kBAGUJ,S;;;;;;;;;;;;;;;ACjCf;;;;;;;;;;;;IAEM/G,U;;;;;;;;;;;0CACgB;AACd,mBAAO,IAAItL,OAAJ,CAAY;AAAA,uBAAWC,QAAQ;AAClCC,+BAAW,KADuB;AAElCC,+BAAWC,QAAQC,UAAR,CAAmBC;AAFI,iBAAR,CAAX;AAAA,aAAZ,CAAP;AAIH;;;gCAEOC,I,EAAM;AACV,mBAAO,IAAIP,OAAJ,CAAY,UAACC,OAAD,EAAa;AAC5BA,wBAAQM,IAAR;AACH,aAFM,CAAP;AAGH;;;;;;kBAGU+K,U;;;;;;;;;;;;;;;;;ACjBf;;;;;;;;;;;;IAEMoH,M;;;;;;;;;;;0CACgB;AACd,mBAAO,IAAI1S,OAAJ,CAAY;AAAA,uBAAWC,QAAQ;AAClCC,+BAAW,KADuB;AAElCC,+BAAWC,QAAQC,UAAR,CAAmBC;AAFI,iBAAR,CAAX;AAAA,aAAZ,CAAP;AAIH;;;gCAEOC,I,EAAM;AACV,mBAAO,IAAIP,OAAJ,CAAY,UAACC,OAAD,EAAa;AAC5BO,wBAAQmB,KAAR,CAAc,yDAAd;AACA1B,wBAAQM,IAAR;AACH,aAHM,CAAP;AAIH;;;iCAEQ;AACL;AACH;;;;;;kBAGUmS,M;;;;;;;;;;;;;;;;;ACtBf;;;;AACA;;;;;;;;;;;;IAEMC,M;;;AACF,oBAAYlW,MAAZ,EAAoBC,OAApB,EAA6B;AAAA;;AAAA,oHACnBD,MADmB,EACXC,OADW;;AAGzB,cAAKyK,OAAL,GAAe,MAAKzK,OAAL,CAAa2L,aAA5B;;AAEA,cAAKtE,YAAL,GAAoB,IAApB;AALyB;AAM5B;;;;0CAEiB;AACd,mBAAO,KAAP;AACH;;;+BAEM;AAAA;;AACH,iBAAKlH,EAAL,CAAQ,aAAR,EAAuB,KAAKwQ,IAAL,CAAUtQ,IAAV,CAAe,IAAf,CAAvB;AACA,iBAAKF,EAAL,CAAQ,cAAR,EAAwB,KAAK+V,KAAL,CAAW7V,IAAX,CAAgB,IAAhB,CAAxB;;AAEA,iBAAKK,GAAL,CAAS,eAAT,EAA0B,YAAM;AAC5B,oBAAMyV,eAAe,iBAAOvE,GAAP,CAAW,QAAX,CAArB;;AAEA,oBAAIuE,YAAJ,EAAkB;AACd,2BAAK1I,MAAL,GAAc0I,YAAd;AACH;AACJ,aAND;AAOH;;;iCAEQ;AACL;AACA,iBAAK9O,YAAL,GAAoB,IAApB;AACH;;;+BAEM;AACH,iBAAKA,YAAL,CAAkB+O,KAAlB,CAAwBC,OAAxB,GAAkC,MAAlC;AACH;;;+BAEM;AACH,iBAAKhP,YAAL,CAAkB+O,KAAlB,CAAwBC,OAAxB,GAAkC,OAAlC;AACH;;;+BAEM,CAEN;;;gCAEO,CAEP;;;4BAEiB;AACdvS,oBAAQC,IAAR,CAAa,oCAAb;AACH,S;0BAEeqB,I,EAAM;AAClBtB,oBAAQC,IAAR,wDAAiEqB,IAAjE;AACH;;;4BAEc;AACXtB,oBAAQC,IAAR,CAAa,iCAAb;AACH;;;4BAEa;AACVD,oBAAQC,IAAR,CAAa,gCAAb;AACH;;;4BAEc;AACXD,oBAAQC,IAAR,CAAa,gCAAb;AACH;;;4BAEc;AACXD,oBAAQC,IAAR,CAAa,iCAAb;AACH,S;0BAEY7C,Q,EAAU;AACnB4C,oBAAQC,IAAR,qDAA8D7C,QAA9D;AACH;;;4BAEgB;AACb4C,oBAAQC,IAAR,CAAa,mCAAb;AACH,S;0BAEcuS,G,EAAK;AAChBxS,oBAAQC,IAAR,uDAAgEuS,GAAhE;AACH;;;4BAEU;AACP,mBAAO,KAAKC,UAAZ;AACH,S;0BAEQA,U,EAAY;AACjB,iBAAKA,UAAL,GAAkBA,UAAlB;AACH;;;;;;kBAGUN,M;;;;;;;;;;;;;AC/Ff;;;;;;;;;;;;IAEMxH,E;;;AACF,gBAAY1O,MAAZ,EAAoBC,OAApB,EAA6B;AAAA;;AAAA,4GACnBD,MADmB,EACXC,OADW;;AAGzB,cAAK8G,eAAL,GAAuB,MAAK9G,OAAL,CAAa8G,eAApC;;AAEA,cAAKR,OAAL,GAAe,IAAf;AALyB;AAM5B;;;;;kBAGUmI,E;;;;;;;;;;;;;;;ACZf;;;;;;;;;;;;IAEMC,Q;;;AACF,sBAAY3O,MAAZ,EAAoBC,OAApB,EAA6B;AAAA;;AAAA,wHACnBD,MADmB,EACXC,OADW;;AAGzB,cAAKsG,OAAL,GAAe,IAAf;;AAEA,YAAMC,gBAAgB,MAAKxG,MAAL,CAAYyW,cAAlC;AACA,YAAIjQ,aAAJ,EAAmB;AACf,kBAAKkQ,aAAL,GAAqBhU,SAAS8D,aAAT,CAAuBA,aAAvB,CAArB;;AAEA,gBAAI,CAAC,MAAKkQ,aAAV,EAAyB;AACrB3S,wBAAQC,IAAR,mDAA4DwC,aAA5D,YAA+E,MAAKtG,IAApF;AACH;AACJ,SAND,MAMO;AACH,kBAAKS,GAAL,CAAS,SAAT,EAAoB;AAAA,uBAAK,MAAKgW,SAAL,CAAexF,CAAf,CAAL;AAAA,aAApB;AACH;AAdwB;AAe5B;;;;qCAEYA,C,EAAG;AACZ,gBAAIA,EAAEjR,IAAF,KAAW,KAAKA,IAApB,EAA0B;AACtB;AACH;;AAED,iBAAKqG,OAAL,CAAauF,SAAb,CAAuBlL,MAAvB,CAA8B,sBAA9B;AACH;;;wCAEe;AACZ,iBAAK2F,OAAL,CAAauF,SAAb,CAAuBf,GAAvB,CAA2B,sBAA3B;AACH;;;kCAESoG,C,EAAG;AACT,gBAAMyF,SAASzF,EAAE0F,WAAjB;;AAEAD,mBAAO5K,WAAP,CAAmB,KAAKzF,OAAxB;AACA,iBAAKA,OAAL,CAAauF,SAAb,CAAuBf,GAAvB,CAA2B,sBAA3B;;AAEA;AACA,iBAAK3K,EAAL,CAAQ,cAAR,EAAwB,KAAK0W,YAAL,CAAkBxW,IAAlB,CAAuB,IAAvB,CAAxB;AACA,iBAAKF,EAAL,CAAQ,eAAR,EAAyB,KAAK2W,aAAL,CAAmBzW,IAAnB,CAAwB,IAAxB,CAAzB;;AAEA,iBAAKL,OAAL,CAAa8E,OAAb,CAAqB,kBAArB,EAAyC;AACrCiS,sBAAM,KAAKhX,MAAL,CAAYgX,IADmB;AAErC9W,sBAAM,KAAKA;AAF0B,aAAzC;AAIH;;;+BAEM;AACH,gBAAI,KAAKwW,aAAT,EAAwB;AACpB,qBAAKA,aAAL,CAAmB1K,WAAnB,CAA+B,KAAKzF,OAApC;AACH;AACJ;;;;;;kBAGUoI,Q;;;;;;;;;;;;ACvDf;;AAEA,IAAMG,UAAU,EAAhB;;AAEA,IAAMmI,YAAYC,UAAUD,SAA5B;;AAEA,IAAME,cAAc,SAAdA,WAAc,GAAM;AACtB,QAAMC,UAAU,sFAAhB,CADsB,CACkF;AACxG,QAAIC,QAAQJ,UAAUK,KAAV,CAAgBF,OAAhB,KAA4B,EAAxC;AACA,QAAIG,cAAJ;;AAEA,QAAI,WAAWC,IAAX,CAAgBH,MAAM,CAAN,CAAhB,CAAJ,EAA+B;AAC3BE,gBAAQ,kBAAkBE,IAAlB,CAAuBR,SAAvB,KAAqC,EAA7C;AACA,eAAO,EAAE/W,MAAM,IAAR,EAAcwX,SAASC,SAASJ,MAAM,CAAN,KAAY,EAArB,EAAyB,EAAzB,CAAvB,EAAP;AACH,KAHD,MAGO,IAAIF,MAAM,CAAN,MAAa,QAAjB,EAA2B;AAC9BE,gBAAQN,UAAUK,KAAV,CAAgB,cAAhB,CAAR;AACA,YAAIC,UAAU,IAAd,EAAoB;AAChB,mBAAO,EAAErX,MAAM,OAAR,EAAiBwX,SAASC,SAASJ,MAAM,CAAN,CAAT,EAAmB,EAAnB,CAA1B,EAAP;AACH;;AAEDA,gBAAQN,UAAUK,KAAV,CAAgB,oBAAhB,CAAR;AACA,YAAIC,UAAU,IAAd,EAAoB;AAChB,mBAAO,EAAErX,MAAM,MAAR,EAAgBwX,SAASE,WAAWL,MAAM,CAAN,CAAX,CAAzB,EAAP;AACH;AACJ;AACDF,YAAQA,MAAM,CAAN,IAAW,CAACA,MAAM,CAAN,CAAD,EAAWA,MAAM,CAAN,CAAX,CAAX,GAAkC,CAACH,UAAUW,OAAX,EAAoBX,UAAUY,UAA9B,EAA0C,IAA1C,CAA1C;;AAEAP,YAAQN,UAAUK,KAAV,CAAgB,iBAAhB,CAAR;AACA,QAAIC,KAAJ,EAAW;AACPF,cAAM1C,MAAN,CAAa,CAAb,EAAgB,CAAhB,EAAmB4C,MAAM,CAAN,CAAnB;AACH;;AAED,WAAO,EAAErX,MAAMmX,MAAM,CAAN,CAAR,EAAkBK,SAASC,SAASN,MAAM,CAAN,CAAT,EAAmB,EAAnB,CAA3B,EAAP;AACH,CA3BD;;AA6BA,IAAM9G,OAAO4G,aAAb;;AAEArI,QAAQiJ,QAAR,GAAmB,UAAUP,IAAV,CAAeP,SAAf,KAA6BA,UAAU9T,OAAV,CAAkB,QAAlB,MAAgC,CAAC,CAAjF;AACA2L,QAAQkJ,MAAR,GAAiB,QAAQR,IAAR,CAAaP,SAAb,CAAjB;AACAnI,QAAQmJ,QAAR,GAAmB,UAAUT,IAAV,CAAeP,SAAf,KAA6B,CAACnI,QAAQkJ,MAAzD;AACAlJ,QAAQoJ,UAAR,GAAqBpJ,QAAQmJ,QAAR,IAAoB,SAAST,IAAT,CAAcP,SAAd,CAAzC;AACAnI,QAAQqJ,SAAR,GAAoB,WAAWX,IAAX,CAAgBP,SAAhB,CAApB;AACAnI,QAAQsJ,UAAR,GAAqB,CAAC,CAAEzS,OAAO0S,aAA/B;AACAvJ,QAAQwJ,IAAR,GAAexJ,QAAQsJ,UAAR,IAAsB,mBAAmBZ,IAAnB,CAAwBP,SAAxB,CAArC;AACAnI,QAAQyJ,MAAR,GAAiB,kBAAkBf,IAAlB,CAAuBP,SAAvB,CAAjB;AACAnI,QAAQ0J,YAAR,GAAuB1J,QAAQmJ,QAAR,IAAoB,SAAST,IAAT,CAAcP,SAAd,CAA3C;AACAnI,QAAQxD,QAAR,GAAmB,+EAA+EkM,IAA/E,CAAoFP,SAApF,CAAnB,C,CAAmH;AACnHnI,QAAQlI,KAAR,GAAgB,oBAAoB4Q,IAApB,CAAyBP,SAAzB,CAAhB;;AAEAnI,QAAQjI,SAAR,GAAoB,WAAW2Q,IAAX,CAAgBP,SAAhB,CAApB;AACAnI,QAAQ2J,cAAR,GAAyB,iBAAiBjB,IAAjB,CAAsBP,SAAtB,CAAzB;AACAnI,QAAQ4J,SAAR,GAAoB,aAAalB,IAAb,CAAkBP,SAAlB,CAApB;AACAnI,QAAQ6J,MAAR,GAAiB,QAAQnB,IAAR,CAAaP,SAAb,CAAjB;AACAnI,QAAQ8J,KAAR,GAAgB,iBAAiBpB,IAAjB,CAAsBP,SAAtB,CAAhB;AACAnI,QAAQ+J,gBAAR,GAA2B,kBAAkBrB,IAAlB,CAAuBP,SAAvB,CAA3B;AACAnI,QAAQgK,SAAR,GAAoB,WAAWtB,IAAX,CAAgBP,SAAhB,CAApB;AACAnI,QAAQiK,WAAR,GAAsB,aAAavB,IAAb,CAAkBP,SAAlB,CAAtB;AACAnI,QAAQkK,UAAR,GAAqB,QAAQxB,IAAR,CAAaP,SAAb,KAA2B,QAAQO,IAAR,CAAaP,SAAb,CAAhD;;AAEAnI,QAAQ5O,IAAR,GAAeqQ,KAAKrQ,IAApB;AACA4O,QAAQ4I,OAAR,GAAkBnH,KAAKmH,OAAvB;;AAEA5I,QAAQvD,aAAR,GAAwB,KAAxB;;AAEA,IAAIuD,QAAQxD,QAAZ,EAAsB;AAClBwD,YAAQvD,aAAR,GAAwB,IAAxB;AACH,CAFD,MAEO,IAAIuD,QAAQiJ,QAAR,IAAoBjJ,QAAQ4I,OAAR,IAAmB,EAA3C,EAA+C;AAClD5I,YAAQvD,aAAR,GAAwB,IAAxB;AACH;;kBAEcuD,O;;;;;;;;;;;;;;;;;ICtETmK,e;;;;;;;+BACY;AACV,gBAAI,EAAE,YAAYtR,QAAQuR,SAAtB,CAAJ,EAAsC;AAClCvR,wBAAQuR,SAAR,CAAkBtY,MAAlB,GAA2B,SAASA,MAAT,GAAkB;AACzC,wBAAI,KAAKuY,UAAT,EAAqB;AACjB,6BAAKA,UAAL,CAAgBC,WAAhB,CAA4B,IAA5B;AACH;AACJ,iBAJD;AAKH;AACJ;;;;;;kBAGUH,e;;;;;;;;;;;;;;;;;ICZTI,Y;;;;;;;qCACkB9S,O,EAAwB;AACxC,iBAAK,IAAIxD,IAAI,CAAb,EAAgBA,sDAAhB,EAAuCA,KAAK,CAA5C,EAA+C;AAC3C,oBAAMuW,gCAAuBvW,CAAvB,6BAAuBA,CAAvB,KAAN;;AAEAwD,wBAAQuF,SAAR,CAAkBf,GAAlB,CAAsBuO,SAAtB;AACH;AACJ;;;wCAEsB/S,O,EAAwB;AAC3C,iBAAK,IAAIxD,IAAI,CAAb,EAAgBA,sDAAhB,EAAuCA,KAAK,CAA5C,EAA+C;AAC3C,oBAAMuW,gCAAuBvW,CAAvB,6BAAuBA,CAAvB,KAAN;;AAEAwD,wBAAQuF,SAAR,CAAkBlL,MAAlB,CAAyB0Y,SAAzB;AACH;AACJ;;;;;;kBAGUD,Y;;;;;;;;;;;;;;;QClBCE,S,GAAAA,S;QAqBAC,mB,GAAAA,mB;QAsDAC,U,GAAAA,U;QAkCAC,S,GAAAA,S;AA7GT,SAASH,SAAT,CAAmBlU,IAAnB,EAAyB;AAC5B,QAAIsU,MAAMtU,IAAN,CAAJ,EAAiB,OAAO,GAAP;;AAEjB,QAAMuU,QAAQ/O,KAAKyE,KAAL,CAAWjK,OAAO,IAAlB,CAAd;AACA,QAAIwU,UAAUhP,KAAKyE,KAAL,CAAW,CAACjK,OAAQuU,QAAQ,IAAjB,IAA0B,EAArC,CAAd;AACA,QAAIE,UAAUzU,OAAQuU,QAAQ,IAAhB,GAAyBC,UAAU,EAAjD;;AAEA,QAAID,UAAU,CAAV,IAAeC,UAAU,EAA7B,EAAiC;AAC7BA,wBAAcA,OAAd;AACH;AACD,QAAIC,UAAU,EAAd,EAAkB;AACdA,wBAAcA,OAAd;AACH;;AAED,QAAIF,UAAU,CAAd,EAAiB;AACb,eAAUA,KAAV,SAAmBC,OAAnB,SAA8BC,OAA9B;AACH;;AAED,WAAUD,OAAV,SAAqBC,OAArB;AACH;;AAEM,SAASN,mBAAT,CAA6B5J,OAA7B,EAAsC;AACzC;AACA,QAAIA,UAAU,CAAd,EAAiB;AACb,eAAOxK,GAAP;AACH;;AAED,QAAM2U,OAAOnK,UAAU,IAAvB;AACA,WAAUmK,IAAV;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACH;;AAED;;;;;;;;;AASO,SAASN,UAAT,CAAoBO,QAApB,EAA8BC,IAA9B,EAAoC;AACvC;AACA,QAAMC,UAAUxX,SAAS8D,aAAT,CAAuB,MAAvB,CAAhB;AACA,QAAM2T,UAAUzX,SAAS8D,aAAT,CAAuB,MAAvB,CAAhB;AACA,QAAMkJ,IAAIhN,SAASiJ,aAAT,CAAuB,GAAvB,CAAV;AACA,QAAIyO,OAAOF,OAAX;AACA,QAAIG,gBAAJ;;AAEA;AACA,QAAIH,OAAJ,EAAa;AACTG,kBAAUH,QAAQI,IAAlB;AACH,KAFD,MAEO;AACHF,eAAOD,QAAQnO,WAAR,CAAoBtJ,SAASiJ,aAAT,CAAuB,MAAvB,CAApB,CAAP;AACH;;AAEDyO,SAAKE,IAAL,GAAYN,QAAZ;AACAtK,MAAE4K,IAAF,GAASL,IAAT;AACA,QAAMhQ,SAASyF,EAAE4K,IAAjB;;AAEA;AACA,QAAIJ,OAAJ,EAAa;AACTA,gBAAQI,IAAR,GAAeD,OAAf;AACH,KAFD,MAEO;AACHF,gBAAQf,WAAR,CAAoBgB,IAApB;AACH;AACD,WAAOnQ,MAAP;AACH;;AAED;;;;;;AAMO,SAASyP,SAAT,CAAmBa,IAAnB,EAAyB;AAC5B,QAAI;AACA,eAAOA,gBAAgBC,WAAvB;AACH,KAFD,CAEE,OAAOrJ,CAAP,EAAU;AACR,eAAQ,QAAOoJ,IAAP,yCAAOA,IAAP,OAAgB,QAAjB,IACFA,KAAKE,QAAL,KAAkB,CADhB,IACuB,QAAOF,KAAKlE,KAAZ,MAAsB,QAD7C,IAEF,QAAOkE,KAAKG,aAAZ,MAA8B,QAFnC;AAGH;AACJ;;AAED;;;kBAGe;AACXnB,wBADW;AAEXC,4CAFW;AAGXC,0BAHW;AAIXC;AAJW,C","file":"dist/Meister.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 38);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 58be4fe798259ee5ea27","class ProtoPlugin {\n    constructor(config, meister) {\n        this.config = config;\n        this.meister = meister;\n        this.name = this.config.name;\n\n        this.eventStore = [];\n\n        // Don't store this in the eventStore as this messes up unloading of several child classes.\n        this.meister.on('requestDestroy', this.destroy.bind(this), this.name);\n    }\n\n    on(hook, handler) {\n        this.eventStore.push(...this.meister.on(hook, handler, this.name));\n    }\n\n    one(hook, block, handler) {\n        this.eventStore.push(this.meister.one(hook, block, handler, this.name));\n    }\n\n    unload() {\n        this.meister.remove(this.eventStore);\n        this.eventStore = [];\n    }\n\n    destroy() {\n        this.unload();\n    }\n}\n\nexport default ProtoPlugin;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/plugin-types/ProtoPlugin.js","const ENVIRONMENT = 'development';\n\nconst store = {\n    production: {\n        global: {\n            autoplay: false,\n            controls: true,\n            startMuted: false,\n            debug: false,\n            audioOnly: false,\n        },\n        Dash: {\n            dvrThreshold: 300,\n            dvrEnabled: true,\n        },\n        Hls: {\n            dvrEnabled: true,\n        },\n    },\n\n    development: {\n        global: {\n            autoplay: false,\n            controls: true,\n            startMuted: false,\n            debug: false,\n            audioOnly: false,\n        },\n        Dash: {\n            dvrThreshold: 300,\n            dvrEnabled: true,\n        },\n        Hls: {\n            dvrEnabled: true,\n        },\n    },\n};\n\n\nclass Configuration {\n\n    static set(key, value) {\n        store[ENVIRONMENT][key] = value;\n    }\n\n    static get(key) {\n        return store[ENVIRONMENT][key];\n    }\n\n    static getGlobals(options) {\n        Object.keys(options).forEach((key) => {\n            store[ENVIRONMENT].global[key] = options[key];\n        });\n\n        return store[ENVIRONMENT].global;\n    }\n\n    static overwrite(plugins) {\n        // For all plugins..\n        Object.keys(plugins).forEach((plugin) => {\n            if (!store[ENVIRONMENT][plugin]) {\n                // If not, create a new config object and move on\n                store[ENVIRONMENT][plugin] = plugins[plugin];\n                return;\n            }\n\n            Object.keys(plugins[plugin]).forEach((config) => {\n                store[ENVIRONMENT][plugin][config] = plugins[plugin][config];\n            });\n        });\n    }\n\n    static getAll() {\n        return store[ENVIRONMENT];\n    }\n}\n\nexport default Configuration;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/Configuration.js","import AdEvents from './ad-events';\nimport ControlEvents from './control-events';\nimport ItemEvents from './item-events';\nimport GlobalEvents from './global-events';\nimport PlayerEvents from './player-events';\nimport PlaylistEvents from './playlist-events';\nimport UiEvents from './ui-events';\n\nconst EventDefaults = [];\n\nEventDefaults.push(...AdEvents);\nEventDefaults.push(...ControlEvents);\nEventDefaults.push(...ItemEvents);\nEventDefaults.push(...GlobalEvents);\nEventDefaults.push(...PlayerEvents);\nEventDefaults.push(...PlaylistEvents);\nEventDefaults.push(...UiEvents);\n\nexport default EventDefaults;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/events/default-events.js","class Cookie {\n    static set(key, value, date = null) {\n        let expires = '';\n\n        if (date !== null) {\n            expires = `; expires=${date.toGMTString()}`;\n        }\n\n        document.cookie = `${key}=${value}${expires}; path=/`;\n    }\n\n    static get(key) {\n        const keyEQ = `${key}=`;\n        const ca = document.cookie.split(';');\n\n        for (let i = 0; i < ca.length; i += 1) {\n            let cookie = ca[i];\n\n            while (cookie.charAt(0) == ' ') cookie = cookie.substring(1, cookie.length);\n            if (cookie.indexOf(keyEQ) == 0) return cookie.substr(keyEQ.length, cookie.length);\n        }\n\n        return null;\n    }\n\n    static delete(key) {\n        this.set(key, '', -1);\n    }\n}\n\nexport default Cookie;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/lib/triple/cookie.js","import ProtoPlugin from './ProtoPlugin';\n\nclass Media extends ProtoPlugin {\n    /**\n     * Checking if an item is supported by the plugin\n     * @return {boolean} Default always returns false.\n     */\n    isItemSupported() {\n        return new Promise(resolve => resolve({\n            supported: false,\n            errorCode: Meister.ErrorCodes.WRONG_TYPE,\n        }));\n    }\n\n    get currentItem() {\n        console.error(`${this.name} does not support this method.`);\n        return null;\n    }\n\n    /**\n     * Get the duration of the media.\n     * Method should be implemented by the inheriting class.\n     * @readonly\n     * @memberof Media\n     * @returns {Number|NaN}\n     */\n    get duration() {\n        if (this.meister.debugEnabled) {\n            console.error(`${this.name} does not provide a duration getter.`);\n        }\n\n        return NaN;\n    }\n\n    /**\n     * Get the playback position in the media.\n     * Method should be implemented by the inheriting class.\n     * @readonly\n     * @memberof Media\n     * @returns {Number|NaN}\n     */\n    get currentTime() {\n        if (this.meister.debugEnabled) {\n            console.error(`${this.name} does not provide a currentTime getter.`);\n        }\n\n        return NaN;\n    }\n\n    /**\n     * Set the playback position in the media.\n     * Method should be implemented by the inheriting class.\n     * @memberof Media\n     */\n    set currentTime(time) {\n        if (this.meister.debugEnabled) {\n            console.error(`${this.name} does not provide a currentTime setter.`);\n        }\n    }\n\n    /**\n     * Process is for reading metadata/parsing\n     */\n    process(item) {\n        return new Promise((resolve) => {\n            console.warn('Process not implemented. Player may not play correctly.');\n            resolve(item);\n        });\n    }\n\n    /**\n     * Registers events and prepares for play.\n     */\n    load(item) {\n        if (this.meister.config.debug) {\n            console.log(`Loading item with type '${item.type}' and src '${item.src}'`);\n        }\n        if (Number.isFinite(item.startPosition)) {\n            this.startPosition = item.startPosition;\n        }\n\n        this.on('playerLoadedMetadata', () => this.playerLoadedMetadata());\n        this.on('_playerTimeUpdate', this._onPlayerTimeUpdate.bind(this));\n        this.on('_playerSeek', this._onPlayerSeek.bind(this));\n        this.on('requestSeek', this.onRequestSeek.bind(this));\n\n        this.blockSeekForward = !!item.blockSeekForward;\n    }\n\n    playerLoadedMetadata() {\n        // when startPosition is within the duration of the current video\n        if (this.startPosition > 0 && this.player.duration > this.startPosition) {\n            if (this.startPositionCompleted) return;\n            this.startPositionCompleted = true;\n\n            this.meister.trigger('requestSeek', {\n                targetTime: this.startPosition,\n                forcedStart: true,\n            });\n        }\n    }\n\n    _onPlayerTimeUpdate() {\n        console.error(`${this.name} does not implement '_onPlayerTimeUpdate', event ignored.`);\n    }\n\n    _onPlayerSeek() {\n        console.error(`${this.name} does not implement '_onPlayerSeek', event ignored.`);\n    }\n\n    onRequestSeek() {\n        console.error(`${this.name} does not implement 'onRequestSeek', event ignored.`);\n    }\n\n    /**\n     * Unloads events that you dont need anymore.\n     */\n    unload() {\n        super.unload();\n        this.startPositionCompleted = false;\n        this.startPosition = null;\n        this.blockSeekForward = false;\n    }\n\n    /**\n     * Destroys the whole plugin.\n     */\n    destroy() {\n        super.destroy();\n    }\n}\n\nexport default Media;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/plugin-types/Media.js","import Meister from './src/js/Meister';\n\nexport default Meister;\n\n\n\n// WEBPACK FOOTER //\n// ./index.js","module.exports = noop\n\n// no operation\n// null -> null\nfunction noop() {}\n\n// call noop to satisfy test cov suites\nnoop()\n\n\n\n// WEBPACK FOOTER //\n// ./~/noop2/index.js","// import InstanceBag from './instance-bag';\n\nclass ExtraEvents {\n    static register(meisterInstance) {\n        // windowFocusChange\n        window.onfocus = () => {\n            meisterInstance.eventHandler.trigger('windowFocusChange', {\n                onForeground: true,\n            });\n        };\n\n        window.onblur = () => {\n            meisterInstance.eventHandler.trigger('windowFocusChange', {\n                onForeground: false,\n            });\n        };\n\n        // windowVisibilityChange\n        document.addEventListener('visibilitychange', () => {\n            meisterInstance.eventHandler.trigger('windowVisibilityChange', {\n                visibility: document.visibilityState,\n            });\n        });\n\n        document.addEventListener('webkitfullscreenchange', () => {\n            meisterInstance.eventHandler.trigger('playerFullscreen');\n        });\n\n        document.addEventListener('mozfullscreenchange', () => {\n            meisterInstance.eventHandler.trigger('playerFullscreen');\n        });\n\n        document.addEventListener('fullscreenchange', () => {\n            meisterInstance.eventHandler.trigger('playerFullscreen');\n        });\n\n        document.addEventListener('MSFullscreenchange', () => {\n            meisterInstance.eventHandler.trigger('playerFullscreen');\n        });\n    }\n}\n\nexport default ExtraEvents;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/ExtraEvents.js","\nexport default class FullscreenController {\n    constructor(meister) {\n        this.meister = meister;\n        // Set the custom fullscreen element should one be provided.\n        this.fullscreenElement = this.meister.defaultWrapper;\n        if (this.meister.config.customFullscreenElement) {\n            if (typeof this.meister.config.customFullscreenElement === 'string') {\n                const element = document.querySelector(this.meister.config.customFullscreenElement);\n                if (!element) {\n                    console.warn(`Unable to find fullscreen element with queryselector ${this.meister.config.customFullscreenElement}, using default element instead.`);\n                } else {\n                    this.fullscreenElement = element;\n                }\n            } else if (this.meister.config.customFullscreenElement instanceof Node) {\n                this.fullscreenElement = this.meister.config.customFullscreenElement;\n            } else {\n                console.warn('Custom fullscreen element is not of type string or Node, using default element instead.');\n            }\n        }\n        if (this.meister.config.fullscreenOnDoubleClick) {\n            if (this.meister.browser.isiOS || this.meister.browser.isAndroid) {\n                // mobile, so do a custom double tap check\n                this.tapped = null;\n                this.meister.controlsWrapper.addEventListener('touchstart', this.doubleTapCheck.bind(this));\n            } else {\n                // desktop, use the dblclick event\n                this.meister.controlsWrapper.addEventListener('dblclick', this.toggleFullscreen.bind(this));\n            }\n        }\n    }\n\n    get isFullscreen() {\n        if (!document.fullscreenElement && !document.mozFullScreenElement &&\n            !document.webkitFullscreenElement && !document.msFullscreenElement) {\n            return false;\n        }\n\n        return true;\n    }\n\n    requestFullscreen() {\n        if (!document.fullscreenElement && !document.mozFullScreenElement &&\n            !document.webkitFullscreenElement && !document.msFullscreenElement) {\n            if (this.meister.browser.isiOS) {\n                // iPad fullscreen has to go on the media element.\n                this.meister.playerPlugin.mediaElement.webkitEnterFullscreen();\n            } else if (this.fullscreenElement.requestFullscreen) {\n                this.fullscreenElement.requestFullscreen();\n            } else if (this.fullscreenElement.mozRequestFullScreen) {\n                this.fullscreenElement.mozRequestFullScreen();\n            } else if (this.fullscreenElement.webkitRequestFullscreen) {\n                this.fullscreenElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);\n            } else if (this.fullscreenElement.msRequestFullscreen) {\n                this.fullscreenElement.msRequestFullscreen();\n            }\n        }\n    }\n\n    cancelFullscreen() {\n        if (document.fullscreenElement) {\n            document.exitFullscreen();\n        } else if (document.cancelFullScreen) {\n            document.cancelFullScreen();\n        } else if (document.mozCancelFullScreen) {\n            document.mozCancelFullScreen();\n        } else if (document.webkitCancelFullScreen) {\n            document.webkitCancelFullScreen();\n        } else if (document.msExitFullscreen) {\n            document.msExitFullscreen();\n        }\n        if (this.meister.browser.isiOS) {\n            // iOS fullscreen has to go on the media element.\n            this.meister.playerPlugin.mediaElement.webkitExitFullScreen();\n        }\n    }\n\n    doubleTapCheck() {\n        // if tap is not set, set up single tap\n        if (!this.tapped) {\n            // wait 300ms then run single click code\n            this.tapped = setTimeout(() => { this.tapped = null; }, 300);\n        } else {\n            // tapped within 300ms of last tap. double tap\n            // stop single tap callback\n            clearTimeout(this.tapped);\n            this.tapped = null;\n            this.toggleFullscreen();\n        }\n    }\n    toggleFullscreen() {\n        if (this.meister.isFullscreen) {\n            this.cancelFullscreen();\n        } else {\n            this.requestFullscreen();\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/FullscreenController.js","const store = [];\n\nclass InstanceBag {\n    static add(key, value) {\n        store[key] = value;\n    }\n\n    static get(key) {\n        return store[key];\n    }\n}\n\nexport default InstanceBag;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/InstanceBag.js","import English from './localization/default-en';\nimport Dutch from './localization/default-nl';\nimport i18nJson from './localization/i18n';\n\nlet currentLanguage = 'en';\n\nconst languageBag = {};\n\nclass Localization {\n\n    static init(i18nOn) {\n        if (i18nOn) {\n            Object.keys(i18nJson).forEach((key) => {\n                Localization.set(key, i18nJson[key], currentLanguage);\n            });\n        } else {\n            console.warn('In future Meister versions this localization method is deprecated. Set i18nEnabled to true in the Meister global object.');\n            Object.keys(English).forEach((key) => {\n                Localization.set(key, English[key], 'en');\n            });\n\n            Object.keys(Dutch).forEach((key) => {\n                Localization.set(key, Dutch[key], 'nl');\n            });\n        }\n    }\n\n    static set(key, valueOrObj, language = currentLanguage) {\n        // Create the language if it does not exist.\n        if (!languageBag[language]) {\n            languageBag[language] = {};\n        }\n        // no value or object use the key\n        let value = key;\n        if (typeof valueOrObj === 'object') {\n            // it's a object its the i18n type\n            value = valueOrObj[language];\n        } else if (typeof valueOrObj === 'string') {\n            // it's a string so use the deprecated method\n            value = valueOrObj;\n        }\n        languageBag[language][key] = value;\n    }\n\n    static get(key, language = currentLanguage) {\n        return languageBag[language][key];\n    }\n\n    static all(language = currentLanguage) {\n        return languageBag[language];\n    }\n\n    static setLanguage(lang) {\n        currentLanguage = lang;\n    }\n}\n\nexport default Localization;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/Localization.js","// import PluginLoader from './plugin-loader';\n\nclass MediaController {\n    constructor(meister) {\n        this.meister = meister;\n\n        this.currentPlugin = null;\n\n        // Keep track of whether an ad is playing.\n        this.adBreakPlaying = false;\n        this.meister.on('adBreakStarted', () => {\n            this.adBreakPlaying = true;\n        });\n\n        this.meister.on(['adBreakEnded', 'itemUnloaded'], () => {\n            this.adBreakPlaying = false;\n        });\n    }\n\n    loadNewItem(item) {\n        if (this.meister.config.disableLoadDuringAd && this.adBreakPlaying) {\n            this.meister.trigger('itemLoadPrevented', { error: 'adPlaying' });\n            console.warn('Unable to switch content while ad is playing');\n            return;\n        }\n\n        // Unload the previous plugin should it be present.\n        if (this.plugin) {\n            this.plugin.unload();\n            this.plugin = null;\n        }\n        // Signal to the rest of the player that the item is now unloaded.\n        this.meister.trigger('itemUnloaded');\n\n        this.getPluginFor(item).then((plugin) => {\n            this.plugin = plugin;\n\n            this.plugin.process(item)\n                .then((processedItem) => {\n                    const promise = this.plugin.load(processedItem);\n\n                    if (promise) {\n                        promise.then(() => {\n                            this.meister.trigger('itemLoaded', { item: processedItem });\n                        }).catch((err) => {\n                            console.error(`@${this.plugin.name}: Could not load item with type: '${item.type}' and src: '${item.src}'.`, err); //eslint-disable-line\n                        });\n                    } else {\n                        this.meister.trigger('itemLoaded', { item: processedItem });\n                    }\n                })\n                .catch((err) => {\n                    this.meister.error(`Could not find plugin to play type: '${item.type}'.`,\n                        err.errorCode, { title: 'Unable to play content.' });\n                    console.error(`@${this.plugin.name}: Could not process item with type: '${item.type}' and src: '${item.src}'.`, err); //eslint-disable-line\n                });\n        }).catch((err) => {\n            console.error(`@${this.plugin.name}: Could not getPluginFor item with type: '${item.type}' and src: '${item.src} '.`, err); //eslint-disable-line\n        });\n    }\n\n    switchItem(newItem) {\n        this.loadNewItem(newItem);\n    }\n\n    get currentItem() {\n        if (this.plugin && this.plugin.currentItem) {\n            return this.plugin.currentItem;\n        }\n\n        console.warn(`${this.plugin.name} does not provide metadata.`);\n        return {};\n    }\n\n    /**\n     * Duration of the media currently playing. Proxies the current media\n     * plugin.\n     * @readonly\n     * @memberof MediaController\n     * @returns {Number|NaN}\n     */\n    get duration() {\n        if (!this.plugin) { return NaN; }\n\n        return this.plugin.duration;\n    }\n\n    /**\n     * Current playback position in the media. Proxies the current media\n     * plugin.\n     * @memberof MediaController\n     * @returns {Number|NaN}\n     */\n    get currentTime() {\n        if (!this.plugin) { return NaN; }\n\n        return this.plugin.currentTime;\n    }\n\n    /**\n     * Set the current playback position in the media. Proxies the current\n     * media plugin.\n     * @memberof MediaController\n     */\n    set currentTime(time) {\n        if (!this.plugin) { return; }\n\n        this.plugin.currentTime = time;\n    }\n\n    getPluginFor(item) {\n        return this.meister.pluginLoader.getPluginByItem(item).then((result) => {\n            if (result.errorCode) {\n                throw result;\n            }\n\n            return result;\n        });\n    }\n}\n\nexport default MediaController;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/MediaController.js","import PluginLoader from './PluginLoader';\nimport Configuration from './Configuration';\nimport EventHandler from './lib/triple/event-handler';\nimport EventDefaults from './events/default-events';\nimport InstanceBag from './InstanceBag';\nimport ExtraEvents from './ExtraEvents';\nimport Utils, { isDOMNode } from './utils/Utils';\n// import DRMUtils from './utils/DRMUtils';\nimport ElementUtils from './utils/ElementUtils';\nimport Browser from './utils/Browser';\nimport BrowserPolyfill from './utils/BrowserPolyfill';\nimport Playlist from './Playlist';\nimport MediaController from './MediaController';\nimport FullscreenController from './FullscreenController';\nimport Cookie from './lib/triple/cookie';\nimport errorCodes from './errorCodes';\nimport Localization from './Localization';\n// import {setDebug} from './Debug';\n\n// Abstract Plugins\nimport Analytics from './plugin-types/Analytics';\nimport Media from './plugin-types/Media';\nimport Parser from './plugin-types/Parser';\nimport Player from './plugin-types/Player';\nimport Ui from './plugin-types/Ui';\nimport UiPlugin from './plugin-types/UiPlugin';\nimport Middleware from './plugin-types/Middleware';\nimport ProtoPlugin from './plugin-types/ProtoPlugin';\n\n// HACK for IE11 iFrames.\nif (window !== window.top) {\n    console.warn = console.log.bind(console);\n    console.error = console.log.bind(console);\n}\n\nlet instances = [];\n\nclass Meister {\n    /**\n     * Create a new player instance.\n     *\n     * @param {string} query for finding the element that meister will use to render the player.\n     * @param {object} options for meisterjs. Also required for initializing plugins.\n     */\n    constructor(query, userOptions) {\n        // Make sure we at least have a wrapper or else the player can't continue.\n\n        // create the options by merging the default with the user options\n        const defaultOptions = {\n            global: {},\n        };\n        const options = Object.assign({}, defaultOptions, userOptions);\n\n        // checks if the query is a DOM element, otherwise querySelector the query string\n        if (isDOMNode(query)) {\n            this.wrapper = query;\n        } else {\n            this.wrapper = document.querySelector(query);\n        }\n\n        if (!this.wrapper) {\n            throw Error(`Wrapper with Queryseletor: ${query} not found.`);\n        }\n\n        // Instantiate the event handler and utilities.\n        this.eventHandler = new EventHandler(EventDefaults);\n        this.instanceId = Math.random();\n        InstanceBag.add('eventHandler', this.eventHandler);\n\n        this.utils = Utils;\n        // this.DRMUtils = DRMUtils;\n        this.elementUtils = ElementUtils;\n        this.browser = Browser;\n        this.Localization = Localization;\n\n        BrowserPolyfill.init();\n\n        // Extract global config\n        this.config = Configuration.getGlobals(options.global);\n        if (this.config.language) {\n            this.Localization.setLanguage(this.config.language);\n        }\n        this.Localization.init(this.config.i18nEnabled);\n\n        // Enable autoplay\n        if (this.config.autoplay) {\n            // Disable the first autoplay on mobile, so that ads will display\n            if (this.browser.isMobile || (this.browser.isNonAutoPlay && !this.config.startMuted)) {\n                const wasAutoplay = this.config.autoplay;\n                this.config.autoplay = false;\n                this.one('playerPlay', () => {\n                    this.config.autoplay = wasAutoplay;\n                    this.on('itemLoaded', () => this.trigger('requestPlay'), 'meister');\n                }, 'meister');\n            } else {\n                this.on('itemLoaded', () => this.trigger('requestPlay'), 'meister');\n            }\n        }\n\n        if (this.config.fullscreenOnDoubleClick) {\n            this.config.iosPlaysInline = true;\n        }\n        // Set logging level\n        // this.debugEnabled = this.config.debug;\n\n        this.container = document.createElement('div');\n        this.defaultWrapper = document.createElement('div');\n        this.playerWrapper = document.createElement('div');\n        this.controlsWrapper = document.createElement('div');\n        this.adWrapper = document.createElement('div');\n\n        this.container.classList.add('pf-player-container');\n        this.defaultWrapper.classList.add('pf-default-wrapper');\n        this.playerWrapper.classList.add('pf-player');\n        this.controlsWrapper.classList.add('pf-controls');\n        if (!this.config.controls) this.controlsWrapper.classList.add('pf-ui-element-hidden');\n        this.elementUtils.classListAdd(this.adWrapper, 'pf-ads', 'pf-ui-element-hidden');\n\n        this.wrapper.appendChild(this.container);\n        this.container.appendChild(this.defaultWrapper);\n        this.defaultWrapper.appendChild(this.playerWrapper);\n        this.defaultWrapper.appendChild(this.controlsWrapper);\n        this.defaultWrapper.appendChild(this.adWrapper);\n\n\n        Configuration.overwrite(options);\n\n        this.pluginLoader = new PluginLoader(this);\n        this.pluginLoader.config(options, this);\n\n        // PluginLoader.config(options, this);\n\n        this.pluginLoader.drawUiPlugins();\n        this.pluginLoader.loadAnalyticsPlugins();\n\n        ExtraEvents.register(this);\n\n        this.playerPlugin = null;\n        this.playlist = null;\n\n        this.mediaController = new MediaController(this);\n        this.fullscreenController = new FullscreenController(this);\n\n        this.on('requestDrmKeySystemSupport', () => {\n            this.trigger('drmKeySystemSupport', []);\n        });\n\n        instances.push({\n            id: this.instanceId,\n            instance: this,\n        });\n    }\n\n    /**\n     * Gets the current Meister version.\n     *\n     * @return {string} The meister version.\n     */\n    static get version() {\n        return 'v5.1.2';\n    }\n\n    /**\n     * Returns filtered and formatted list of all registered plugins and their version.\n     *\n     * @return {Array} List with plugins and their version.\n     */\n    static get pluginVersions() {\n        const registeredPlugins = PluginLoader.getRegistered();\n        const result = [];\n\n        registeredPlugins.forEach((plugin) => {\n            const pluginName = plugin.Plugin.pluginName.toLowerCase();\n            const alreadyExists = result.findIndex(resultPlugin => resultPlugin.pluginName.toLowerCase() === pluginName);\n\n            if (alreadyExists !== -1) return;\n\n            result.push({\n                pluginName: plugin.Plugin.pluginName,\n                pluginVersion: plugin.Plugin.pluginVersion,\n            });\n        });\n\n        return result;\n    }\n\n    /**\n     * Is Debug mode enabled\n     *\n     * @return {boolean} Return true if debug is enabled.\n     */\n    get debugEnabled() {\n        return this.config.debug;\n    }\n\n    /**\n     * Sets debug mode.\n     *\n     * @param  {boolean} debug true for debug mode.\n     */\n    set debugEnabled(debug) {\n        // setDebug(debug);\n        this.config.debug = debug;\n    }\n\n    /**\n     * Are controls enabled?\n     *\n     * @return {boolean} Returns true if controls are shown\n     */\n    get showControls() {\n        return this.config.controls;\n    }\n\n    /**\n     * Hides/shows controls based on the given boolean.\n     *\n     * @param  {boolean} controls true to show controls, false to hide.\n     */\n    set showControls(controls) {\n        if (controls) {\n            this.controlsWrapper.classList.remove('pf-ui-element-hidden');\n        } else {\n            this.controlsWrapper.classList.add('pf-ui-element-hidden');\n        }\n\n        this.config.controls = controls;\n    }\n\n    load() {\n        this.playlist.loadCurrentIndex();\n    }\n\n    /**\n     * Destroys the instance of the player and it's plugins.\n     */\n    destroy() {\n        // Remove the player from the page.\n        this.wrapper.innerHTML = '';\n\n        this.trigger('requestDestroy');\n        // HACK: fix this hack! Because requestDestroy refers to this.playerPlugin (via get playing) it throws an error when playerPlugin is nulled.. By using setTimeout 0 we effectively added nullifying on the eventstack\n        setTimeout(() => {\n            this.pluginLoader = null;\n            this.playerPlugin = null;\n            this.playlist = null;\n            this.mediaController = null;\n            this.fullscreenController = null;\n\n            this.eventHandler.destroy();\n\n            instances = instances.filter(instance => instance.id === this.id);\n        }, 0);\n    }\n\n    play(triggerByUser = false) {\n        // Do this through events so ads have a chance to register\n        this.trigger('requestPlay', { triggerByUser });\n    }\n\n    pause(triggerByUser = false) {\n        this.trigger('requestPause', { triggerByUser });\n    }\n\n    get playerMode() {\n        return this.config.audioOnly ? 'audio' : 'video';\n    }\n\n    get volume() {\n        if (!this.playerPlugin) return null;\n\n        return this.playerPlugin.volume;\n    }\n\n    set volume(volume) {\n        if (!this.playerPlugin) return;\n\n        Cookie.set('volume', volume);\n        this.playerPlugin.volume = volume;\n    }\n\n    get muted() {\n        if (!this.playerPlugin) return null;\n\n        return this.playerPlugin.muted;\n    }\n\n    set muted(muted) {\n        if (!this.playerPlugin) return;\n\n        this.playerPlugin.muted = muted;\n    }\n\n    get playing() {\n        if (!this.playerPlugin) return null;\n\n        return this.playerPlugin.playing;\n    }\n\n    get currentItem() {\n        if (!this.mediaController) return null;\n\n        return this.mediaController.currentItem;\n    }\n\n    get duration() {\n        if (!this.mediaController) return null;\n\n        return this.mediaController.duration;\n    }\n\n    get currentTime() {\n        if (!this.mediaController) return null;\n\n        return this.mediaController.currentTime;\n    }\n\n    set currentTime(time) {\n        if (!this.mediaController) return;\n\n        this.mediaController.currentTime = time;\n    }\n\n    get isFullscreen() {\n        if (!this.fullscreenController) return null;\n        return this.fullscreenController.isFullscreen;\n    }\n\n    get playerType() {\n        return this.playerPlugin.type;\n    }\n\n    requestFullscreen() {\n        if (!this.fullscreenController) return;\n        this.fullscreenController.requestFullscreen();\n    }\n\n    cancelFullscreen() {\n        if (!this.fullscreenController) return;\n        this.fullscreenController.cancelFullscreen();\n    }\n\n    getPlayerByType(type, mediaItem) {\n        const playerPlugin = this.pluginLoader.getPlayerPluginByType(type, mediaItem);\n\n        if (this.playerPlugin) {\n            if (this.playerPlugin && this.playerPlugin.name !== playerPlugin.name) {\n                this.playerPlugin.unload();\n                this.playerWrapper.innerHTML = '';\n                this.playerPlugin = playerPlugin;\n                this.playerPlugin.load(mediaItem);\n            }\n        } else if (playerPlugin) {\n            this.playerPlugin = playerPlugin;\n            this.playerPlugin.load(mediaItem);\n        } else {\n            console.warn(`Could not find player with type '${type}'`);\n        }\n\n        return this.playerPlugin;\n    }\n\n    /**\n     * Sets the item.\n     *\n     * @param {object} item The item you want to play.\n     */\n    setItem(item) {\n        if (!item.type) {\n            throw new TypeError('Item must have a type attribute.');\n        } else if (item.type !== 'aditem' && item.type !== 'multi-source' && !item.src) {\n            throw new TypeError('Non-aditem items must have a src attribute.');\n        }\n\n        this.playlist = new Playlist([item], this);\n    }\n\n    setPlaylist(list) {\n        for (let i = 0; i < list.length; i += 1) {\n            if (!list[i].type) {\n                throw new TypeError(`Item ${i}: Item must have a type attribute.`);\n            } else if (list[i].type !== 'aditem'\n                && list[i].type !== 'multi-source'\n                && !list[i].src) {\n                throw new TypeError(`Item ${i}: Non-aditem items must have a src attribute.`);\n            }\n        }\n\n        this.playlist = new Playlist(list, this);\n    }\n\n    switchItem(item) {\n        this.mediaController.switchItem(item);\n    }\n\n    // Event handler shorthands.\n    on(hook, handler, caller) {\n        return this.eventHandler.on(hook, handler, caller);\n    }\n\n    one(hook, block, handler, caller) {\n        return this.eventHandler.one(hook, block, handler, caller);\n    }\n\n    trigger(...args) {\n        this.eventHandler.trigger(...args);\n    }\n\n    remove(events) {\n        this.eventHandler.remove(events);\n    }\n\n    disable(hook, callback) {\n        this.eventHandler.disable(hook, callback);\n    }\n\n    enable(hook, callback) {\n        this.eventHandler.enable(hook, callback);\n    }\n\n    error(message, code = 'ERR-9001', options = {}) {\n        console.error(`${code} - ${message}`);\n        this.eventHandler.trigger('error', {\n            message,\n            code,\n            options,\n        });\n    }\n\n    // Static methods.\n    static registerPlugin(name, plugin) {\n        return PluginLoader.register(name, plugin);\n    }\n\n    static registerMiddleware(name, plugin) {\n        return PluginLoader.registerMiddleware(name, plugin);\n    }\n\n    static get instances() {\n        return instances;\n    }\n}\n\nwindow.Meister = Meister;\n\n// Expose a way to extend\nMeister.MediaPlugin = Media;\nMeister.ParserPlugin = Parser;\nMeister.PlayerPlugin = Player;\nMeister.Ui = Ui;\nMeister.UiPlugin = UiPlugin;\nMeister.AnalyticsPlugin = Analytics;\nMeister.Middleware = Middleware;\nMeister.ProtoPlugin = ProtoPlugin;\n\n// Expose utils.\n// Meister.DRMUtils = DRMUtils;\nMeister.Browser = Browser;\n\n// Expose error codes.\nMeister.ErrorCodes = errorCodes;\n\n// TODO: Make this cleaner.\nMeister.PluginLoader = PluginLoader;\nMeister.Configuration = Configuration;\n\n// Backwards compatibility\nwindow.Vinson = Meister;\n\nexport default Meister;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/Meister.js","// import PluginLoader from './plugin-loader';\nimport MediaPlugin from './plugin-types/Media';\n\nclass Parallel extends MediaPlugin {\n    constructor(meister) {\n        super({ name: 'parallel-builtin' }, meister);\n\n        this.meister = meister;\n        this.plugins = [];\n\n        this.bitrates = null;\n        this.currentBitrateIndex = 0;\n\n        this.plugin = null;\n\n        this.eventStore = [];\n    }\n\n    isItemSupported(item) {\n        return new Promise((resolve) => {\n            if (item.type !== 'media') {\n                return resolve({\n                    supported: false,\n                    errorCode: Meister.ErrorCodes.WRONG_TYPE,\n                });\n            }\n\n            return resolve({\n                supported: true,\n            });\n        });\n    }\n\n    get currentItem() {\n        if (this.plugin) {\n            return this.plugin.currentItem;\n        }\n\n        return null;\n    }\n\n    process(item) {\n        return new Promise((resolve, reject) => {\n            const processPromises = [];\n\n            this.bitrates = item.bitrates;\n            this.currentBitrateIndex = Math.floor(this.bitrates.length / 2);\n\n            // Don't trigger bitrates for hls media.\n            const sampleItem = this.bitrates[this.currentBitrateIndex];\n\n            if (sampleItem.type !== 'm3u'\n                && sampleItem.type !== 'm3u8'\n                && sampleItem.type !== 'mpd'\n                && sampleItem.type !== 'dash'\n                && sampleItem.metadata\n            ) {\n                this.bitrates.sort((a, b) => a.metadata.bitrate - b.metadata.bitrate);\n\n                const selectableBitrates = [];\n                for (let i = 0; i < this.bitrates.length; i += 1) {\n                    const bitrate = this.bitrates[i];\n\n                    // If there is a defalt bitrate specified prefer that.\n                    if (bitrate.default) {\n                        this.currentBitrateIndex = i;\n                    }\n\n                    selectableBitrates.push({\n                        bitrate: bitrate.metadata.bitrate,\n                        index: i,\n                    });\n                }\n\n                this.meister.trigger('itemBitrates', {\n                    bitrates: selectableBitrates,\n                    currentIndex: this.currentBitrateIndex,\n                });\n            }\n\n            this.meister.pluginLoader.getPluginByItem(this.bitrates[this.currentBitrateIndex])\n                .then((itemPlugin) => {\n                    if (itemPlugin.errorCode) {\n                        this.meister.error(`Could not find plugin to play type: '${this.bitrates[this.currentBitrateIndex].type}'.`, //eslint-disable-line\n                            itemPlugin.errorCode, { title: 'Unable to play content.' });\n                        return;\n                    }\n\n                    this.plugin = itemPlugin;\n\n                    const getPluginsPromises = [];\n\n                    processPromises.push(\n                        this.plugin.process(this.bitrates[this.currentBitrateIndex]),\n                    );\n\n                    // Get all plugins for each parallelItem\n                    item.parallel.forEach((parallelItem) => {\n                        const plugin = this.meister.pluginLoader.getPluginByItem(parallelItem);\n                        if (plugin.errorCode) {\n                            return;\n                        }\n\n                        getPluginsPromises.push(plugin);\n                    });\n\n                    Promise.all(getPluginsPromises).then((plugins) => {\n                        // Process all plugins..\n                        plugins.forEach((plugin, index) => {\n                            if (!plugin.errorCode) {\n                                this.plugins.push(plugin);\n\n                                processPromises.push(plugin.process(item.parallel[index]));\n                            }\n                        });\n\n                        Promise.all(processPromises)\n                            .then(() => {\n                                resolve(item);\n                            })\n                            .catch((err) => {\n                                reject(err);\n                            });\n                    });\n                });\n        });\n    }\n\n    load(item) {\n        this.plugin.load(this.bitrates[this.currentBitrateIndex]);\n\n        this.plugins.forEach((plugin, index) => {\n            // XXX: Not sure if this should work.\n            plugin.load(item.parallel[index]);\n        });\n\n        if (!this.plugin.onRequestBitrate) {\n            this.on('requestBitrate', info => this.onRequestBitrate(info.bitrateIndex));\n        }\n    }\n\n    get duration() {\n         if (!this.plugin) { return NaN; }\n\n         return this.plugin.duration;\n     }\n\n     get currentTime() {\n         if (!this.plugin) { return NaN; }\n\n         return this.plugin.currentTime;\n     }\n\n     set currentTime(time) {\n         if (!this.plugin) { return; }\n         this.plugin.currentTime = time;\n     }\n\n    unload() {\n        super.unload();\n\n        // Unload the main plugin.\n        if (this.plugin) this.plugin.unload();\n\n        // Unload parallel plugins.\n        this.plugins.forEach((plugin) => {\n            plugin.unload();\n        });\n\n        this.plugins = [];\n    }\n\n    onRequestBitrate(index) {\n        // No need to do anything when the same bitrate is requested.\n        if (this.currentBitrateIndex === index) {\n            return;\n        }\n\n        this.currentBitrateIndex = index;\n\n        if (this.plugin && this.plugin.changeBitrate) {\n            this.plugin.changeBitrate(this.currentBitrateIndex);\n            return;\n        }\n\n        // Assuming variant bitrates are the same type\n        const switchTime = this.meister.currentTime;\n        const wasPlaying = this.meister.playing;\n\n        // HACK: This can be done way prettier.\n        this.plugin.unload();\n        this.plugin.load(this.bitrates[this.currentBitrateIndex]);\n        this.meister.currentTime = switchTime;\n        if (wasPlaying) this.meister.play();\n\n        const newBitrate = this.bitrates[this.currentBitrateIndex].metadata\n            ? this.bitrates[this.currentBitrateIndex].metadata.bitrate\n            : 0;\n\n        this.meister.trigger('playerSwitchBitrate', {\n            newBitrate,\n            newBitrateIndex: index,\n        });\n    }\n}\n\nexport default Parallel;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/Parallel.js","class Playlist {\n    constructor(list, meister) {\n        this.list = list;\n        this.meister = meister;\n\n        this.index = 0;\n\n        this.meister.on('playlistNext', () => this.next());\n        this.meister.on('playlistPrevious', () => this.previous());\n        this.meister.on('playlistGoTo', e => this.goTo(e.index));\n\n        this.meister.on('playerEnd', () => {\n            if (this.meister.config.autoplay && this.index < this.list.length - 1) {\n                this.next();\n            }\n        });\n    }\n\n    loadCurrentIndex() {\n        this.meister.trigger('showLoading', {\n            code: 'INITIALIZING',\n        });\n\n        const item = this.list[this.index];\n        this.getPluginFor(item).then((plugin) => {\n            this.meister.trigger('playlistMetadata', item);\n\n            // Check whether it is a parsing plugin\n            if (plugin instanceof Meister.ParserPlugin) {\n                plugin.process(item)\n                .then((newItem) => {\n                    if (newItem instanceof Array) {\n                        // Replace the current index with the returned array.\n                        const newList = this.list.slice(0, this.index);\n                        newList.push(...newItem);\n                        newList.push(...this.list.slice(this.index + 1));\n\n                        this.list = newList;\n                    } else {\n                        this.list[this.index] = newItem;\n                    }\n\n                    this.loadCurrentIndex();\n                })\n                .catch((err) => {\n                    console.error(`Could not process item with type: ${item.type} and src: ${item.src}. \\n${err}`);\n                });\n            } else if (plugin instanceof Meister.MediaPlugin) {\n                // Not very idiomatic.\n                this.meister.switchItem(item);\n\n                // Inform player of the state of the playlist.\n                this.meister.trigger('playlistInfo', {\n                    currentIndex: this.index,\n                    length: this.list.length,\n                });\n            }\n        }).catch((err) => {\n            this.meister.error(`Could not find plugin to play type: '${item.type}'.`,\n                err.errorCode, { title: 'Unable to play content.' });\n            console.error(`Could not load item with type: '${item.type}' and src: '${item.src}'.`);\n        });\n    }\n\n    next() {\n        const newIndex = this.index + 1;\n        this.goTo(newIndex);\n    }\n\n    previous() {\n        const newIndex = this.index - 1;\n        this.goTo(newIndex);\n    }\n\n    goTo(newIndex) {\n        if (newIndex < 0 || newIndex >= this.list.length) {\n            console.error(`Playlist index '${newIndex}' is out of bounds.`);\n            return;\n        }\n\n        this.index = newIndex;\n        this.loadCurrentIndex();\n    }\n\n    getPluginFor(item) {\n        return this.meister.pluginLoader.getPluginByItem(item).then((result) => {\n            if (result.errorCode) {\n                throw result;\n            }\n\n            return result;\n        });\n    }\n}\n\nexport default Playlist;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/Playlist.js","import Configuration from './Configuration';\nimport Parallel from './Parallel';\n\nconst registeredPlugins = [];\nconst loaded = [];\n\nconst registeredMiddleware = [];\n\nclass PluginLoader {\n\n    constructor(meister) {\n        this.loaded = [];\n        this.meister = meister;\n    }\n\n    static getRegistered() {\n        return registeredPlugins;\n    }\n\n    static getLoaded() {\n        return loaded;\n    }\n\n    static get(name) {\n        return registeredPlugins.find(plugin => (plugin.name === name));\n    }\n\n    getLoadedPlugin(name) {\n        return this.loaded.find(plugin => (plugin.name === name));\n    }\n\n    static getMiddleware(name) {\n        return registeredMiddleware.find(plugin => (plugin.name === name));\n    }\n\n    config(options, instance) {\n        // Merge with the builtIn plugins\n        const newOptions = {};\n        if (Meister.builtIn) {\n            Object.keys(Meister.builtIn).forEach((key) => {\n                if (options[key]) {\n                    return;\n                }\n\n                newOptions[key] = Meister.builtIn[key];\n            });\n        }\n\n        Object.assign(newOptions, options);\n\n        Object.keys(newOptions).forEach((key) => {\n            const plugin = PluginLoader.get(key);\n\n            if (!plugin) {\n                if (key !== 'global') {\n                    console.warn(`${key} is not a registered plugin.`);\n                }\n\n                return;\n            }\n\n            let pluginConfig = {};\n            pluginConfig = Configuration.get(key);\n            pluginConfig.name = key;\n\n            const next = item => PluginLoader.execMiddleware(pluginConfig.middleware, instance, item);\n\n            this.loaded.push({\n                name: plugin.name,\n                plugin: new plugin.Plugin(pluginConfig, instance, next),\n                middleware: pluginConfig.middleware,\n            });\n        });\n\n        // Register built-in plugins.\n        this.loaded.push({\n            name: 'parallel',\n            plugin: new Parallel(instance),\n        });\n    }\n\n    static execMiddleware(middlewares, instance, item) {\n        const result = [];\n\n        // No middlewares? Just return the item. This way we fake a middleware.\n        if (!middlewares || !middlewares.length) {\n            return new Promise((resolve) => {\n                resolve(item);\n            });\n        }\n\n        middlewares.forEach((middleware) => {\n            const middlewareObject = this.getMiddleware(middleware);\n\n            result.push(new middlewareObject.Middleware({}, instance));\n        });\n\n        return this.processMiddlewares(result, item);\n    }\n\n    static processMiddlewares(middlewares, item, index = 0) {\n        return middlewares[index].process(item).then((newItem) => {\n            if (middlewares[index + 1]) {\n                return this.processMiddlewares(middlewares, newItem, index + 1);\n            }\n\n            return newItem;\n        });\n    }\n\n    getPluginByItem(item) {\n        // When DRM is set on an item, let the player know.\n        if (item.drmConfig) {\n            this.meister.trigger('drmConfig', item.drmConfig);\n        }\n\n        const isItemSupportedPromises = [];\n        const pluginsInConsideration = [];\n\n        // Add all plugin which have the isItemSupported method to a promise array.\n        this.loaded.forEach((plugin) => {\n            if (plugin.plugin.isItemSupported) {\n                pluginsInConsideration.push(plugin);\n                const isSupported = plugin.plugin.isItemSupported(item);\n\n                isItemSupportedPromises.push(isSupported);\n            }\n        });\n\n        // Go through all the items and search for a plugin that can handle the item.\n        return Promise.all(isItemSupportedPromises).then((items) => {\n            // Search for the plugin that returned true and map that to the loaded plugins\n            let errorCode = Meister.ErrorCodes.WRONG_TYPE;\n            for (let i = 0; i < items.length; i += 1) {\n                const supportInfo = items[i];\n\n                if (supportInfo.supported) {\n                    return pluginsInConsideration[i].plugin;\n                }\n\n                if (supportInfo.errorCode !== Meister.ErrorCodes.WRONG_TYPE) {\n                    errorCode = supportInfo.errorCode;\n                }\n            }\n\n            return { errorCode };\n        });\n    }\n\n    getPlayerPluginByType(type) {\n        const playerPlugin = this.loaded.find((plugin) => {\n            if (plugin.plugin.isTypeSupported) {\n                return plugin.plugin.isTypeSupported(type);\n            }\n\n            return false;\n        });\n\n        return playerPlugin ? playerPlugin.plugin : null;\n    }\n\n    drawUiPlugins() {\n        this.loaded.forEach((plugin) => {\n            if (plugin.plugin.draw) {\n                plugin.plugin.draw();\n            }\n        });\n    }\n\n    loadAnalyticsPlugins() {\n        this.loaded.forEach((plugin) => {\n            if (plugin.plugin.isAnalytics) {\n                plugin.plugin.load();\n            }\n        });\n    }\n\n    static register(name, plugin) {\n        const alreadyRegistered = this.get(name);\n\n        if (alreadyRegistered) {\n            console.warn(`Plugin ${name} is already registered. Overriding previous version.`);\n            alreadyRegistered.Plugin = plugin;\n            return;\n        }\n\n        registeredPlugins.push({\n            name,\n            Plugin: plugin,\n        });\n    }\n\n    static registerMiddleware(name, middleware) {\n        const alreadyRegistered = this.getMiddleware(name);\n\n        if (alreadyRegistered) {\n            console.warn(`Middleware ${name} is already registered. Overriding previous version.`);\n            alreadyRegistered.Middleware = middleware\n            return;\n        }\n\n        registeredMiddleware.push({\n            name,\n            Middleware: middleware,\n        });\n    }\n}\n\nexport default PluginLoader;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/PluginLoader.js","const errorCodes = {\n    // Plugin is unable to process items of the passed type.\n    WRONG_TYPE: 'MSTR-0001',\n    // Plugin does not play in current browser.\n    NOT_SUPPORTED: 'MSTR-0002',\n    // Media type does not support drm playback in current browser.\n    NO_DRM: 'MSTR-0003',\n    // Media not found.\n    NO_MEDIA_FOUND: 'MSTR-0404',\n    // Custom Fairplay contentId function threw an error.\n    FAIRPLAY_CONTENT_ID_FUNCTION_ERROR: 'MSTR-1001',\n};\n\nexport default errorCodes;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/errorCodes.js","const AdEvents = [\n    'adBreakStarted',\n    'adBreakEnded',\n    'adStarted',\n    'adEnded',\n    'adTimeupdate',\n    'adCuePoints',\n];\n\nexport default AdEvents;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/events/ad-events.js","const ControlEvents = [\n    'requestPlay',\n    'requestSeek',\n    'requestPause',\n    'requestBitrate',\n];\n\nexport default ControlEvents;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/events/control-events.js","const GlobalEvents = [\n    'windowFocusChange',\n    'windowVisibilityChange',\n];\n\nexport default GlobalEvents;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/events/global-events.js","const ItemEvents = [\n    'itemLoadPrevented',\n    'itemLoaded',\n    'itemUnloaded',\n    'itemMetadata',\n    'itemTimeInfo',\n    'itemLanguages',\n    'itemCaptions',\n    'itemBitrates',\n    'itemImagestream',\n];\n\nexport default ItemEvents;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/events/item-events.js","const PlayerEvents = [\n    'playerCreated',\n    'playerDestroyed',\n    '_playerTimeUpdate',\n    'playerTimeUpdate',\n    'playerPlay',\n    'playerPlaying',\n    'playerFirstPlay',\n    'playerReplay',\n    'playerPause',\n    '_playerSeek',\n    'playerSeek',\n    'playerSeeking',\n    'playerNudge',\n    'playerEnd',\n    'playerError',\n    'playerVolumeChange',\n    'playerFullscreen',\n    'playerSwitchBitrate',\n    'playerAutoSwitchBitrate',\n    'playerProgress',\n    'playerLoadedMetadata',\n    'playerDurationChange',\n    'playerBuffering',\n    'playerBufferedEnough',\n    'playerRemoteConnecting',\n    'playerRemoteConnected',\n    'playerRemoteDisconnected',\n];\n\nexport default PlayerEvents;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/events/player-events.js","const PlaylistEvents = [\n    'playlistInfo',\n    'playlistNext',\n    'playlistPrevious',\n    'playlistGoTo',\n    'playlistMetadata',\n];\n\nexport default PlaylistEvents;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/events/playlist-events.js","const UiEvents = [\n    'uiReady',\n    'uiPluginInserted',\n    'uiPluginOpen',\n    'uiPluginClose',\n];\n\nexport default UiEvents;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/events/ui-events.js","import noop from 'noop2';\n\nclass EventHandler {\n    constructor(eventHooks) {\n        this.counter = 0;\n        this.disabledHandles = [];\n\n        // Protected handles are callbacks that cannot be blocked and thus\n        // protected.\n        this.protectedHandles = {};\n\n        // Register the default event hooks.\n        this.stack = {};\n        for (let i = 0; i < eventHooks.length; i += 1) {\n            const eventHook = eventHooks[i];\n\n            this.stack[eventHook] = [];\n        }\n    }\n\n    on(hooks, method, caller = 'Anonymous') {\n        // Check whether the method is a function.\n        if (!(method instanceof Function)) {\n            console.error('EventHandler: Provided handler is not a function.');\n            return;\n        }\n\n        // Convert hooks to an array to keep flow similar.\n        if (!(hooks instanceof Array)) {\n            hooks = [hooks];\n        }\n\n        // Register the handle on all hooks.\n        const newHandles = [];\n        for (let i = 0; i < hooks.length; i += 1) {\n            let hook = hooks[i];\n\n            if (!this.stack[hook]) {\n                this.stack[hook] = [];\n            }\n\n            const newHandle = this._createHandler(caller, method);\n            this.stack[hook].push(newHandle);\n\n            newHandles.push({\n                id: newHandle.id,\n                hook,\n            });\n        }\n\n        // Return an array of objects that can be used to remove the handlers.\n        return newHandles;\n    }\n\n    one(hook, block, method, caller = 'Anonymous') {\n        // Check whether block is present, if not change parameters\n        if (typeof block !== 'boolean') {\n            caller = method;\n            method = block;\n            block = false;\n        }\n\n        // Check whether the method is a function.\n        if (!(method instanceof Function)) {\n            console.error('EventHandler: Provided handler is not a function.');\n            return;\n        }\n\n        if (!this.stack[hook]) {\n            this.stack[hook] = [];\n        }\n\n        if (!this.stack[hook].one) {\n            this.stack[hook].one = [];\n        }\n\n        const newHandle = this._createHandler(caller, method, block);\n        this.stack[hook].one.push(newHandle);\n\n        // Return an object that can be used to remove the handler.\n        return {\n            id: newHandle.id,\n            hook,\n        };\n    }\n\n    _createHandler(caller, method, block = false) {\n        const newHandle = {\n            id: this.counter,\n            caller,\n            method,\n            block,\n        };\n\n        this.counter += 1;\n\n        return newHandle;\n    }\n\n    remove(events) {\n        // Convert hooks to an array to keep flow similar.\n        if (!(events instanceof Array)) events = [events];\n\n        for (let i = 0; i < events.length; i += 1) {\n            const eventObject = events[i];\n            let removed = false;\n\n            // First check the single handlers.\n            if (this.stack[eventObject.hook].one) {\n                for (let i = 0; i < this.stack[eventObject.hook].one.length; i += 1) {\n                    const trigger = this.stack[eventObject.hook].one[i];\n\n                    // Since ID's are unique break after finding one.\n                    if (trigger.id === eventObject.id) {\n                        this.stack[eventObject.hook].one.splice(i, 1);\n                        removed = true;\n                        break;\n                    }\n                }\n\n                // No more single handlers so delete the array.\n                if (this.stack[eventObject.hook].one.length === 0) {\n                    delete this.stack[eventObject.hook].one;\n                }\n\n                // Again, since ID's are unique don't bother checking the rest after removing one.\n                if (removed) continue;\n            }\n\n            // Now check regular handlers.\n            for (let i = 0; i < this.stack[eventObject.hook].length; i += 1) {\n                const trigger = this.stack[eventObject.hook][i];\n\n                // Since ID's are unique break after finding one.\n                if (trigger.id === eventObject.id) {\n                    this.stack[eventObject.hook].splice(i, 1);\n                    break;\n                }\n            }\n        }\n    }\n\n    // Removes all events from eventhandler.\n    // This can be used to release memory when the application is finished.\n    destroy() {\n        Object.keys(this.stack).forEach((key) => {\n            this.stack[key].forEach((event) => {\n                this.remove({ id: event.id, hook: key });\n            });\n        });\n    }\n\n    trigger(...args) {\n        // Extract the first element as the hook.\n        const hook = args.splice(0, 1)[0];\n\n        // Check whether the event exists.\n        if (!this.stack[hook]) {\n            // console.warn(`EventHandler: '${hook}' is not a registered event.`);\n            return;\n        }\n\n        // Check whether the event has been disabled.\n        if (this.disabledHandles.indexOf(hook) !== -1) {\n            // Check whether we have a protected handler if we do trigger that.\n            if (this.protectedHandles[hook]) {\n                this.protectedHandles[hook](args);\n            }\n\n            console.debug(`EventHandler: '${hook}' is disabled, skipping trigger`);\n            return;\n        }\n\n        // Check whether there are any registered handlers.\n        if (this.stack[hook].length === 0 && !this.stack[hook].one) {\n            // console.debug(`EventHandler: no handlers registered for '${hook}'`);\n            return;\n        }\n\n        if (this.stack[hook].one) {\n            let block = false;\n\n            for (let i = 0; i < this.stack[hook].one.length; i += 1) {\n                const single = this.stack[hook].one[i];\n\n                // Only check for blocking when not already blocked.\n                if (!block) block = single.block;\n\n                try {\n                    single.method.apply(null, args);\n                } catch (e) {\n                    console.error(`EventHandler: Handle from '${single.caller}' for '${hook}' failed. Error: ${e}`);\n                }\n            }\n\n            delete this.stack[hook].one;\n\n            // Should block, do not trigger regular handlers.\n            if (block) return;\n        }\n\n        // Trigger all regular handles associated with the hook.\n        for (let i = 0; i < this.stack[hook].length; i += 1) {\n            const eventHandle = this.stack[hook][i];\n\n            try {\n                eventHandle.method.apply(null, args);\n            } catch (e) {\n                console.error(`EventHandler: Handle from '${eventHandle.caller}' for '${hook}' failed. Error: ${e}`);\n            }\n        }\n    }\n\n    disable(hook, callback = noop) {\n        this.protectedHandles[hook] = callback;\n\n        if (this.disabledHandles.indexOf(hook) === -1) {\n            this.disabledHandles.push(hook);\n        }\n    }\n\n    enable(hook) {\n        this.protectedHandles[hook] = noop;\n\n        const hookIndex = this.disabledHandles.indexOf(hook);\n\n        if (hookIndex !== -1) {\n            this.disabledHandles.splice(hookIndex, 1);\n        }\n    }\n}\n\nexport default EventHandler;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/lib/triple/event-handler.js","const English = {\n    VIDEO_ACQUIRING_LICENSE: 'Acquiring license..',\n    VIDEO_BUFFERING: 'Buffering...',\n    VIDEO_ACQUIRING_MANIFEST: 'Retrieving manifest..',\n    INITIALIZING: 'Initializing',\n    NONE: 'None',\n};\n\n\nexport default English;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/localization/default-en.js","const Dutch = {\n    VIDEO_ACQUIRING_LICENSE: 'Ophalen licentie..',\n    VIDEO_BUFFERING: 'Bufferen...',\n    VIDEO_ACQUIRING_MANIFEST: 'Ophalen manifest..',\n    INITIALIZING: 'Initialiseren',\n    NONE: 'Geen',\n};\n\nexport default Dutch;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/localization/default-nl.js","const i18n = {\n    VIDEO_ACQUIRING_LICENSE: {\n        en: 'Acquiring license..',\n        nl: 'Ophalen licentie..',\n    },\n    VIDEO_BUFFERING: {\n        en: 'Buffering...',\n        nl: 'Bufferen...',\n    },\n    VIDEO_ACQUIRING_MANIFEST: {\n        en: 'Retrieving manifest..',\n        nl: 'Ophalen manifest...',\n    },\n    INITIALIZING: {\n        en: 'Initializing',\n        nl: 'Initialiseren',\n    },\n    NONE: {\n        en: 'None',\n        nl: 'Geen',\n    },\n};\nexport default i18n;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/localization/i18n.js","import ProtoPlugin from './ProtoPlugin';\nimport EventDefaults from '../events/default-events';\n\nclass Analytics extends ProtoPlugin {\n    isAnalytics() {\n\n    }\n\n    load() {\n        for (let i = 0; i < EventDefaults.length; i++) {\n            const eventHandle = EventDefaults[i];\n            const uppercasedHandle = eventHandle.charAt(0).toUpperCase() + eventHandle.substring(1);\n            const funcName = `on${uppercasedHandle}`;\n\n            if (this[funcName]) {\n                this.on(eventHandle, (e) => this[funcName](e));\n            }\n        }\n    }\n\n    unload() {\n        super.unload();\n    }\n\n    onPlayerRemoteConnected() {\n        this.deferLogging = true;\n    }\n\n    onPlayerRemoteDisconnected() {\n        this.deferLogging = false;\n    }\n}\n\nexport default Analytics;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/plugin-types/Analytics.js","import ProtoPlugin from './ProtoPlugin';\n\nclass Middleware extends ProtoPlugin {\n    isItemSupported() {\n        return new Promise(resolve => resolve({\n            supported: false,\n            errorCode: Meister.ErrorCodes.WRONG_TYPE,\n        }));\n    }\n\n    process(item) {\n        return new Promise((resolve) => {\n            resolve(item);\n        });\n    }\n}\n\nexport default Middleware;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/plugin-types/Middleware.js","import ProtoPlugin from './ProtoPlugin';\n\nclass Parser extends ProtoPlugin {\n    isItemSupported() {\n        return new Promise(resolve => resolve({\n            supported: false,\n            errorCode: Meister.ErrorCodes.WRONG_TYPE,\n        }));\n    }\n\n    process(item) {\n        return new Promise((resolve) => {\n            console.error('Process not implemented. Player may not play correctly.');\n            resolve(item);\n        });\n    }\n\n    unload() {\n        super.unload();\n    }\n}\n\nexport default Parser;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/plugin-types/Parser.js","import ProtoPlugin from './ProtoPlugin';\nimport Cookie from '../lib/triple/cookie';\n\nclass Player extends ProtoPlugin {\n    constructor(config, meister) {\n        super(config, meister);\n\n        this.wrapper = this.meister.playerWrapper;\n\n        this.mediaElement = null;\n    }\n\n    isTypeSupported() {\n        return false;\n    }\n\n    load() {\n        this.on('requestPlay', this.play.bind(this));\n        this.on('requestPause', this.pause.bind(this));\n\n        this.one('playerCreated', () => {\n            const cookieVolume = Cookie.get('volume');\n\n            if (cookieVolume) {\n                this.volume = cookieVolume;\n            }\n        });\n    }\n\n    unload() {\n        super.unload();\n        this.mediaElement = null;\n    }\n\n    hide() {\n        this.mediaElement.style.display = 'none';\n    }\n\n    show() {\n        this.mediaElement.style.display = 'block';\n    }\n\n    play() {\n\n    }\n\n    pause() {\n\n    }\n\n    get currentTime() {\n        console.warn('currentTime getter is not defined.');\n    }\n\n    set currentTime(time) {\n        console.warn(`currentTime setter is not defined. Can't process ${time}.`);\n    }\n\n    get duration() {\n        console.warn('duration getter is not defined.');\n    }\n\n    get playing() {\n        console.warn('playing getter is not defined.');\n    }\n\n    get buffered() {\n        console.warn('bufferd getter is not defined.');\n    }\n\n    get controls() {\n        console.warn('controls getter is not defined.');\n    }\n\n    set controls(controls) {\n        console.warn(`controls setter is not defined. Can't process ${controls}.`);\n    }\n\n    get currentSrc() {\n        console.warn('currentSrc getter is not defined.');\n    }\n\n    set currentSrc(url) {\n        console.warn(`currentSrc setter is not defined. Can't process ${url}.`);\n    }\n\n    get type() {\n        return this.playerType;\n    }\n\n    set type(playerType) {\n        this.playerType = playerType;\n    }\n}\n\nexport default Player;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/plugin-types/Player.js","import ProtoPlugin from './ProtoPlugin';\n\nclass Ui extends ProtoPlugin {\n    constructor(config, meister) {\n        super(config, meister);\n\n        this.controlsWrapper = this.meister.controlsWrapper;\n\n        this.element = null;\n    }\n}\n\nexport default Ui;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/plugin-types/Ui.js","import ProtoPlugin from './ProtoPlugin';\n\nclass UiPlugin extends ProtoPlugin {\n    constructor(config, meister) {\n        super(config, meister);\n\n        this.element = null;\n\n        const querySelector = this.config.parentSelector;\n        if (querySelector) {\n            this.parentElement = document.querySelector(querySelector);\n\n            if (!this.parentElement) {\n                console.warn(`Unable to find element with parentSelector '${querySelector}', ${this.name} is disabled.`);\n            }\n        } else {\n            this.one('uiReady', e => this.onUiReady(e));\n        }\n    }\n\n    onPluginOpen(e) {\n        if (e.name !== this.name) {\n            return;\n        }\n\n        this.element.classList.remove('pf-ui-element-hidden');\n    }\n\n    onPluginClose() {\n        this.element.classList.add('pf-ui-element-hidden');\n    }\n\n    onUiReady(e) {\n        const parent = e.pluginSpace;\n\n        parent.appendChild(this.element);\n        this.element.classList.add('pf-ui-element-hidden');\n\n        // Only listen to these events once attached.\n        this.on('uiPluginOpen', this.onPluginOpen.bind(this));\n        this.on('uiPluginClose', this.onPluginClose.bind(this));\n\n        this.meister.trigger('uiPluginInserted', {\n            icon: this.config.icon,\n            name: this.name,\n        });\n    }\n\n    draw() {\n        if (this.parentElement) {\n            this.parentElement.appendChild(this.element);\n        }\n    }\n}\n\nexport default UiPlugin;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/plugin-types/UiPlugin.js","// 'Inspired' by https://github.com/clappr/clappr/blob/master/src/components/browser.js\n\nconst Browser = {};\n\nconst userAgent = navigator.userAgent;\n\nconst browserInfo = () => {\n    const uaRegEx = /\\b(playstation 4|nx|opera|chrome|edge|safari|firefox|msie|trident(?=\\/))\\/?\\s*(\\d+)/i; //eslint-disable-line\n    let parts = userAgent.match(uaRegEx) || [];\n    let extra;\n\n    if (/trident/i.test(parts[1])) {\n        extra = /\\brv[ :]+(\\d+)/g.exec(userAgent) || [];\n        return { name: 'IE', version: parseInt(extra[1] || '', 10) };\n    } else if (parts[1] === 'Chrome') {\n        extra = userAgent.match(/\\bOPR\\/(\\d+)/);\n        if (extra !== null) {\n            return { name: 'Opera', version: parseInt(extra[1], 10) };\n        }\n\n        extra = userAgent.match(/\\bEdge\\/(\\d+\\.\\d+)/);\n        if (extra !== null) {\n            return { name: 'Edge', version: parseFloat(extra[1]) };\n        }\n    }\n    parts = parts[2] ? [parts[1], parts[2]] : [navigator.appName, navigator.appVersion, '-?'];\n\n    extra = userAgent.match(/version\\/(\\d+)/i);\n    if (extra) {\n        parts.splice(1, 1, extra[1]);\n    }\n\n    return { name: parts[0], version: parseInt(parts[1], 10) };\n};\n\nconst info = browserInfo();\n\nBrowser.isSafari = /safari/i.test(userAgent) && userAgent.indexOf('Chrome') === -1;\nBrowser.isEdge = /edge/i.test(userAgent);\nBrowser.isChrome = /chrome/i.test(userAgent) && !Browser.isEdge;\nBrowser.isChrome64 = Browser.isChrome && /\\bx64/i.test(userAgent);\nBrowser.isFirefox = /firefox/i.test(userAgent);\nBrowser.isLegacyIE = !!(window.ActiveXObject);\nBrowser.isIE = Browser.isLegacyIE || /trident.*rv:1\\d/i.test(userAgent);\nBrowser.isIE11 = /trident.*rv:11/i.test(userAgent);\nBrowser.isChromecast = Browser.isChrome && /CrKey/i.test(userAgent);\nBrowser.isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone|IEMobile|Opera Mini/i.test(userAgent); //eslint-disable-line\nBrowser.isiOS = /iPad|iPhone|iPod/i.test(userAgent);\n\nBrowser.isAndroid = /Android/i.test(userAgent);\nBrowser.isWindowsPhone = /Windows Phone/i.test(userAgent);\nBrowser.isWin8App = /MSAppHost/i.test(userAgent);\nBrowser.isWiiU = /WiiU/i.test(userAgent);\nBrowser.isPS4 = /PlayStation 4/i.test(userAgent);\nBrowser.isSamsungBrowser = /SamsungBrowser/i.test(userAgent);\nBrowser.isSamsung = /SAMSUNG/i.test(userAgent);\nBrowser.isMacintosh = /Macintosh/i.test(userAgent);\nBrowser.isFacebook = /FBAN/i.test(userAgent) && /FBAV/i.test(userAgent);\n\nBrowser.name = info.name;\nBrowser.version = info.version;\n\nBrowser.isNonAutoPlay = false;\n\nif (Browser.isMobile) {\n    Browser.isNonAutoPlay = true;\n} else if (Browser.isSafari && Browser.version >= 11) {\n    Browser.isNonAutoPlay = true;\n}\n\nexport default Browser;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/utils/Browser.js","class BrowserPolyfill {\n    static init() {\n        if (!('remove' in Element.prototype)) {\n            Element.prototype.remove = function remove() {\n                if (this.parentNode) {\n                    this.parentNode.removeChild(this);\n                }\n            };\n        }\n    }\n}\n\nexport default BrowserPolyfill;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/utils/BrowserPolyfill.js","class ElementUtils {\n    static classListAdd(element, ...classNames) {\n        for (let i = 0; i < classNames.length; i += 1) {\n            const className = classNames[i];\n\n            element.classList.add(className);\n        }\n    }\n\n    static classListRemove(element, ...classNames) {\n        for (let i = 0; i < classNames.length; i += 1) {\n            const className = classNames[i];\n\n            element.classList.remove(className);\n        }\n    }\n}\n\nexport default ElementUtils;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/utils/ElementUtils.js","export function timeToHMS(time) {\n    if (isNaN(time)) return '-';\n\n    const hours = Math.floor(time / 3600);\n    let minutes = Math.floor((time - (hours * 3600)) / 60);\n    let seconds = time - (hours * 3600) - (minutes * 60);\n\n    if (hours !== 0 && minutes < 10) {\n        minutes = `0${minutes}`;\n    }\n    if (seconds < 10) {\n        seconds = `0${seconds}`;\n    }\n\n    if (hours !== 0) {\n        return `${hours}:${minutes}:${seconds}`;\n    }\n\n    return `${minutes}:${seconds}`;\n}\n\nexport function bitrateToResolution(bitrate) {\n    // A negative bitrate does not make sense\n    if (bitrate < 0) {\n        return NaN;\n    }\n\n    const kbps = bitrate / 1000;\n    return `${kbps}Kbps`;\n\n    // let bitsps = bitrate * 8;\n    // let e = Math.floor(Math.log(bitsps) / Math.log(1000));\n    // let mbits = bitsps / Math.pow(1000, Math.floor(e));\n\n    // Following what we assume the platform outputs:\n    // https://www.theplatform.com/blog/publishing-mpx-accelerate/\n    // if (mbits <= 2) {\n    //     return '240p';\n    // } else if (mbits <= 4.5) {\n    //     return '360p';\n    // } else if (mbits <= 9) {\n    //     return '480p';\n    // } else if (mbits <= 13) {\n    //     return '720p';\n    // } else {\n    //     return '1080p';\n    // }\n\n\n    // Roughly following youtube guidelines:\n    // https://support.google.com/youtube/answer/1722171?hl=en\n    // if (mbits <= 2) {\n    //     return '360p';\n    // } else if (mbits <= 5) {\n    //     return '480p';\n    // } else if (mbits <= 8) {\n    //     return '720p';\n    // } else if (mbits <= 16) {\n    //     return '1080p';\n    // } else if (mbits <= 35) {\n    //     return '1440p';\n    // } else {\n    //     return '2160p';\n    // }\n}\n\n/**\n * Constructs a new URI by interpreting a path relative to another\n * URI.\n * @param basePath {string} a relative or absolute URI\n * @param path {string} a path part to combine with the base\n * @return {string} a URI that is equivalent to composing `base`\n * with `path`\n * @see http://stackoverflow.com/questions/470832/getting-an-absolute-url-from-a-relative-one-ie6-issue\n */\nexport function resolveUrl(basePath, path) {\n    // use the base element to get the browser to handle URI resolution\n    const oldBase = document.querySelector('base');\n    const docHead = document.querySelector('head');\n    const a = document.createElement('a');\n    let base = oldBase;\n    let oldHref;\n\n    // prep the document\n    if (oldBase) {\n        oldHref = oldBase.href;\n    } else {\n        base = docHead.appendChild(document.createElement('base'));\n    }\n\n    base.href = basePath;\n    a.href = path;\n    const result = a.href;\n\n    // clean up\n    if (oldBase) {\n        oldBase.href = oldHref;\n    } else {\n        docHead.removeChild(base);\n    }\n    return result;\n}\n\n/**\n * Simple evaluator if the given element is\n * an node object or not and returns a Boolean.\n * @param node {any} anything that will be evaluated if it is a Node Object\n * @see http://stackoverflow.com/a/384380\n*/\nexport function isDOMNode(node) {\n    try {\n        return node instanceof HTMLElement;\n    } catch (e) {\n        return (typeof node === 'object') &&\n            (node.nodeType === 1) && (typeof node.style === 'object') &&\n            (typeof node.ownerDocument === 'object');\n    }\n}\n\n/*\n    Exports\n------------------------------------------ */\nexport default {\n    timeToHMS,\n    bitrateToResolution,\n    resolveUrl,\n    isDOMNode,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/utils/Utils.js"],"sourceRoot":""}